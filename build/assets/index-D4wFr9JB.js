(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var Lw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ry={exports:{}},du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw=Symbol.for("react.transitional.element"),Rw=Symbol.for("react.fragment");function zy(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:Dw,type:e,key:a,ref:t!==void 0?t:null,props:n}}du.Fragment=Rw;du.jsx=zy;du.jsxs=zy;Ry.exports=du;var i=Ry.exports,Oy={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df=Symbol.for("react.transitional.element"),zw=Symbol.for("react.portal"),Ow=Symbol.for("react.fragment"),Uw=Symbol.for("react.strict_mode"),Bw=Symbol.for("react.profiler"),Hw=Symbol.for("react.consumer"),Iw=Symbol.for("react.context"),Fw=Symbol.for("react.forward_ref"),qw=Symbol.for("react.suspense"),Zw=Symbol.for("react.memo"),Uy=Symbol.for("react.lazy"),Jp=Symbol.iterator;function $w(e){return e===null||typeof e!="object"?null:(e=Jp&&e[Jp]||e["@@iterator"],typeof e=="function"?e:null)}var By={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hy=Object.assign,Iy={};function tr(e,t,n){this.props=e,this.context=t,this.refs=Iy,this.updater=n||By}tr.prototype.isReactComponent={};tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fy(){}Fy.prototype=tr.prototype;function Rf(e,t,n){this.props=e,this.context=t,this.refs=Iy,this.updater=n||By}var zf=Rf.prototype=new Fy;zf.constructor=Rf;Hy(zf,tr.prototype);zf.isPureReactComponent=!0;var eg=Array.isArray,et={H:null,A:null,T:null,S:null,V:null},qy=Object.prototype.hasOwnProperty;function Of(e,t,n,a,r,o){return n=o.ref,{$$typeof:Df,type:e,key:t,ref:n!==void 0?n:null,props:o}}function Gw(e,t){return Of(e.type,t,void 0,void 0,void 0,e.props)}function Uf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Df}function Yw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var tg=/\/+/g;function hd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Yw(""+e.key):t.toString(36)}function ng(){}function Vw(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(ng,ng):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ui(e,t,n,a,r){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(o){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Df:case zw:c=!0;break;case Uy:return c=e._init,ui(c(e._payload),t,n,a,r)}}if(c)return r=r(e),c=a===""?"."+hd(e,0):a,eg(r)?(n="",c!=null&&(n=c.replace(tg,"$&/")+"/"),ui(r,t,n,"",function(f){return f})):r!=null&&(Uf(r)&&(r=Gw(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(tg,"$&/")+"/")+c)),t.push(r)),1;c=0;var u=a===""?".":a+":";if(eg(e))for(var d=0;d<e.length;d++)a=e[d],o=u+hd(a,d),c+=ui(a,t,n,o,r);else if(d=$w(e),typeof d=="function")for(e=d.call(e),d=0;!(a=e.next()).done;)a=a.value,o=u+hd(a,d++),c+=ui(a,t,n,o,r);else if(o==="object"){if(typeof e.then=="function")return ui(Vw(e),t,n,a,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function kl(e,t,n){if(e==null)return e;var a=[],r=0;return ui(e,a,"","",function(o){return t.call(n,o,r++)}),a}function Xw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ag=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Kw(){}ye.Children={map:kl,forEach:function(e,t,n){kl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return kl(e,function(){t++}),t},toArray:function(e){return kl(e,function(t){return t})||[]},only:function(e){if(!Uf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=tr;ye.Fragment=Ow;ye.Profiler=Bw;ye.PureComponent=Rf;ye.StrictMode=Uw;ye.Suspense=qw;ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et;ye.__COMPILER_RUNTIME={__proto__:null,c:function(e){return et.H.useMemoCache(e)}};ye.cache=function(e){return function(){return e.apply(null,arguments)}};ye.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Hy({},e.props),r=e.key,o=void 0;if(t!=null)for(c in t.ref!==void 0&&(o=void 0),t.key!==void 0&&(r=""+t.key),t)!qy.call(t,c)||c==="key"||c==="__self"||c==="__source"||c==="ref"&&t.ref===void 0||(a[c]=t[c]);var c=arguments.length-2;if(c===1)a.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];a.children=u}return Of(e.type,r,void 0,void 0,o,a)};ye.createContext=function(e){return e={$$typeof:Iw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Hw,_context:e},e};ye.createElement=function(e,t,n){var a,r={},o=null;if(t!=null)for(a in t.key!==void 0&&(o=""+t.key),t)qy.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(r[a]=t[a]);var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}if(e&&e.defaultProps)for(a in c=e.defaultProps,c)r[a]===void 0&&(r[a]=c[a]);return Of(e,o,void 0,void 0,null,r)};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:Fw,render:e}};ye.isValidElement=Uf;ye.lazy=function(e){return{$$typeof:Uy,_payload:{_status:-1,_result:e},_init:Xw}};ye.memo=function(e,t){return{$$typeof:Zw,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=et.T,n={};et.T=n;try{var a=e(),r=et.S;r!==null&&r(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(Kw,ag)}catch(o){ag(o)}finally{et.T=t}};ye.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()};ye.use=function(e){return et.H.use(e)};ye.useActionState=function(e,t,n){return et.H.useActionState(e,t,n)};ye.useCallback=function(e,t){return et.H.useCallback(e,t)};ye.useContext=function(e){return et.H.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e,t){return et.H.useDeferredValue(e,t)};ye.useEffect=function(e,t,n){var a=et.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return a.useEffect(e,t)};ye.useId=function(){return et.H.useId()};ye.useImperativeHandle=function(e,t,n){return et.H.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return et.H.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return et.H.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return et.H.useMemo(e,t)};ye.useOptimistic=function(e,t){return et.H.useOptimistic(e,t)};ye.useReducer=function(e,t,n){return et.H.useReducer(e,t,n)};ye.useRef=function(e){return et.H.useRef(e)};ye.useState=function(e){return et.H.useState(e)};ye.useSyncExternalStore=function(e,t,n){return et.H.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return et.H.useTransition()};ye.version="19.1.1";Oy.exports=ye;var A=Oy.exports;const Hs=Dy(A);var Zy={exports:{}},hu={},$y={exports:{}},Gy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,V){var R=U.length;U.push(V);e:for(;0<R;){var Z=R-1>>>1,I=U[Z];if(0<r(I,V))U[Z]=V,U[R]=I,R=Z;else break e}}function n(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var V=U[0],R=U.pop();if(R!==V){U[0]=R;e:for(var Z=0,I=U.length,ee=I>>>1;Z<ee;){var Q=2*(Z+1)-1,ae=U[Q],oe=Q+1,ce=U[oe];if(0>r(ae,R))oe<I&&0>r(ce,ae)?(U[Z]=ce,U[oe]=R,Z=oe):(U[Z]=ae,U[Q]=R,Z=Q);else if(oe<I&&0>r(ce,R))U[Z]=ce,U[oe]=R,Z=oe;else break e}}return V}function r(U,V){var R=U.sortIndex-V.sortIndex;return R!==0?R:U.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var d=[],f=[],m=1,x=null,g=3,y=!1,j=!1,S=!1,T=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function C(U){for(var V=n(f);V!==null;){if(V.callback===null)a(f);else if(V.startTime<=U)a(f),V.sortIndex=V.expirationTime,t(d,V);else break;V=n(f)}}function E(U){if(S=!1,C(U),!j)if(n(d)!==null)j=!0,P||(P=!0,z());else{var V=n(f);V!==null&&ne(E,V.startTime-U)}}var P=!1,M=-1,H=5,J=-1;function $(){return T?!0:!(e.unstable_now()-J<H)}function K(){if(T=!1,P){var U=e.unstable_now();J=U;var V=!0;try{e:{j=!1,S&&(S=!1,_(M),M=-1),y=!0;var R=g;try{t:{for(C(U),x=n(d);x!==null&&!(x.expirationTime>U&&$());){var Z=x.callback;if(typeof Z=="function"){x.callback=null,g=x.priorityLevel;var I=Z(x.expirationTime<=U);if(U=e.unstable_now(),typeof I=="function"){x.callback=I,C(U),V=!0;break t}x===n(d)&&a(d),C(U)}else a(d);x=n(d)}if(x!==null)V=!0;else{var ee=n(f);ee!==null&&ne(E,ee.startTime-U),V=!1}}break e}finally{x=null,g=R,y=!1}V=void 0}}finally{V?z():P=!1}}}var z;if(typeof N=="function")z=function(){N(K)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Y=X.port2;X.port1.onmessage=K,z=function(){Y.postMessage(null)}}else z=function(){b(K,0)};function ne(U,V){M=b(function(){U(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(U){switch(g){case 1:case 2:case 3:var V=3;break;default:V=g}var R=g;g=V;try{return U()}finally{g=R}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(U,V){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var R=g;g=U;try{return V()}finally{g=R}},e.unstable_scheduleCallback=function(U,V,R){var Z=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?Z+R:Z):R=Z,U){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=R+I,U={id:m++,callback:V,priorityLevel:U,startTime:R,expirationTime:I,sortIndex:-1},R>Z?(U.sortIndex=R,t(f,U),n(d)===null&&U===n(f)&&(S?(_(M),M=-1):S=!0,ne(E,R-Z))):(U.sortIndex=I,t(d,U),j||y||(j=!0,P||(P=!0,z()))),U},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(U){var V=g;return function(){var R=g;g=V;try{return U.apply(this,arguments)}finally{g=R}}}})(Gy);$y.exports=Gy;var Qw=$y.exports,Yy={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww=A;function Vy(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ia(){}var qt={d:{f:Ia,r:function(){throw Error(Vy(522))},D:Ia,C:Ia,L:Ia,m:Ia,X:Ia,S:Ia,M:Ia},p:0,findDOMNode:null},Jw=Symbol.for("react.portal");function ej(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jw,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Qr=Ww.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function fu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qt;Zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Vy(299));return ej(e,t,null,n)};Zt.flushSync=function(e){var t=Qr.T,n=qt.p;try{if(Qr.T=null,qt.p=2,e)return e()}finally{Qr.T=t,qt.p=n,qt.d.f()}};Zt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,qt.d.C(e,t))};Zt.prefetchDNS=function(e){typeof e=="string"&&qt.d.D(e)};Zt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=fu(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?qt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:r,fetchPriority:o}):n==="script"&&qt.d.X(e,{crossOrigin:a,integrity:r,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Zt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=fu(t.as,t.crossOrigin);qt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&qt.d.M(e)};Zt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=fu(n,t.crossOrigin);qt.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Zt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=fu(t.as,t.crossOrigin);qt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else qt.d.m(e)};Zt.requestFormReset=function(e){qt.d.r(e)};Zt.unstable_batchedUpdates=function(e,t){return e(t)};Zt.useFormState=function(e,t,n){return Qr.H.useFormState(e,t,n)};Zt.useFormStatus=function(){return Qr.H.useHostTransitionStatus()};Zt.version="19.1.1";function Xy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xy)}catch(e){console.error(e)}}Xy(),Yy.exports=Zt;var tj=Yy.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wt=Qw,Ky=A,nj=tj;function G(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Po(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Wy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sg(e){if(Po(e)!==e)throw Error(G(188))}function aj(e){var t=e.alternate;if(!t){if(t=Po(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(a=r.return,a!==null){n=a;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return sg(r),e;if(o===a)return sg(r),t;o=o.sibling}throw Error(G(188))}if(n.return!==a.return)n=r,a=o;else{for(var c=!1,u=r.child;u;){if(u===n){c=!0,n=r,a=o;break}if(u===a){c=!0,a=r,n=o;break}u=u.sibling}if(!c){for(u=o.child;u;){if(u===n){c=!0,n=o,a=r;break}if(u===a){c=!0,a=o,n=r;break}u=u.sibling}if(!c)throw Error(G(189))}}if(n.alternate!==a)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function Jy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Jy(e),t!==null)return t;e=e.sibling}return null}var Qe=Object.assign,sj=Symbol.for("react.element"),Cl=Symbol.for("react.transitional.element"),qr=Symbol.for("react.portal"),pi=Symbol.for("react.fragment"),ev=Symbol.for("react.strict_mode"),dh=Symbol.for("react.profiler"),ij=Symbol.for("react.provider"),tv=Symbol.for("react.consumer"),ba=Symbol.for("react.context"),Bf=Symbol.for("react.forward_ref"),hh=Symbol.for("react.suspense"),fh=Symbol.for("react.suspense_list"),Hf=Symbol.for("react.memo"),Za=Symbol.for("react.lazy"),mh=Symbol.for("react.activity"),rj=Symbol.for("react.memo_cache_sentinel"),ig=Symbol.iterator;function kr(e){return e===null||typeof e!="object"?null:(e=ig&&e[ig]||e["@@iterator"],typeof e=="function"?e:null)}var oj=Symbol.for("react.client.reference");function ph(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oj?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pi:return"Fragment";case dh:return"Profiler";case ev:return"StrictMode";case hh:return"Suspense";case fh:return"SuspenseList";case mh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case qr:return"Portal";case ba:return(e.displayName||"Context")+".Provider";case tv:return(e._context.displayName||"Context")+".Consumer";case Bf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hf:return t=e.displayName||null,t!==null?t:ph(e.type)||"Memo";case Za:t=e._payload,e=e._init;try{return ph(e(t))}catch{}}return null}var Zr=Array.isArray,fe=Ky.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,De=nj.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ms={pending:!1,data:null,method:null,action:null},gh=[],gi=-1;function ia(e){return{current:e}}function Mt(e){0>gi||(e.current=gh[gi],gh[gi]=null,gi--)}function tt(e,t){gi++,gh[gi]=e.current,e.current=t}var ea=ia(null),fo=ia(null),ns=ia(null),_c=ia(null);function wc(e,t){switch(tt(ns,t),tt(fo,e),tt(ea,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ux(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ux(t),e=yb(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Mt(ea),tt(ea,e)}function Bi(){Mt(ea),Mt(fo),Mt(ns)}function xh(e){e.memoizedState!==null&&tt(_c,e);var t=ea.current,n=yb(t,e.type);t!==n&&(tt(fo,e),tt(ea,n))}function jc(e){fo.current===e&&(Mt(ea),Mt(fo)),_c.current===e&&(Mt(_c),jo._currentValue=Ms)}var yh=Object.prototype.hasOwnProperty,If=wt.unstable_scheduleCallback,fd=wt.unstable_cancelCallback,lj=wt.unstable_shouldYield,cj=wt.unstable_requestPaint,ta=wt.unstable_now,uj=wt.unstable_getCurrentPriorityLevel,nv=wt.unstable_ImmediatePriority,av=wt.unstable_UserBlockingPriority,Nc=wt.unstable_NormalPriority,dj=wt.unstable_LowPriority,sv=wt.unstable_IdlePriority,hj=wt.log,fj=wt.unstable_setDisableYieldValue,Lo=null,hn=null;function Qa(e){if(typeof hj=="function"&&fj(e),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(Lo,e)}catch{}}var fn=Math.clz32?Math.clz32:gj,mj=Math.log,pj=Math.LN2;function gj(e){return e>>>=0,e===0?32:31-(mj(e)/pj|0)|0}var El=256,Ml=4194304;function js(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mu(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var r=0,o=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var u=a&134217727;return u!==0?(a=u&~o,a!==0?r=js(a):(c&=u,c!==0?r=js(c):n||(n=u&~e,n!==0&&(r=js(n))))):(u=a&~o,u!==0?r=js(u):c!==0?r=js(c):n||(n=a&~e,n!==0&&(r=js(n)))),r===0?0:t!==0&&t!==r&&!(t&o)&&(o=r&-r,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:r}function Do(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function xj(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iv(){var e=El;return El<<=1,!(El&4194048)&&(El=256),e}function rv(){var e=Ml;return Ml<<=1,!(Ml&62914560)&&(Ml=4194304),e}function md(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ro(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yj(e,t,n,a,r,o){var c=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var u=e.entanglements,d=e.expirationTimes,f=e.hiddenUpdates;for(n=c&~n;0<n;){var m=31-fn(n),x=1<<m;u[m]=0,d[m]=-1;var g=f[m];if(g!==null)for(f[m]=null,m=0;m<g.length;m++){var y=g[m];y!==null&&(y.lane&=-536870913)}n&=~x}a!==0&&ov(e,a,0),o!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=o&~(c&~t))}function ov(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-fn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function lv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-fn(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function Ff(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function cv(){var e=De.p;return e!==0?e:(e=window.event,e===void 0?32:kb(e.type))}function vj(e,t){var n=De.p;try{return De.p=e,t()}finally{De.p=n}}var ms=Math.random().toString(36).slice(2),Ut="__reactFiber$"+ms,an="__reactProps$"+ms,nr="__reactContainer$"+ms,vh="__reactEvents$"+ms,bj="__reactListeners$"+ms,_j="__reactHandles$"+ms,rg="__reactResources$"+ms,zo="__reactMarker$"+ms;function Zf(e){delete e[Ut],delete e[an],delete e[vh],delete e[bj],delete e[_j]}function xi(e){var t=e[Ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nr]||n[Ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fx(e);e!==null;){if(n=e[Ut])return n;e=fx(e)}return t}e=n,n=e.parentNode}return null}function ar(e){if(e=e[Ut]||e[nr]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function $r(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(G(33))}function Ci(e){var t=e[rg];return t||(t=e[rg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ct(e){e[zo]=!0}var uv=new Set,dv={};function Vs(e,t){Hi(e,t),Hi(e+"Capture",t)}function Hi(e,t){for(dv[e]=t,e=0;e<t.length;e++)uv.add(t[e])}var wj=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),og={},lg={};function jj(e){return yh.call(lg,e)?!0:yh.call(og,e)?!1:wj.test(e)?lg[e]=!0:(og[e]=!0,!1)}function Wl(e,t,n){if(jj(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Pl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ma(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var pd,cg;function di(e){if(pd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pd=t&&t[1]||"",cg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pd+e+cg}var gd=!1;function xd(e,t){if(!e||gd)return"";gd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var x=function(){throw Error()};if(Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(y){var g=y}Reflect.construct(e,[],x)}else{try{x.call()}catch(y){g=y}e.call(x.prototype)}}else{try{throw Error()}catch(y){g=y}(x=e())&&typeof x.catch=="function"&&x.catch(function(){})}}catch(y){if(y&&g&&typeof y.stack=="string")return[y.stack,g.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=a.DetermineComponentFrameRoot(),c=o[0],u=o[1];if(c&&u){var d=c.split(`
`),f=u.split(`
`);for(r=a=0;a<d.length&&!d[a].includes("DetermineComponentFrameRoot");)a++;for(;r<f.length&&!f[r].includes("DetermineComponentFrameRoot");)r++;if(a===d.length||r===f.length)for(a=d.length-1,r=f.length-1;1<=a&&0<=r&&d[a]!==f[r];)r--;for(;1<=a&&0<=r;a--,r--)if(d[a]!==f[r]){if(a!==1||r!==1)do if(a--,r--,0>r||d[a]!==f[r]){var m=`
`+d[a].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=a&&0<=r);break}}}finally{gd=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?di(n):""}function Nj(e){switch(e.tag){case 26:case 27:case 5:return di(e.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return xd(e.type,!1);case 11:return xd(e.type.render,!1);case 1:return xd(e.type,!0);case 31:return di("Activity");default:return""}}function ug(e){try{var t="";do t+=Nj(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function jn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sj(e){var t=hv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(c){a=""+c,o.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(c){a=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sc(e){e._valueTracker||(e._valueTracker=Sj(e))}function fv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=hv(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Tc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Tj=/[\n"\\]/g;function Tn(e){return e.replace(Tj,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function bh(e,t,n,a,r,o,c,u){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jn(t)):e.value!==""+jn(t)&&(e.value=""+jn(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?_h(e,c,jn(t)):n!=null?_h(e,c,jn(n)):a!=null&&e.removeAttribute("value"),r==null&&o!=null&&(e.defaultChecked=!!o),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+jn(u):e.removeAttribute("name")}function mv(e,t,n,a,r,o,c,u){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;n=n!=null?""+jn(n):"",t=t!=null?""+jn(t):n,u||t===e.value||(e.value=t),e.defaultValue=t}a=a??r,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=u?e.checked:!!a,e.defaultChecked=!!a,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c)}function _h(e,t,n){t==="number"&&Tc(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ei(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+jn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,a&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function pv(e,t,n){if(t!=null&&(t=""+jn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+jn(n):""}function gv(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(G(92));if(Zr(a)){if(1<a.length)throw Error(G(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=jn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function Ii(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Aj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dg(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Aj.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function xv(e,t,n){if(t!=null&&typeof t!="object")throw Error(G(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&dg(e,r,a)}else for(var o in t)t.hasOwnProperty(o)&&dg(e,o,t[o])}function $f(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jl(e){return Cj.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var wh=null;function Gf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yi=null,Mi=null;function hg(e){var t=ar(e);if(t&&(e=t.stateNode)){var n=e[an]||null;e:switch(e=t.stateNode,t.type){case"input":if(bh(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Tn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[an]||null;if(!r)throw Error(G(90));bh(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&fv(a)}break e;case"textarea":pv(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ei(e,!!n.multiple,t,!1)}}}var yd=!1;function yv(e,t,n){if(yd)return e(t,n);yd=!0;try{var a=e(t);return a}finally{if(yd=!1,(yi!==null||Mi!==null)&&(Nu(),yi&&(t=yi,e=Mi,Mi=yi=null,hg(t),e)))for(t=0;t<e.length;t++)hg(e[t])}}function mo(e,t){var n=e.stateNode;if(n===null)return null;var a=n[an]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jh=!1;if(ka)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){jh=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{jh=!1}var Wa=null,Yf=null,ec=null;function vv(){if(ec)return ec;var e,t=Yf,n=t.length,a,r="value"in Wa?Wa.value:Wa.textContent,o=r.length;for(e=0;e<n&&t[e]===r[e];e++);var c=n-e;for(a=1;a<=c&&t[n-a]===r[o-a];a++);return ec=r.slice(e,1<a?1-a:void 0)}function tc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ll(){return!0}function fg(){return!1}function rn(e){function t(n,a,r,o,c){this._reactName=n,this._targetInst=r,this.type=a,this.nativeEvent=o,this.target=c,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ll:fg,this.isPropagationStopped=fg,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),t}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=rn(Xs),Oo=Qe({},Xs,{view:0,detail:0}),Ej=rn(Oo),vd,bd,Er,gu=Qe({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Er&&(Er&&e.type==="mousemove"?(vd=e.screenX-Er.screenX,bd=e.screenY-Er.screenY):bd=vd=0,Er=e),vd)},movementY:function(e){return"movementY"in e?e.movementY:bd}}),mg=rn(gu),Mj=Qe({},gu,{dataTransfer:0}),Pj=rn(Mj),Lj=Qe({},Oo,{relatedTarget:0}),_d=rn(Lj),Dj=Qe({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Rj=rn(Dj),zj=Qe({},Xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Oj=rn(zj),Uj=Qe({},Xs,{data:0}),pg=rn(Uj),Bj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ij={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ij[e])?!!t[e]:!1}function Vf(){return Fj}var qj=Qe({},Oo,{key:function(e){if(e.key){var t=Bj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vf,charCode:function(e){return e.type==="keypress"?tc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zj=rn(qj),$j=Qe({},gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gg=rn($j),Gj=Qe({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vf}),Yj=rn(Gj),Vj=Qe({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xj=rn(Vj),Kj=Qe({},gu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qj=rn(Kj),Wj=Qe({},Xs,{newState:0,oldState:0}),Jj=rn(Wj),eN=[9,13,27,32],Xf=ka&&"CompositionEvent"in window,Wr=null;ka&&"documentMode"in document&&(Wr=document.documentMode);var tN=ka&&"TextEvent"in window&&!Wr,bv=ka&&(!Xf||Wr&&8<Wr&&11>=Wr),xg=" ",yg=!1;function _v(e,t){switch(e){case"keyup":return eN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vi=!1;function nN(e,t){switch(e){case"compositionend":return wv(t);case"keypress":return t.which!==32?null:(yg=!0,xg);case"textInput":return e=t.data,e===xg&&yg?null:e;default:return null}}function aN(e,t){if(vi)return e==="compositionend"||!Xf&&_v(e,t)?(e=vv(),ec=Yf=Wa=null,vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bv&&t.locale!=="ko"?null:t.data;default:return null}}var sN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sN[e.type]:t==="textarea"}function jv(e,t,n,a){yi?Mi?Mi.push(a):Mi=[a]:yi=a,t=Zc(t,"onChange"),0<t.length&&(n=new pu("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Jr=null,po=null;function iN(e){pb(e,0)}function xu(e){var t=$r(e);if(fv(t))return e}function bg(e,t){if(e==="change")return t}var Nv=!1;if(ka){var wd;if(ka){var jd="oninput"in document;if(!jd){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),jd=typeof _g.oninput=="function"}wd=jd}else wd=!1;Nv=wd&&(!document.documentMode||9<document.documentMode)}function wg(){Jr&&(Jr.detachEvent("onpropertychange",Sv),po=Jr=null)}function Sv(e){if(e.propertyName==="value"&&xu(po)){var t=[];jv(t,po,e,Gf(e)),yv(iN,t)}}function rN(e,t,n){e==="focusin"?(wg(),Jr=t,po=n,Jr.attachEvent("onpropertychange",Sv)):e==="focusout"&&wg()}function oN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xu(po)}function lN(e,t){if(e==="click")return xu(t)}function cN(e,t){if(e==="input"||e==="change")return xu(t)}function uN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:uN;function go(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!yh.call(t,r)||!gn(e[r],t[r]))return!1}return!0}function jg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ng(e,t){var n=jg(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jg(n)}}function Tv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Av(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Tc(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tc(e.document)}return t}function Kf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var dN=ka&&"documentMode"in document&&11>=document.documentMode,bi=null,Nh=null,eo=null,Sh=!1;function Sg(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sh||bi==null||bi!==Tc(a)||(a=bi,"selectionStart"in a&&Kf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),eo&&go(eo,a)||(eo=a,a=Zc(Nh,"onSelect"),0<a.length&&(t=new pu("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=bi)))}function ws(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _i={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},Nd={},kv={};ka&&(kv=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Ks(e){if(Nd[e])return Nd[e];if(!_i[e])return e;var t=_i[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kv)return Nd[e]=t[n];return e}var Cv=Ks("animationend"),Ev=Ks("animationiteration"),Mv=Ks("animationstart"),hN=Ks("transitionrun"),fN=Ks("transitionstart"),mN=Ks("transitioncancel"),Pv=Ks("transitionend"),Lv=new Map,Th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Th.push("scrollEnd");function In(e,t){Lv.set(e,t),Vs(t,[e])}var Tg=new WeakMap;function An(e,t){if(typeof e=="object"&&e!==null){var n=Tg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ug(t)},Tg.set(e,t),t)}return{value:e,source:t,stack:ug(t)}}var wn=[],wi=0,Qf=0;function yu(){for(var e=wi,t=Qf=wi=0;t<e;){var n=wn[t];wn[t++]=null;var a=wn[t];wn[t++]=null;var r=wn[t];wn[t++]=null;var o=wn[t];if(wn[t++]=null,a!==null&&r!==null){var c=a.pending;c===null?r.next=r:(r.next=c.next,c.next=r),a.pending=r}o!==0&&Dv(n,r,o)}}function vu(e,t,n,a){wn[wi++]=e,wn[wi++]=t,wn[wi++]=n,wn[wi++]=a,Qf|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Wf(e,t,n,a){return vu(e,t,n,a),Ac(e)}function sr(e,t){return vu(e,null,null,t),Ac(e)}function Dv(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var r=!1,o=e.return;o!==null;)o.childLanes|=n,a=o.alternate,a!==null&&(a.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(r=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,r&&t!==null&&(r=31-fn(n),e=o.hiddenUpdates,a=e[r],a===null?e[r]=[t]:a.push(t),t.lane=n|536870912),o):null}function Ac(e){if(50<uo)throw uo=0,Yh=null,Error(G(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ji={};function pN(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,t,n,a){return new pN(e,t,n,a)}function Jf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sa(e,t){var n=e.alternate;return n===null?(n=dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Rv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function nc(e,t,n,a,r,o){var c=0;if(a=e,typeof e=="function")Jf(e)&&(c=1);else if(typeof e=="string")c=x2(e,n,ea.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case mh:return e=dn(31,n,t,r),e.elementType=mh,e.lanes=o,e;case pi:return Ps(n.children,r,o,t);case ev:c=8,r|=24;break;case dh:return e=dn(12,n,t,r|2),e.elementType=dh,e.lanes=o,e;case hh:return e=dn(13,n,t,r),e.elementType=hh,e.lanes=o,e;case fh:return e=dn(19,n,t,r),e.elementType=fh,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ij:case ba:c=10;break e;case tv:c=9;break e;case Bf:c=11;break e;case Hf:c=14;break e;case Za:c=16,a=null;break e}c=29,n=Error(G(130,e===null?"null":typeof e,"")),a=null}return t=dn(c,n,t,r),t.elementType=e,t.type=a,t.lanes=o,t}function Ps(e,t,n,a){return e=dn(7,e,a,t),e.lanes=n,e}function Sd(e,t,n){return e=dn(6,e,null,t),e.lanes=n,e}function Td(e,t,n){return t=dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ni=[],Si=0,kc=null,Cc=0,Nn=[],Sn=0,Ls=null,_a=1,wa="";function Ns(e,t){Ni[Si++]=Cc,Ni[Si++]=kc,kc=e,Cc=t}function zv(e,t,n){Nn[Sn++]=_a,Nn[Sn++]=wa,Nn[Sn++]=Ls,Ls=e;var a=_a;e=wa;var r=32-fn(a)-1;a&=~(1<<r),n+=1;var o=32-fn(t)+r;if(30<o){var c=r-r%5;o=(a&(1<<c)-1).toString(32),a>>=c,r-=c,_a=1<<32-fn(t)+r|n<<r|a,wa=o+e}else _a=1<<o|n<<r|a,wa=e}function em(e){e.return!==null&&(Ns(e,1),zv(e,1,0))}function tm(e){for(;e===kc;)kc=Ni[--Si],Ni[Si]=null,Cc=Ni[--Si],Ni[Si]=null;for(;e===Ls;)Ls=Nn[--Sn],Nn[Sn]=null,wa=Nn[--Sn],Nn[Sn]=null,_a=Nn[--Sn],Nn[Sn]=null}var Ft=null,it=null,Le=!1,Ds=null,Wn=!1,Ah=Error(G(519));function Is(e){var t=Error(G(418,""));throw xo(An(t,e)),Ah}function Ag(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ut]=e,t[an]=a,n){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(n=0;n<bo.length;n++)_e(bo[n],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),mv(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Sc(t);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),gv(t,a.value,a.defaultValue,a.children),Sc(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||xb(t.textContent,n)?(a.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),a.onScroll!=null&&_e("scroll",t),a.onScrollEnd!=null&&_e("scrollend",t),a.onClick!=null&&(t.onclick=Au),t=!0):t=!1,t||Is(e)}function kg(e){for(Ft=e.return;Ft;)switch(Ft.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Ft=Ft.return}}function Mr(e){if(e!==Ft)return!1;if(!Le)return kg(e),Le=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Jh(e.type,e.memoizedProps)),n=!n),n&&it&&Is(e),kg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){it=Hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}it=null}}else t===27?(t=it,ps(e.type)?(e=nf,nf=null,it=e):it=t):it=Ft?Hn(e.stateNode.nextSibling):null;return!0}function Uo(){it=Ft=null,Le=!1}function Cg(){var e=Ds;return e!==null&&(Wt===null?Wt=e:Wt.push.apply(Wt,e),Ds=null),e}function xo(e){Ds===null?Ds=[e]:Ds.push(e)}var kh=ia(null),Qs=null,ja=null;function Ga(e,t,n){tt(kh,t._currentValue),t._currentValue=n}function Ta(e){e._currentValue=kh.current,Mt(kh)}function Ch(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Eh(e,t,n,a){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var o=r.dependencies;if(o!==null){var c=r.child;o=o.firstContext;e:for(;o!==null;){var u=o;o=r;for(var d=0;d<t.length;d++)if(u.context===t[d]){o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Ch(o.return,n,e),a||(c=null);break e}o=u.next}}else if(r.tag===18){if(c=r.return,c===null)throw Error(G(341));c.lanes|=n,o=c.alternate,o!==null&&(o.lanes|=n),Ch(c,n,e),c=null}else c=r.child;if(c!==null)c.return=r;else for(c=r;c!==null;){if(c===e){c=null;break}if(r=c.sibling,r!==null){r.return=c.return,c=r;break}c=c.return}r=c}}function Bo(e,t,n,a){e=null;for(var r=t,o=!1;r!==null;){if(!o){if(r.flags&524288)o=!0;else if(r.flags&262144)break}if(r.tag===10){var c=r.alternate;if(c===null)throw Error(G(387));if(c=c.memoizedProps,c!==null){var u=r.type;gn(r.pendingProps.value,c.value)||(e!==null?e.push(u):e=[u])}}else if(r===_c.current){if(c=r.alternate,c===null)throw Error(G(387));c.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(jo):e=[jo])}r=r.return}e!==null&&Eh(t,e,n,a),t.flags|=262144}function Ec(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fs(e){Qs=e,ja=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bt(e){return Ov(Qs,e)}function Dl(e,t){return Qs===null&&Fs(e),Ov(e,t)}function Ov(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ja===null){if(e===null)throw Error(G(308));ja=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ja=ja.next=t;return n}var gN=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},xN=wt.unstable_scheduleCallback,yN=wt.unstable_NormalPriority,bt={$$typeof:ba,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nm(){return{controller:new gN,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&xN(yN,function(){e.controller.abort()})}var to=null,Mh=0,Fi=0,Pi=null;function vN(e,t){if(to===null){var n=to=[];Mh=0,Fi=Sm(),Pi={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Mh++,t.then(Eg,Eg),t}function Eg(){if(--Mh===0&&to!==null){Pi!==null&&(Pi.status="fulfilled");var e=to;to=null,Fi=0,Pi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function bN(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(a.status="rejected",a.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),a}var Mg=fe.S;fe.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&vN(e,t),Mg!==null&&Mg(e,t)};var Rs=ia(null);function am(){var e=Rs.current;return e!==null?e:Ve.pooledCache}function ac(e,t){t===null?tt(Rs,Rs.current):tt(Rs,t.pool)}function Uv(){var e=am();return e===null?null:{parent:bt._currentValue,pool:e}}var Io=Error(G(460)),Bv=Error(G(474)),bu=Error(G(542)),Ph={then:function(){}};function Pg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rl(){}function Hv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Rl,Rl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dg(e),e;default:if(typeof t.status=="string")t.then(Rl,Rl);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(G(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=a}},function(a){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dg(e),e}throw no=t,Io}}var no=null;function Lg(){if(no===null)throw Error(G(459));var e=no;return no=null,e}function Dg(e){if(e===Io||e===bu)throw Error(G(483))}var $a=!1;function sm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function as(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Oe&2){var r=a.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=Ac(e),Dv(e,null,n),t}return vu(e,a,t,n),Ac(e)}function ao(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,lv(e,n)}}function Ad(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var c={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?r=o=c:o=o.next=c,n=n.next}while(n!==null);o===null?r=o=t:o=o.next=t}else r=o=t;n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Dh=!1;function so(){if(Dh){var e=Pi;if(e!==null)throw e}}function io(e,t,n,a){Dh=!1;var r=e.updateQueue;$a=!1;var o=r.firstBaseUpdate,c=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var d=u,f=d.next;d.next=null,c===null?o=f:c.next=f,c=d;var m=e.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==c&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=d))}if(o!==null){var x=r.baseState;c=0,m=f=d=null,u=o;do{var g=u.lane&-536870913,y=g!==u.lane;if(y?(Ae&g)===g:(a&g)===g){g!==0&&g===Fi&&(Dh=!0),m!==null&&(m=m.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var j=e,S=u;g=t;var T=n;switch(S.tag){case 1:if(j=S.payload,typeof j=="function"){x=j.call(T,x,g);break e}x=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=S.payload,g=typeof j=="function"?j.call(T,x,g):j,g==null)break e;x=Qe({},x,g);break e;case 2:$a=!0}}g=u.callback,g!==null&&(e.flags|=64,y&&(e.flags|=8192),y=r.callbacks,y===null?r.callbacks=[g]:y.push(g))}else y={lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=y,d=x):m=m.next=y,c|=g;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;y=u,u=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(!0);m===null&&(d=x),r.baseState=d,r.firstBaseUpdate=f,r.lastBaseUpdate=m,o===null&&(r.shared.lanes=0),fs|=c,e.lanes=c,e.memoizedState=x}}function Iv(e,t){if(typeof e!="function")throw Error(G(191,e));e.call(t)}function Fv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Iv(n[e],t)}var qi=ia(null),Mc=ia(0);function Rg(e,t){e=Ma,tt(Mc,e),tt(qi,t),Ma=e|t.baseLanes}function Rh(){tt(Mc,Ma),tt(qi,qi.current)}function im(){Ma=Mc.current,Mt(qi),Mt(Mc)}var ds=0,ve=null,Fe=null,xt=null,Pc=!1,Li=!1,qs=!1,Lc=0,yo=0,Di=null,_N=0;function ut(){throw Error(G(321))}function rm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gn(e[n],t[n]))return!1;return!0}function om(e,t,n,a,r,o){return ds=o,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fe.H=e===null||e.memoizedState===null?v0:b0,qs=!1,o=n(a,r),qs=!1,Li&&(o=Zv(t,n,a,r)),qv(e),o}function qv(e){fe.H=Dc;var t=Fe!==null&&Fe.next!==null;if(ds=0,xt=Fe=ve=null,Pc=!1,yo=0,Di=null,t)throw Error(G(300));e===null||Et||(e=e.dependencies,e!==null&&Ec(e)&&(Et=!0))}function Zv(e,t,n,a){ve=e;var r=0;do{if(Li&&(Di=null),yo=0,Li=!1,25<=r)throw Error(G(301));if(r+=1,xt=Fe=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}fe.H=kN,o=t(n,a)}while(Li);return o}function wN(){var e=fe.H,t=e.useState()[0];return t=typeof t.then=="function"?Fo(t):t,e=e.useState()[0],(Fe!==null?Fe.memoizedState:null)!==e&&(ve.flags|=1024),t}function lm(){var e=Lc!==0;return Lc=0,e}function cm(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function um(e){if(Pc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Pc=!1}ds=0,xt=Fe=ve=null,Li=!1,yo=Lc=0,Di=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?ve.memoizedState=xt=e:xt=xt.next=e,xt}function yt(){if(Fe===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=xt===null?ve.memoizedState:xt.next;if(t!==null)xt=t,Fe=e;else{if(e===null)throw ve.alternate===null?Error(G(467)):Error(G(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},xt===null?ve.memoizedState=xt=e:xt=xt.next=e}return xt}function dm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var t=yo;return yo+=1,Di===null&&(Di=[]),e=Hv(Di,e,t),t=ve,(xt===null?t.memoizedState:xt.next)===null&&(t=t.alternate,fe.H=t===null||t.memoizedState===null?v0:b0),e}function _u(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===ba)return Bt(e)}throw Error(G(438,String(e)))}function hm(e){var t=null,n=ve.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=ve.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=dm(),ve.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=rj;return t.index++,n}function Ca(e,t){return typeof t=="function"?t(e):t}function sc(e){var t=yt();return fm(t,Fe,e)}function fm(e,t,n){var a=e.queue;if(a===null)throw Error(G(311));a.lastRenderedReducer=n;var r=e.baseQueue,o=a.pending;if(o!==null){if(r!==null){var c=r.next;r.next=o.next,o.next=c}t.baseQueue=r=o,a.pending=null}if(o=e.baseState,r===null)e.memoizedState=o;else{t=r.next;var u=c=null,d=null,f=t,m=!1;do{var x=f.lane&-536870913;if(x!==f.lane?(Ae&x)===x:(ds&x)===x){var g=f.revertLane;if(g===0)d!==null&&(d=d.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),x===Fi&&(m=!0);else if((ds&g)===g){f=f.next,g===Fi&&(m=!0);continue}else x={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},d===null?(u=d=x,c=o):d=d.next=x,ve.lanes|=g,fs|=g;x=f.action,qs&&n(o,x),o=f.hasEagerState?f.eagerState:n(o,x)}else g={lane:x,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},d===null?(u=d=g,c=o):d=d.next=g,ve.lanes|=x,fs|=x;f=f.next}while(f!==null&&f!==t);if(d===null?c=o:d.next=u,!gn(o,e.memoizedState)&&(Et=!0,m&&(n=Pi,n!==null)))throw n;e.memoizedState=o,e.baseState=c,e.baseQueue=d,a.lastRenderedState=o}return r===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function kd(e){var t=yt(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,o=t.memoizedState;if(r!==null){n.pending=null;var c=r=r.next;do o=e(o,c.action),c=c.next;while(c!==r);gn(o,t.memoizedState)||(Et=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,a]}function $v(e,t,n){var a=ve,r=yt(),o=Le;if(o){if(n===void 0)throw Error(G(407));n=n()}else n=t();var c=!gn((Fe||r).memoizedState,n);c&&(r.memoizedState=n,Et=!0),r=r.queue;var u=Vv.bind(null,a,r,e);if(qo(2048,8,u,[e]),r.getSnapshot!==t||c||xt!==null&&xt.memoizedState.tag&1){if(a.flags|=2048,Zi(9,wu(),Yv.bind(null,a,r,n,t),null),Ve===null)throw Error(G(349));o||ds&124||Gv(a,t,n)}return n}function Gv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t=dm(),ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yv(e,t,n,a){t.value=n,t.getSnapshot=a,Xv(t)&&Kv(e)}function Vv(e,t,n){return n(function(){Xv(t)&&Kv(e)})}function Xv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gn(e,n)}catch{return!0}}function Kv(e){var t=sr(e,2);t!==null&&pn(t,e,2)}function zh(e){var t=Kt();if(typeof e=="function"){var n=e;if(e=n(),qs){Qa(!0);try{n()}finally{Qa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t}function Qv(e,t,n,a){return e.baseState=n,fm(e,Fe,typeof a=="function"?a:Ca)}function jN(e,t,n,a,r){if(ju(e))throw Error(G(485));if(e=t.action,e!==null){var o={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){o.listeners.push(c)}};fe.T!==null?n(!0):o.isTransition=!1,a(o),n=t.pending,n===null?(o.next=t.pending=o,Wv(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Wv(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var o=fe.T,c={};fe.T=c;try{var u=n(r,a),d=fe.S;d!==null&&d(c,u),zg(e,t,u)}catch(f){Oh(e,t,f)}finally{fe.T=o}}else try{o=n(r,a),zg(e,t,o)}catch(f){Oh(e,t,f)}}function zg(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Og(e,t,a)},function(a){return Oh(e,t,a)}):Og(e,t,n)}function Og(e,t,n){t.status="fulfilled",t.value=n,Jv(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Wv(e,n)))}function Oh(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Jv(t),t=t.next;while(t!==a)}e.action=null}function Jv(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function e0(e,t){return t}function Ug(e,t){if(Le){var n=Ve.formState;if(n!==null){e:{var a=ve;if(Le){if(it){t:{for(var r=it,o=Wn;r.nodeType!==8;){if(!o){r=null;break t}if(r=Hn(r.nextSibling),r===null){r=null;break t}}o=r.data,r=o==="F!"||o==="F"?r:null}if(r){it=Hn(r.nextSibling),a=r.data==="F!";break e}}Is(a)}a=!1}a&&(t=n[0])}}return n=Kt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e0,lastRenderedState:t},n.queue=a,n=g0.bind(null,ve,a),a.dispatch=n,a=zh(!1),o=xm.bind(null,ve,!1,a.queue),a=Kt(),r={state:t,dispatch:null,action:e,pending:null},a.queue=r,n=jN.bind(null,ve,r,o,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function Bg(e){var t=yt();return t0(t,Fe,e)}function t0(e,t,n){if(t=fm(e,t,e0)[0],e=sc(Ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Fo(t)}catch(c){throw c===Io?bu:c}else a=t;t=yt();var r=t.queue,o=r.dispatch;return n!==t.memoizedState&&(ve.flags|=2048,Zi(9,wu(),NN.bind(null,r,n),null)),[a,o,e]}function NN(e,t){e.action=t}function Hg(e){var t=yt(),n=Fe;if(n!==null)return t0(t,n,e);yt(),t=t.memoizedState,n=yt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Zi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=ve.updateQueue,t===null&&(t=dm(),ve.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function wu(){return{destroy:void 0,resource:void 0}}function n0(){return yt().memoizedState}function ic(e,t,n,a){var r=Kt();a=a===void 0?null:a,ve.flags|=e,r.memoizedState=Zi(1|t,wu(),n,a)}function qo(e,t,n,a){var r=yt();a=a===void 0?null:a;var o=r.memoizedState.inst;Fe!==null&&a!==null&&rm(a,Fe.memoizedState.deps)?r.memoizedState=Zi(t,o,n,a):(ve.flags|=e,r.memoizedState=Zi(1|t,o,n,a))}function Ig(e,t){ic(8390656,8,e,t)}function a0(e,t){qo(2048,8,e,t)}function s0(e,t){return qo(4,2,e,t)}function i0(e,t){return qo(4,4,e,t)}function r0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function o0(e,t,n){n=n!=null?n.concat([e]):null,qo(4,4,r0.bind(null,t,e),n)}function mm(){}function l0(e,t){var n=yt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&rm(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function c0(e,t){var n=yt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&rm(t,a[1]))return a[0];if(a=e(),qs){Qa(!0);try{e()}finally{Qa(!1)}}return n.memoizedState=[a,t],a}function pm(e,t,n){return n===void 0||ds&1073741824?e.memoizedState=t:(e.memoizedState=n,e=J0(),ve.lanes|=e,fs|=e,n)}function u0(e,t,n,a){return gn(n,t)?n:qi.current!==null?(e=pm(e,n,a),gn(e,t)||(Et=!0),e):ds&42?(e=J0(),ve.lanes|=e,fs|=e,t):(Et=!0,e.memoizedState=n)}function d0(e,t,n,a,r){var o=De.p;De.p=o!==0&&8>o?o:8;var c=fe.T,u={};fe.T=u,xm(e,!1,t,n);try{var d=r(),f=fe.S;if(f!==null&&f(u,d),d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=bN(d,a);ro(e,t,m,mn(e))}else ro(e,t,a,mn(e))}catch(x){ro(e,t,{then:function(){},status:"rejected",reason:x},mn())}finally{De.p=o,fe.T=c}}function SN(){}function Uh(e,t,n,a){if(e.tag!==5)throw Error(G(476));var r=h0(e).queue;d0(e,r,t,Ms,n===null?SN:function(){return f0(e),n(a)})}function h0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ms,baseState:Ms,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:Ms},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function f0(e){var t=h0(e).next.queue;ro(e,t,{},mn())}function gm(){return Bt(jo)}function m0(){return yt().memoizedState}function p0(){return yt().memoizedState}function TN(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=mn();e=as(n);var a=ss(t,e,n);a!==null&&(pn(a,t,n),ao(a,t,n)),t={cache:nm()},e.payload=t;return}t=t.return}}function AN(e,t,n){var a=mn();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ju(e)?x0(t,n):(n=Wf(e,t,n,a),n!==null&&(pn(n,e,a),y0(n,t,a)))}function g0(e,t,n){var a=mn();ro(e,t,n,a)}function ro(e,t,n,a){var r={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ju(e))x0(t,r);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var c=t.lastRenderedState,u=o(c,n);if(r.hasEagerState=!0,r.eagerState=u,gn(u,c))return vu(e,t,r,0),Ve===null&&yu(),!1}catch{}finally{}if(n=Wf(e,t,r,a),n!==null)return pn(n,e,a),y0(n,t,a),!0}return!1}function xm(e,t,n,a){if(a={lane:2,revertLane:Sm(),action:a,hasEagerState:!1,eagerState:null,next:null},ju(e)){if(t)throw Error(G(479))}else t=Wf(e,n,a,2),t!==null&&pn(t,e,2)}function ju(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function x0(e,t){Li=Pc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function y0(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,lv(e,n)}}var Dc={readContext:Bt,use:_u,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut},v0={readContext:Bt,use:_u,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:Ig,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ic(4194308,4,r0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ic(4194308,4,e,t)},useInsertionEffect:function(e,t){ic(4,2,e,t)},useMemo:function(e,t){var n=Kt();t=t===void 0?null:t;var a=e();if(qs){Qa(!0);try{e()}finally{Qa(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Kt();if(n!==void 0){var r=n(t);if(qs){Qa(!0);try{n(t)}finally{Qa(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=AN.bind(null,ve,e),[a.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=zh(e);var t=e.queue,n=g0.bind(null,ve,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:mm,useDeferredValue:function(e,t){var n=Kt();return pm(n,e,t)},useTransition:function(){var e=zh(!1);return e=d0.bind(null,ve,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=ve,r=Kt();if(Le){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),Ve===null)throw Error(G(349));Ae&124||Gv(a,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Ig(Vv.bind(null,a,o,e),[e]),a.flags|=2048,Zi(9,wu(),Yv.bind(null,a,o,n,t),null),n},useId:function(){var e=Kt(),t=Ve.identifierPrefix;if(Le){var n=wa,a=_a;n=(a&~(1<<32-fn(a)-1)).toString(32)+n,t=""+t+"R"+n,n=Lc++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=_N++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:gm,useFormState:Ug,useActionState:Ug,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=xm.bind(null,ve,!0,n),n.dispatch=t,[e,t]},useMemoCache:hm,useCacheRefresh:function(){return Kt().memoizedState=TN.bind(null,ve)}},b0={readContext:Bt,use:_u,useCallback:l0,useContext:Bt,useEffect:a0,useImperativeHandle:o0,useInsertionEffect:s0,useLayoutEffect:i0,useMemo:c0,useReducer:sc,useRef:n0,useState:function(){return sc(Ca)},useDebugValue:mm,useDeferredValue:function(e,t){var n=yt();return u0(n,Fe.memoizedState,e,t)},useTransition:function(){var e=sc(Ca)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:Fo(e),t]},useSyncExternalStore:$v,useId:m0,useHostTransitionStatus:gm,useFormState:Bg,useActionState:Bg,useOptimistic:function(e,t){var n=yt();return Qv(n,Fe,e,t)},useMemoCache:hm,useCacheRefresh:p0},kN={readContext:Bt,use:_u,useCallback:l0,useContext:Bt,useEffect:a0,useImperativeHandle:o0,useInsertionEffect:s0,useLayoutEffect:i0,useMemo:c0,useReducer:kd,useRef:n0,useState:function(){return kd(Ca)},useDebugValue:mm,useDeferredValue:function(e,t){var n=yt();return Fe===null?pm(n,e,t):u0(n,Fe.memoizedState,e,t)},useTransition:function(){var e=kd(Ca)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:Fo(e),t]},useSyncExternalStore:$v,useId:m0,useHostTransitionStatus:gm,useFormState:Hg,useActionState:Hg,useOptimistic:function(e,t){var n=yt();return Fe!==null?Qv(n,Fe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hm,useCacheRefresh:p0},Ri=null,vo=0;function zl(e){var t=vo;return vo+=1,Ri===null&&(Ri=[]),Hv(Ri,e,t)}function Pr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ol(e,t){throw t.$$typeof===sj?Error(G(525)):(e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Fg(e){var t=e._init;return t(e._payload)}function _0(e){function t(b,_){if(e){var N=b.deletions;N===null?(b.deletions=[_],b.flags|=16):N.push(_)}}function n(b,_){if(!e)return null;for(;_!==null;)t(b,_),_=_.sibling;return null}function a(b){for(var _=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function r(b,_){return b=Sa(b,_),b.index=0,b.sibling=null,b}function o(b,_,N){return b.index=N,e?(N=b.alternate,N!==null?(N=N.index,N<_?(b.flags|=67108866,_):N):(b.flags|=67108866,_)):(b.flags|=1048576,_)}function c(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function u(b,_,N,C){return _===null||_.tag!==6?(_=Sd(N,b.mode,C),_.return=b,_):(_=r(_,N),_.return=b,_)}function d(b,_,N,C){var E=N.type;return E===pi?m(b,_,N.props.children,C,N.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Za&&Fg(E)===_.type)?(_=r(_,N.props),Pr(_,N),_.return=b,_):(_=nc(N.type,N.key,N.props,null,b.mode,C),Pr(_,N),_.return=b,_)}function f(b,_,N,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==N.containerInfo||_.stateNode.implementation!==N.implementation?(_=Td(N,b.mode,C),_.return=b,_):(_=r(_,N.children||[]),_.return=b,_)}function m(b,_,N,C,E){return _===null||_.tag!==7?(_=Ps(N,b.mode,C,E),_.return=b,_):(_=r(_,N),_.return=b,_)}function x(b,_,N){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Sd(""+_,b.mode,N),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Cl:return N=nc(_.type,_.key,_.props,null,b.mode,N),Pr(N,_),N.return=b,N;case qr:return _=Td(_,b.mode,N),_.return=b,_;case Za:var C=_._init;return _=C(_._payload),x(b,_,N)}if(Zr(_)||kr(_))return _=Ps(_,b.mode,N,null),_.return=b,_;if(typeof _.then=="function")return x(b,zl(_),N);if(_.$$typeof===ba)return x(b,Dl(b,_),N);Ol(b,_)}return null}function g(b,_,N,C){var E=_!==null?_.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return E!==null?null:u(b,_,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Cl:return N.key===E?d(b,_,N,C):null;case qr:return N.key===E?f(b,_,N,C):null;case Za:return E=N._init,N=E(N._payload),g(b,_,N,C)}if(Zr(N)||kr(N))return E!==null?null:m(b,_,N,C,null);if(typeof N.then=="function")return g(b,_,zl(N),C);if(N.$$typeof===ba)return g(b,_,Dl(b,N),C);Ol(b,N)}return null}function y(b,_,N,C,E){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return b=b.get(N)||null,u(_,b,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Cl:return b=b.get(C.key===null?N:C.key)||null,d(_,b,C,E);case qr:return b=b.get(C.key===null?N:C.key)||null,f(_,b,C,E);case Za:var P=C._init;return C=P(C._payload),y(b,_,N,C,E)}if(Zr(C)||kr(C))return b=b.get(N)||null,m(_,b,C,E,null);if(typeof C.then=="function")return y(b,_,N,zl(C),E);if(C.$$typeof===ba)return y(b,_,N,Dl(_,C),E);Ol(_,C)}return null}function j(b,_,N,C){for(var E=null,P=null,M=_,H=_=0,J=null;M!==null&&H<N.length;H++){M.index>H?(J=M,M=null):J=M.sibling;var $=g(b,M,N[H],C);if($===null){M===null&&(M=J);break}e&&M&&$.alternate===null&&t(b,M),_=o($,_,H),P===null?E=$:P.sibling=$,P=$,M=J}if(H===N.length)return n(b,M),Le&&Ns(b,H),E;if(M===null){for(;H<N.length;H++)M=x(b,N[H],C),M!==null&&(_=o(M,_,H),P===null?E=M:P.sibling=M,P=M);return Le&&Ns(b,H),E}for(M=a(M);H<N.length;H++)J=y(M,b,H,N[H],C),J!==null&&(e&&J.alternate!==null&&M.delete(J.key===null?H:J.key),_=o(J,_,H),P===null?E=J:P.sibling=J,P=J);return e&&M.forEach(function(K){return t(b,K)}),Le&&Ns(b,H),E}function S(b,_,N,C){if(N==null)throw Error(G(151));for(var E=null,P=null,M=_,H=_=0,J=null,$=N.next();M!==null&&!$.done;H++,$=N.next()){M.index>H?(J=M,M=null):J=M.sibling;var K=g(b,M,$.value,C);if(K===null){M===null&&(M=J);break}e&&M&&K.alternate===null&&t(b,M),_=o(K,_,H),P===null?E=K:P.sibling=K,P=K,M=J}if($.done)return n(b,M),Le&&Ns(b,H),E;if(M===null){for(;!$.done;H++,$=N.next())$=x(b,$.value,C),$!==null&&(_=o($,_,H),P===null?E=$:P.sibling=$,P=$);return Le&&Ns(b,H),E}for(M=a(M);!$.done;H++,$=N.next())$=y(M,b,H,$.value,C),$!==null&&(e&&$.alternate!==null&&M.delete($.key===null?H:$.key),_=o($,_,H),P===null?E=$:P.sibling=$,P=$);return e&&M.forEach(function(z){return t(b,z)}),Le&&Ns(b,H),E}function T(b,_,N,C){if(typeof N=="object"&&N!==null&&N.type===pi&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Cl:e:{for(var E=N.key;_!==null;){if(_.key===E){if(E=N.type,E===pi){if(_.tag===7){n(b,_.sibling),C=r(_,N.props.children),C.return=b,b=C;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Za&&Fg(E)===_.type){n(b,_.sibling),C=r(_,N.props),Pr(C,N),C.return=b,b=C;break e}n(b,_);break}else t(b,_);_=_.sibling}N.type===pi?(C=Ps(N.props.children,b.mode,C,N.key),C.return=b,b=C):(C=nc(N.type,N.key,N.props,null,b.mode,C),Pr(C,N),C.return=b,b=C)}return c(b);case qr:e:{for(E=N.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===N.containerInfo&&_.stateNode.implementation===N.implementation){n(b,_.sibling),C=r(_,N.children||[]),C.return=b,b=C;break e}else{n(b,_);break}else t(b,_);_=_.sibling}C=Td(N,b.mode,C),C.return=b,b=C}return c(b);case Za:return E=N._init,N=E(N._payload),T(b,_,N,C)}if(Zr(N))return j(b,_,N,C);if(kr(N)){if(E=kr(N),typeof E!="function")throw Error(G(150));return N=E.call(N),S(b,_,N,C)}if(typeof N.then=="function")return T(b,_,zl(N),C);if(N.$$typeof===ba)return T(b,_,Dl(b,N),C);Ol(b,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,_!==null&&_.tag===6?(n(b,_.sibling),C=r(_,N),C.return=b,b=C):(n(b,_),C=Sd(N,b.mode,C),C.return=b,b=C),c(b)):n(b,_)}return function(b,_,N,C){try{vo=0;var E=T(b,_,N,C);return Ri=null,E}catch(M){if(M===Io||M===bu)throw M;var P=dn(29,M,null,b.mode);return P.lanes=C,P.return=b,P}finally{}}}var $i=_0(!0),w0=_0(!1),Cn=ia(null),na=null;function Ya(e){var t=e.alternate;tt(_t,_t.current&1),tt(Cn,e),na===null&&(t===null||qi.current!==null||t.memoizedState!==null)&&(na=e)}function j0(e){if(e.tag===22){if(tt(_t,_t.current),tt(Cn,e),na===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(na=e)}}else Va()}function Va(){tt(_t,_t.current),tt(Cn,Cn.current)}function Na(e){Mt(Cn),na===e&&(na=null),Mt(_t)}var _t=ia(0);function Rc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||tf(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Cd(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bh={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=mn(),r=as(a);r.payload=t,n!=null&&(r.callback=n),t=ss(e,r,a),t!==null&&(pn(t,e,a),ao(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=mn(),r=as(a);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=ss(e,r,a),t!==null&&(pn(t,e,a),ao(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mn(),a=as(n);a.tag=2,t!=null&&(a.callback=t),t=ss(e,a,n),t!==null&&(pn(t,e,n),ao(t,e,n))}};function qg(e,t,n,a,r,o,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,o,c):t.prototype&&t.prototype.isPureReactComponent?!go(n,a)||!go(r,o):!0}function Zg(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Bh.enqueueReplaceState(t,t.state,null)}function Zs(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=Qe({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var zc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function N0(e){zc(e)}function S0(e){console.error(e)}function T0(e){zc(e)}function Oc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function $g(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Hh(e,t,n){return n=as(n),n.tag=3,n.payload={element:null},n.callback=function(){Oc(e,t)},n}function A0(e){return e=as(e),e.tag=3,e}function k0(e,t,n,a){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var o=a.value;e.payload=function(){return r(o)},e.callback=function(){$g(t,n,a)}}var c=n.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){$g(t,n,a),typeof r!="function"&&(is===null?is=new Set([this]):is.add(this));var u=a.stack;this.componentDidCatch(a.value,{componentStack:u!==null?u:""})})}function CN(e,t,n,a,r){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Bo(t,n,r,!0),n=Cn.current,n!==null){switch(n.tag){case 13:return na===null?Vh():n.alternate===null&&rt===0&&(rt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===Ph?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Hd(e,a,r)),!1;case 22:return n.flags|=65536,a===Ph?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Hd(e,a,r)),!1}throw Error(G(435,n.tag))}return Hd(e,a,r),Vh(),!1}if(Le)return t=Cn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==Ah&&(e=Error(G(422),{cause:a}),xo(An(e,n)))):(a!==Ah&&(t=Error(G(423),{cause:a}),xo(An(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,a=An(a,n),r=Hh(e.stateNode,a,r),Ad(e,r),rt!==4&&(rt=2)),!1;var o=Error(G(520),{cause:a});if(o=An(o,n),co===null?co=[o]:co.push(o),rt!==4&&(rt=2),t===null)return!0;a=An(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Hh(n.stateNode,a,e),Ad(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(is===null||!is.has(o))))return n.flags|=65536,r&=-r,n.lanes|=r,r=A0(r),k0(r,e,n,a),Ad(n,r),!1}n=n.return}while(n!==null);return!1}var C0=Error(G(461)),Et=!1;function Dt(e,t,n,a){t.child=e===null?w0(t,null,n,a):$i(t,e.child,n,a)}function Gg(e,t,n,a,r){n=n.render;var o=t.ref;if("ref"in a){var c={};for(var u in a)u!=="ref"&&(c[u]=a[u])}else c=a;return Fs(t),a=om(e,t,n,c,o,r),u=lm(),e!==null&&!Et?(cm(e,t,r),Ea(e,t,r)):(Le&&u&&em(t),t.flags|=1,Dt(e,t,a,r),t.child)}function Yg(e,t,n,a,r){if(e===null){var o=n.type;return typeof o=="function"&&!Jf(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,E0(e,t,o,a,r)):(e=nc(n.type,null,a,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!ym(e,r)){var c=o.memoizedProps;if(n=n.compare,n=n!==null?n:go,n(c,a)&&e.ref===t.ref)return Ea(e,t,r)}return t.flags|=1,e=Sa(o,a),e.ref=t.ref,e.return=t,t.child=e}function E0(e,t,n,a,r){if(e!==null){var o=e.memoizedProps;if(go(o,a)&&e.ref===t.ref)if(Et=!1,t.pendingProps=a=o,ym(e,r))e.flags&131072&&(Et=!0);else return t.lanes=e.lanes,Ea(e,t,r)}return Ih(e,t,n,a,r)}function M0(e,t,n){var a=t.pendingProps,r=a.children,o=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if(t.flags&128){if(a=o!==null?o.baseLanes|n:n,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;t.childLanes=o&~a}else t.childLanes=0,t.child=null;return Vg(e,t,a,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ac(t,o!==null?o.cachePool:null),o!==null?Rg(t,o):Rh(),j0(t);else return t.lanes=t.childLanes=536870912,Vg(e,t,o!==null?o.baseLanes|n:n,n)}else o!==null?(ac(t,o.cachePool),Rg(t,o),Va(),t.memoizedState=null):(e!==null&&ac(t,null),Rh(),Va());return Dt(e,t,r,n),t.child}function Vg(e,t,n,a){var r=am();return r=r===null?null:{parent:bt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&ac(t,null),Rh(),j0(t),e!==null&&Bo(e,t,a,!0),null}function rc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(G(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ih(e,t,n,a,r){return Fs(t),n=om(e,t,n,a,void 0,r),a=lm(),e!==null&&!Et?(cm(e,t,r),Ea(e,t,r)):(Le&&a&&em(t),t.flags|=1,Dt(e,t,n,r),t.child)}function Xg(e,t,n,a,r,o){return Fs(t),t.updateQueue=null,n=Zv(t,a,n,r),qv(e),a=lm(),e!==null&&!Et?(cm(e,t,o),Ea(e,t,o)):(Le&&a&&em(t),t.flags|=1,Dt(e,t,n,o),t.child)}function Kg(e,t,n,a,r){if(Fs(t),t.stateNode===null){var o=ji,c=n.contextType;typeof c=="object"&&c!==null&&(o=Bt(c)),o=new n(a,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Bh,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=a,o.state=t.memoizedState,o.refs={},sm(t),c=n.contextType,o.context=typeof c=="object"&&c!==null?Bt(c):ji,o.state=t.memoizedState,c=n.getDerivedStateFromProps,typeof c=="function"&&(Cd(t,n,c,a),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(c=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),c!==o.state&&Bh.enqueueReplaceState(o,o.state,null),io(t,a,o,r),so(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){o=t.stateNode;var u=t.memoizedProps,d=Zs(n,u);o.props=d;var f=o.context,m=n.contextType;c=ji,typeof m=="object"&&m!==null&&(c=Bt(m));var x=n.getDerivedStateFromProps;m=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u||f!==c)&&Zg(t,o,a,c),$a=!1;var g=t.memoizedState;o.state=g,io(t,a,o,r),so(),f=t.memoizedState,u||g!==f||$a?(typeof x=="function"&&(Cd(t,n,x,a),f=t.memoizedState),(d=$a||qg(t,n,d,a,g,f,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=f),o.props=a,o.state=f,o.context=c,a=d):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,Lh(e,t),c=t.memoizedProps,m=Zs(n,c),o.props=m,x=t.pendingProps,g=o.context,f=n.contextType,d=ji,typeof f=="object"&&f!==null&&(d=Bt(f)),u=n.getDerivedStateFromProps,(f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==x||g!==d)&&Zg(t,o,a,d),$a=!1,g=t.memoizedState,o.state=g,io(t,a,o,r),so();var y=t.memoizedState;c!==x||g!==y||$a||e!==null&&e.dependencies!==null&&Ec(e.dependencies)?(typeof u=="function"&&(Cd(t,n,u,a),y=t.memoizedState),(m=$a||qg(t,n,m,a,g,y,d)||e!==null&&e.dependencies!==null&&Ec(e.dependencies))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,y,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,y,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=y),o.props=a,o.state=y,o.context=d,a=m):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),a=!1)}return o=a,rc(e,t),a=(t.flags&128)!==0,o||a?(o=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&a?(t.child=$i(t,e.child,null,r),t.child=$i(t,null,n,r)):Dt(e,t,n,r),t.memoizedState=o.state,e=t.child):e=Ea(e,t,r),e}function Qg(e,t,n,a){return Uo(),t.flags|=256,Dt(e,t,n,a),t.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Md(e){return{baseLanes:e,cachePool:Uv()}}function Pd(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=kn),e}function P0(e,t,n){var a=t.pendingProps,r=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),c&&(r=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(Le){if(r?Ya(t):Va(),Le){var u=it,d;if(d=u){e:{for(d=u,u=Wn;d.nodeType!==8;){if(!u){u=null;break e}if(d=Hn(d.nextSibling),d===null){u=null;break e}}u=d}u!==null?(t.memoizedState={dehydrated:u,treeContext:Ls!==null?{id:_a,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},d=dn(18,null,null,0),d.stateNode=u,d.return=t,t.child=d,Ft=t,it=null,d=!0):d=!1}d||Is(t)}if(u=t.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return tf(u)?t.lanes=32:t.lanes=536870912,null;Na(t)}return u=a.children,a=a.fallback,r?(Va(),r=t.mode,u=Uc({mode:"hidden",children:u},r),a=Ps(a,r,n,null),u.return=t,a.return=t,u.sibling=a,t.child=u,r=t.child,r.memoizedState=Md(n),r.childLanes=Pd(e,c,n),t.memoizedState=Ed,a):(Ya(t),Fh(t,u))}if(d=e.memoizedState,d!==null&&(u=d.dehydrated,u!==null)){if(o)t.flags&256?(Ya(t),t.flags&=-257,t=Ld(e,t,n)):t.memoizedState!==null?(Va(),t.child=e.child,t.flags|=128,t=null):(Va(),r=a.fallback,u=t.mode,a=Uc({mode:"visible",children:a.children},u),r=Ps(r,u,n,null),r.flags|=2,a.return=t,r.return=t,a.sibling=r,t.child=a,$i(t,e.child,null,n),a=t.child,a.memoizedState=Md(n),a.childLanes=Pd(e,c,n),t.memoizedState=Ed,t=r);else if(Ya(t),tf(u)){if(c=u.nextSibling&&u.nextSibling.dataset,c)var f=c.dgst;c=f,a=Error(G(419)),a.stack="",a.digest=c,xo({value:a,source:null,stack:null}),t=Ld(e,t,n)}else if(Et||Bo(e,t,n,!1),c=(n&e.childLanes)!==0,Et||c){if(c=Ve,c!==null&&(a=n&-n,a=a&42?1:Ff(a),a=a&(c.suspendedLanes|n)?0:a,a!==0&&a!==d.retryLane))throw d.retryLane=a,sr(e,a),pn(c,e,a),C0;u.data==="$?"||Vh(),t=Ld(e,t,n)}else u.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=d.treeContext,it=Hn(u.nextSibling),Ft=t,Le=!0,Ds=null,Wn=!1,e!==null&&(Nn[Sn++]=_a,Nn[Sn++]=wa,Nn[Sn++]=Ls,_a=e.id,wa=e.overflow,Ls=t),t=Fh(t,a.children),t.flags|=4096);return t}return r?(Va(),r=a.fallback,u=t.mode,d=e.child,f=d.sibling,a=Sa(d,{mode:"hidden",children:a.children}),a.subtreeFlags=d.subtreeFlags&65011712,f!==null?r=Sa(f,r):(r=Ps(r,u,n,null),r.flags|=2),r.return=t,a.return=t,a.sibling=r,t.child=a,a=r,r=t.child,u=e.child.memoizedState,u===null?u=Md(n):(d=u.cachePool,d!==null?(f=bt._currentValue,d=d.parent!==f?{parent:f,pool:f}:d):d=Uv(),u={baseLanes:u.baseLanes|n,cachePool:d}),r.memoizedState=u,r.childLanes=Pd(e,c,n),t.memoizedState=Ed,a):(Ya(t),n=e.child,e=n.sibling,n=Sa(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=n,t.memoizedState=null,n)}function Fh(e,t){return t=Uc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Uc(e,t){return e=dn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ld(e,t,n){return $i(t,e.child,null,n),e=Fh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wg(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Ch(e.return,t,n)}function Dd(e,t,n,a,r){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=n,o.tailMode=r)}function L0(e,t,n){var a=t.pendingProps,r=a.revealOrder,o=a.tail;if(Dt(e,t,a.children,n),a=_t.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wg(e,n,t);else if(e.tag===19)Wg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(tt(_t,a),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Rc(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Dd(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Rc(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Dd(t,!0,n,null,o);break;case"together":Dd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ea(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fs|=t.lanes,!(n&t.childLanes))if(e!==null){if(Bo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=Sa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ym(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ec(e)))}function EN(e,t,n){switch(t.tag){case 3:wc(t,t.stateNode.containerInfo),Ga(t,bt,e.memoizedState.cache),Uo();break;case 27:case 5:xh(t);break;case 4:wc(t,t.stateNode.containerInfo);break;case 10:Ga(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ya(t),t.flags|=128,null):n&t.child.childLanes?P0(e,t,n):(Ya(t),e=Ea(e,t,n),e!==null?e.sibling:null);Ya(t);break;case 19:var r=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Bo(e,t,n,!1),a=(n&t.childLanes)!==0),r){if(a)return L0(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),tt(_t,_t.current),a)break;return null;case 22:case 23:return t.lanes=0,M0(e,t,n);case 24:Ga(t,bt,e.memoizedState.cache)}return Ea(e,t,n)}function D0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Et=!0;else{if(!ym(e,n)&&!(t.flags&128))return Et=!1,EN(e,t,n);Et=!!(e.flags&131072)}else Et=!1,Le&&t.flags&1048576&&zv(t,Cc,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,r=a._init;if(a=r(a._payload),t.type=a,typeof a=="function")Jf(a)?(e=Zs(a,e),t.tag=1,t=Kg(null,t,a,e,n)):(t.tag=0,t=Ih(null,t,a,e,n));else{if(a!=null){if(r=a.$$typeof,r===Bf){t.tag=11,t=Gg(null,t,a,e,n);break e}else if(r===Hf){t.tag=14,t=Yg(null,t,a,e,n);break e}}throw t=ph(a)||a,Error(G(306,t,""))}}return t;case 0:return Ih(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,r=Zs(a,t.pendingProps),Kg(e,t,a,r,n);case 3:e:{if(wc(t,t.stateNode.containerInfo),e===null)throw Error(G(387));a=t.pendingProps;var o=t.memoizedState;r=o.element,Lh(e,t),io(t,a,null,n);var c=t.memoizedState;if(a=c.cache,Ga(t,bt,a),a!==o.cache&&Eh(t,[bt],n,!0),so(),a=c.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Qg(e,t,a,n);break e}else if(a!==r){r=An(Error(G(424)),t),xo(r),t=Qg(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(it=Hn(e.firstChild),Ft=t,Le=!0,Ds=null,Wn=!0,n=w0(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Uo(),a===r){t=Ea(e,t,n);break e}Dt(e,t,a,n)}t=t.child}return t;case 26:return rc(e,t),e===null?(n=px(t.type,null,t.pendingProps,null))?t.memoizedState=n:Le||(n=t.type,e=t.pendingProps,a=$c(ns.current).createElement(n),a[Ut]=t,a[an]=e,zt(a,n,e),Ct(a),t.stateNode=a):t.memoizedState=px(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xh(t),e===null&&Le&&(a=t.stateNode=bb(t.type,t.pendingProps,ns.current),Ft=t,Wn=!0,r=it,ps(t.type)?(nf=r,it=Hn(a.firstChild)):it=r),Dt(e,t,t.pendingProps.children,n),rc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Le&&((r=a=it)&&(a=s2(a,t.type,t.pendingProps,Wn),a!==null?(t.stateNode=a,Ft=t,it=Hn(a.firstChild),Wn=!1,r=!0):r=!1),r||Is(t)),xh(t),r=t.type,o=t.pendingProps,c=e!==null?e.memoizedProps:null,a=o.children,Jh(r,o)?a=null:c!==null&&Jh(r,c)&&(t.flags|=32),t.memoizedState!==null&&(r=om(e,t,wN,null,null,n),jo._currentValue=r),rc(e,t),Dt(e,t,a,n),t.child;case 6:return e===null&&Le&&((e=n=it)&&(n=i2(n,t.pendingProps,Wn),n!==null?(t.stateNode=n,Ft=t,it=null,e=!0):e=!1),e||Is(t)),null;case 13:return P0(e,t,n);case 4:return wc(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=$i(t,null,a,n):Dt(e,t,a,n),t.child;case 11:return Gg(e,t,t.type,t.pendingProps,n);case 7:return Dt(e,t,t.pendingProps,n),t.child;case 8:return Dt(e,t,t.pendingProps.children,n),t.child;case 12:return Dt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Ga(t,t.type,a.value),Dt(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Fs(t),r=Bt(r),a=a(r),t.flags|=1,Dt(e,t,a,n),t.child;case 14:return Yg(e,t,t.type,t.pendingProps,n);case 15:return E0(e,t,t.type,t.pendingProps,n);case 19:return L0(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=Uc(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Sa(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return M0(e,t,n);case 24:return Fs(t),a=Bt(bt),e===null?(r=am(),r===null&&(r=Ve,o=nm(),r.pooledCache=o,o.refCount++,o!==null&&(r.pooledCacheLanes|=n),r=o),t.memoizedState={parent:a,cache:r},sm(t),Ga(t,bt,r)):(e.lanes&n&&(Lh(e,t),io(t,null,null,n),so()),r=e.memoizedState,o=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Ga(t,bt,a)):(a=o.cache,Ga(t,bt,a),a!==r.cache&&Eh(t,[bt],n,!0))),Dt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(G(156,t.tag))}function pa(e){e.flags|=4}function Jg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!jb(t)){if(t=Cn.current,t!==null&&((Ae&4194048)===Ae?na!==null:(Ae&62914560)!==Ae&&!(Ae&536870912)||t!==na))throw no=Ph,Bv;e.flags|=8192}}function Ul(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rv():536870912,e.lanes|=t,Gi|=t)}function Lr(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags&65011712,a|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function MN(e,t,n){var a=t.pendingProps;switch(tm(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return st(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ta(bt),Bi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Mr(t)?pa(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cg())),st(t),null;case 26:return n=t.memoizedState,e===null?(pa(t),n!==null?(st(t),Jg(t,n)):(st(t),t.flags&=-16777217)):n?n!==e.memoizedState?(pa(t),st(t),Jg(t,n)):(st(t),t.flags&=-16777217):(e.memoizedProps!==a&&pa(t),st(t),t.flags&=-16777217),null;case 27:jc(t),n=ns.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&pa(t);else{if(!a){if(t.stateNode===null)throw Error(G(166));return st(t),null}e=ea.current,Mr(t)?Ag(t):(e=bb(r,a,n),t.stateNode=e,pa(t))}return st(t),null;case 5:if(jc(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&pa(t);else{if(!a){if(t.stateNode===null)throw Error(G(166));return st(t),null}if(e=ea.current,Mr(t))Ag(t);else{switch(r=$c(ns.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?r.createElement(n,{is:a.is}):r.createElement(n)}}e[Ut]=t,e[an]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(zt(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&pa(t)}}return st(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&pa(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(G(166));if(e=ns.current,Mr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,r=Ft,r!==null)switch(r.tag){case 27:case 5:a=r.memoizedProps}e[Ut]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||xb(e.nodeValue,n)),e||Is(t)}else e=$c(e).createTextNode(a),e[Ut]=t,t.stateNode=e}return st(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Mr(t),a!==null&&a.dehydrated!==null){if(e===null){if(!r)throw Error(G(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(G(317));r[Ut]=t}else Uo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),r=!1}else r=Cg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Na(t),t):(Na(t),null)}if(Na(t),t.flags&128)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,r=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(r=a.alternate.memoizedState.cachePool.pool);var o=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==r&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Ul(t,t.updateQueue),st(t),null;case 4:return Bi(),e===null&&Tm(t.stateNode.containerInfo),st(t),null;case 10:return Ta(t.type),st(t),null;case 19:if(Mt(_t),r=t.memoizedState,r===null)return st(t),null;if(a=(t.flags&128)!==0,o=r.rendering,o===null)if(a)Lr(r,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Rc(e),o!==null){for(t.flags|=128,Lr(r,!1),e=o.updateQueue,t.updateQueue=e,Ul(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Rv(n,e),n=n.sibling;return tt(_t,_t.current&1|2),t.child}e=e.sibling}r.tail!==null&&ta()>Hc&&(t.flags|=128,a=!0,Lr(r,!1),t.lanes=4194304)}else{if(!a)if(e=Rc(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Ul(t,e),Lr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Le)return st(t),null}else 2*ta()-r.renderingStartTime>Hc&&n!==536870912&&(t.flags|=128,a=!0,Lr(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e!==null?e.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=ta(),t.sibling=null,e=_t.current,tt(_t,a?e&1|2:e&1),t):(st(t),null);case 22:case 23:return Na(t),im(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),n=t.updateQueue,n!==null&&Ul(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Mt(Rs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ta(bt),st(t),null;case 25:return null;case 30:return null}throw Error(G(156,t.tag))}function PN(e,t){switch(tm(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ta(bt),Bi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return jc(t),null;case 13:if(Na(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Uo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Mt(_t),null;case 4:return Bi(),null;case 10:return Ta(t.type),null;case 22:case 23:return Na(t),im(),e!==null&&Mt(Rs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ta(bt),null;case 25:return null;default:return null}}function R0(e,t){switch(tm(t),t.tag){case 3:Ta(bt),Bi();break;case 26:case 27:case 5:jc(t);break;case 4:Bi();break;case 13:Na(t);break;case 19:Mt(_t);break;case 10:Ta(t.type);break;case 22:case 23:Na(t),im(),e!==null&&Mt(Rs);break;case 24:Ta(bt)}}function Zo(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var o=n.create,c=n.inst;a=o(),c.destroy=a}n=n.next}while(n!==r)}}catch(u){qe(t,t.return,u)}}function hs(e,t,n){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var o=r.next;a=o;do{if((a.tag&e)===e){var c=a.inst,u=c.destroy;if(u!==void 0){c.destroy=void 0,r=t;var d=n,f=u;try{f()}catch(m){qe(r,d,m)}}}a=a.next}while(a!==o)}}catch(m){qe(t,t.return,m)}}function z0(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Fv(t,n)}catch(a){qe(e,e.return,a)}}}function O0(e,t,n){n.props=Zs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){qe(e,t,a)}}function oo(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(r){qe(e,t,r)}}function Jn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(r){qe(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function U0(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){qe(e,e.return,r)}}function Rd(e,t,n){try{var a=e.stateNode;JN(a,e.type,n,t),a[an]=t}catch(r){qe(e,e.return,r)}}function B0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ps(e.type)||e.tag===4}function zd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||B0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ps(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qh(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Au));else if(a!==4&&(a===27&&ps(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(qh(e,t,n),e=e.sibling;e!==null;)qh(e,t,n),e=e.sibling}function Bc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&ps(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Bc(e,t,n),e=e.sibling;e!==null;)Bc(e,t,n),e=e.sibling}function H0(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);zt(t,a,n),t[Ut]=e,t[an]=n}catch(o){qe(e,e.return,o)}}var va=!1,dt=!1,Od=!1,ex=typeof WeakSet=="function"?WeakSet:Set,At=null;function LN(e,t){if(e=e.containerInfo,Qh=Xc,e=Av(e),Kf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var r=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var c=0,u=-1,d=-1,f=0,m=0,x=e,g=null;t:for(;;){for(var y;x!==n||r!==0&&x.nodeType!==3||(u=c+r),x!==o||a!==0&&x.nodeType!==3||(d=c+a),x.nodeType===3&&(c+=x.nodeValue.length),(y=x.firstChild)!==null;)g=x,x=y;for(;;){if(x===e)break t;if(g===n&&++f===r&&(u=c),g===o&&++m===a&&(d=c),(y=x.nextSibling)!==null)break;x=g,g=x.parentNode}x=y}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wh={focusedElem:e,selectionRange:n},Xc=!1,At=t;At!==null;)if(t=At,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,At=e;else for(;At!==null;){switch(t=At,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,r=o.memoizedProps,o=o.memoizedState,a=n.stateNode;try{var j=Zs(n.type,r,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(j,o),a.__reactInternalSnapshotBeforeUpdate=e}catch(S){qe(n,n.return,S)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ef(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ef(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(G(163))}if(e=t.sibling,e!==null){e.return=t.return,At=e;break}At=t.return}}function I0(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Fa(e,n),a&4&&Zo(5,n);break;case 1:if(Fa(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(c){qe(n,n.return,c)}else{var r=Zs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){qe(n,n.return,c)}}a&64&&z0(n),a&512&&oo(n,n.return);break;case 3:if(Fa(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Fv(e,t)}catch(c){qe(n,n.return,c)}}break;case 27:t===null&&a&4&&H0(n);case 26:case 5:Fa(e,n),t===null&&a&4&&U0(n),a&512&&oo(n,n.return);break;case 12:Fa(e,n);break;case 13:Fa(e,n),a&4&&Z0(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=FN.bind(null,n),r2(e,n))));break;case 22:if(a=n.memoizedState!==null||va,!a){t=t!==null&&t.memoizedState!==null||dt,r=va;var o=dt;va=a,(dt=t)&&!o?qa(e,n,(n.subtreeFlags&8772)!==0):Fa(e,n),va=r,dt=o}break;case 30:break;default:Fa(e,n)}}function F0(e){var t=e.alternate;t!==null&&(e.alternate=null,F0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Zf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,Qt=!1;function ga(e,t,n){for(n=n.child;n!==null;)q0(e,t,n),n=n.sibling}function q0(e,t,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Lo,n)}catch{}switch(n.tag){case 26:dt||Jn(n,t),ga(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:dt||Jn(n,t);var a=Je,r=Qt;ps(n.type)&&(Je=n.stateNode,Qt=!1),ga(e,t,n),ho(n.stateNode),Je=a,Qt=r;break;case 5:dt||Jn(n,t);case 6:if(a=Je,r=Qt,Je=null,ga(e,t,n),Je=a,Qt=r,Je!==null)if(Qt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(n.stateNode)}catch(o){qe(n,t,o)}else try{Je.removeChild(n.stateNode)}catch(o){qe(n,t,o)}break;case 18:Je!==null&&(Qt?(e=Je,hx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),To(e)):hx(Je,n.stateNode));break;case 4:a=Je,r=Qt,Je=n.stateNode.containerInfo,Qt=!0,ga(e,t,n),Je=a,Qt=r;break;case 0:case 11:case 14:case 15:dt||hs(2,n,t),dt||hs(4,n,t),ga(e,t,n);break;case 1:dt||(Jn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&O0(n,t,a)),ga(e,t,n);break;case 21:ga(e,t,n);break;case 22:dt=(a=dt)||n.memoizedState!==null,ga(e,t,n),dt=a;break;default:ga(e,t,n)}}function Z0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{To(e)}catch(n){qe(t,t.return,n)}}function DN(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ex),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ex),t;default:throw Error(G(435,e.tag))}}function Ud(e,t){var n=DN(e);t.forEach(function(a){var r=qN.bind(null,e,a);n.has(a)||(n.add(a),a.then(r,r))})}function ln(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var r=n[a],o=e,c=t,u=c;e:for(;u!==null;){switch(u.tag){case 27:if(ps(u.type)){Je=u.stateNode,Qt=!1;break e}break;case 5:Je=u.stateNode,Qt=!1;break e;case 3:case 4:Je=u.stateNode.containerInfo,Qt=!0;break e}u=u.return}if(Je===null)throw Error(G(160));q0(o,c,r),Je=null,Qt=!1,o=r.alternate,o!==null&&(o.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)$0(t,e),t=t.sibling}var On=null;function $0(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(t,e),cn(e),a&4&&(hs(3,e,e.return),Zo(3,e),hs(5,e,e.return));break;case 1:ln(t,e),cn(e),a&512&&(dt||n===null||Jn(n,n.return)),a&64&&va&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var r=On;if(ln(t,e),cn(e),a&512&&(dt||n===null||Jn(n,n.return)),a&4){var o=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":o=r.getElementsByTagName("title")[0],(!o||o[zo]||o[Ut]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=r.createElement(a),r.head.insertBefore(o,r.querySelector("head > title"))),zt(o,a,n),o[Ut]=e,Ct(o),a=o;break e;case"link":var c=xx("link","href",r).get(a+(n.href||""));if(c){for(var u=0;u<c.length;u++)if(o=c[u],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){c.splice(u,1);break t}}o=r.createElement(a),zt(o,a,n),r.head.appendChild(o);break;case"meta":if(c=xx("meta","content",r).get(a+(n.content||""))){for(u=0;u<c.length;u++)if(o=c[u],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){c.splice(u,1);break t}}o=r.createElement(a),zt(o,a,n),r.head.appendChild(o);break;default:throw Error(G(468,a))}o[Ut]=e,Ct(o),a=o}e.stateNode=a}else yx(r,e.type,e.stateNode);else e.stateNode=gx(r,a,e.memoizedProps);else o!==a?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,a===null?yx(r,e.type,e.stateNode):gx(r,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Rd(e,e.memoizedProps,n.memoizedProps)}break;case 27:ln(t,e),cn(e),a&512&&(dt||n===null||Jn(n,n.return)),n!==null&&a&4&&Rd(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ln(t,e),cn(e),a&512&&(dt||n===null||Jn(n,n.return)),e.flags&32){r=e.stateNode;try{Ii(r,"")}catch(y){qe(e,e.return,y)}}a&4&&e.stateNode!=null&&(r=e.memoizedProps,Rd(e,r,n!==null?n.memoizedProps:r)),a&1024&&(Od=!0);break;case 6:if(ln(t,e),cn(e),a&4){if(e.stateNode===null)throw Error(G(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(y){qe(e,e.return,y)}}break;case 3:if(cc=null,r=On,On=Gc(t.containerInfo),ln(t,e),On=r,cn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{To(t.containerInfo)}catch(y){qe(e,e.return,y)}Od&&(Od=!1,G0(e));break;case 4:a=On,On=Gc(e.stateNode.containerInfo),ln(t,e),cn(e),On=a;break;case 12:ln(t,e),cn(e);break;case 13:ln(t,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(jm=ta()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ud(e,a)));break;case 22:r=e.memoizedState!==null;var d=n!==null&&n.memoizedState!==null,f=va,m=dt;if(va=f||r,dt=m||d,ln(t,e),dt=m,va=f,cn(e),a&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||d||va||dt||Ss(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){d=n=t;try{if(o=d.stateNode,r)c=o.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{u=d.stateNode;var x=d.memoizedProps.style,g=x!=null&&x.hasOwnProperty("display")?x.display:null;u.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(y){qe(d,d.return,y)}}}else if(t.tag===6){if(n===null){d=t;try{d.stateNode.nodeValue=r?"":d.memoizedProps}catch(y){qe(d,d.return,y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Ud(e,n))));break;case 19:ln(t,e),cn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ud(e,a)));break;case 30:break;case 21:break;default:ln(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(B0(a)){n=a;break}a=a.return}if(n==null)throw Error(G(160));switch(n.tag){case 27:var r=n.stateNode,o=zd(e);Bc(e,o,r);break;case 5:var c=n.stateNode;n.flags&32&&(Ii(c,""),n.flags&=-33);var u=zd(e);Bc(e,u,c);break;case 3:case 4:var d=n.stateNode.containerInfo,f=zd(e);qh(e,f,d);break;default:throw Error(G(161))}}catch(m){qe(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function G0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;G0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)I0(e,t.alternate,t),t=t.sibling}function Ss(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:hs(4,t,t.return),Ss(t);break;case 1:Jn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&O0(t,t.return,n),Ss(t);break;case 27:ho(t.stateNode);case 26:case 5:Jn(t,t.return),Ss(t);break;case 22:t.memoizedState===null&&Ss(t);break;case 30:Ss(t);break;default:Ss(t)}e=e.sibling}}function qa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,r=e,o=t,c=o.flags;switch(o.tag){case 0:case 11:case 15:qa(r,o,n),Zo(4,o);break;case 1:if(qa(r,o,n),a=o,r=a.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(f){qe(a,a.return,f)}if(a=o,r=a.updateQueue,r!==null){var u=a.stateNode;try{var d=r.shared.hiddenCallbacks;if(d!==null)for(r.shared.hiddenCallbacks=null,r=0;r<d.length;r++)Iv(d[r],u)}catch(f){qe(a,a.return,f)}}n&&c&64&&z0(o),oo(o,o.return);break;case 27:H0(o);case 26:case 5:qa(r,o,n),n&&a===null&&c&4&&U0(o),oo(o,o.return);break;case 12:qa(r,o,n);break;case 13:qa(r,o,n),n&&c&4&&Z0(r,o);break;case 22:o.memoizedState===null&&qa(r,o,n),oo(o,o.return);break;case 30:break;default:qa(r,o,n)}t=t.sibling}}function vm(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ho(n))}function bm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ho(e))}function Kn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Y0(e,t,n,a),t=t.sibling}function Y0(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Kn(e,t,n,a),r&2048&&Zo(9,t);break;case 1:Kn(e,t,n,a);break;case 3:Kn(e,t,n,a),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ho(e)));break;case 12:if(r&2048){Kn(e,t,n,a),e=t.stateNode;try{var o=t.memoizedProps,c=o.id,u=o.onPostCommit;typeof u=="function"&&u(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(d){qe(t,t.return,d)}}else Kn(e,t,n,a);break;case 13:Kn(e,t,n,a);break;case 23:break;case 22:o=t.stateNode,c=t.alternate,t.memoizedState!==null?o._visibility&2?Kn(e,t,n,a):lo(e,t):o._visibility&2?Kn(e,t,n,a):(o._visibility|=2,hi(e,t,n,a,(t.subtreeFlags&10256)!==0)),r&2048&&vm(c,t);break;case 24:Kn(e,t,n,a),r&2048&&bm(t.alternate,t);break;default:Kn(e,t,n,a)}}function hi(e,t,n,a,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,c=t,u=n,d=a,f=c.flags;switch(c.tag){case 0:case 11:case 15:hi(o,c,u,d,r),Zo(8,c);break;case 23:break;case 22:var m=c.stateNode;c.memoizedState!==null?m._visibility&2?hi(o,c,u,d,r):lo(o,c):(m._visibility|=2,hi(o,c,u,d,r)),r&&f&2048&&vm(c.alternate,c);break;case 24:hi(o,c,u,d,r),r&&f&2048&&bm(c.alternate,c);break;default:hi(o,c,u,d,r)}t=t.sibling}}function lo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:lo(n,a),r&2048&&vm(a.alternate,a);break;case 24:lo(n,a),r&2048&&bm(a.alternate,a);break;default:lo(n,a)}t=t.sibling}}var Gr=8192;function li(e){if(e.subtreeFlags&Gr)for(e=e.child;e!==null;)V0(e),e=e.sibling}function V0(e){switch(e.tag){case 26:li(e),e.flags&Gr&&e.memoizedState!==null&&v2(On,e.memoizedState,e.memoizedProps);break;case 5:li(e);break;case 3:case 4:var t=On;On=Gc(e.stateNode.containerInfo),li(e),On=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Gr,Gr=16777216,li(e),Gr=t):li(e));break;default:li(e)}}function X0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Dr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];At=a,Q0(a,e)}X0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)K0(e),e=e.sibling}function K0(e){switch(e.tag){case 0:case 11:case 15:Dr(e),e.flags&2048&&hs(9,e,e.return);break;case 3:Dr(e);break;case 12:Dr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,oc(e)):Dr(e);break;default:Dr(e)}}function oc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];At=a,Q0(a,e)}X0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:hs(8,t,t.return),oc(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,oc(t));break;default:oc(t)}e=e.sibling}}function Q0(e,t){for(;At!==null;){var n=At;switch(n.tag){case 0:case 11:case 15:hs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ho(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,At=a;else e:for(n=e;At!==null;){a=At;var r=a.sibling,o=a.return;if(F0(a),a===n){At=null;break e}if(r!==null){r.return=o,At=r;break e}At=o}}}var RN={getCacheForType:function(e){var t=Bt(bt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},zN=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Ve=null,we=null,Ae=0,ze=0,un=null,Ja=!1,ir=!1,_m=!1,Ma=0,rt=0,fs=0,zs=0,wm=0,kn=0,Gi=0,co=null,Wt=null,Zh=!1,jm=0,Hc=1/0,Ic=null,is=null,Rt=0,rs=null,Yi=null,zi=0,$h=0,Gh=null,W0=null,uo=0,Yh=null;function mn(){if(Oe&2&&Ae!==0)return Ae&-Ae;if(fe.T!==null){var e=Fi;return e!==0?e:Sm()}return cv()}function J0(){kn===0&&(kn=!(Ae&536870912)||Le?iv():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),kn}function pn(e,t,n){(e===Ve&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(Vi(e,0),es(e,Ae,kn,!1)),Ro(e,n),(!(Oe&2)||e!==Ve)&&(e===Ve&&(!(Oe&2)&&(zs|=n),rt===4&&es(e,Ae,kn,!1)),ra(e))}function eb(e,t,n){if(Oe&6)throw Error(G(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Do(e,t),r=a?BN(e,t):Bd(e,t,!0),o=a;do{if(r===0){ir&&!a&&es(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!ON(n)){r=Bd(e,t,!1),o=!1;continue}if(r===2){if(o=t,e.errorRecoveryDisabledLanes&o)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var u=e;r=co;var d=u.current.memoizedState.isDehydrated;if(d&&(Vi(u,c).flags|=256),c=Bd(u,c,!1),c!==2){if(_m&&!d){u.errorRecoveryDisabledLanes|=o,zs|=o,r=4;break e}o=Wt,Wt=r,o!==null&&(Wt===null?Wt=o:Wt.push.apply(Wt,o))}r=c}if(o=!1,r!==2)continue}}if(r===1){Vi(e,0),es(e,t,0,!0);break}e:{switch(a=e,o=r,o){case 0:case 1:throw Error(G(345));case 4:if((t&4194048)!==t)break;case 6:es(a,t,kn,!Ja);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(G(329))}if((t&62914560)===t&&(r=jm+300-ta(),10<r)){if(es(a,t,kn,!Ja),mu(a,0,!0)!==0)break e;a.timeoutHandle=vb(tx.bind(null,a,n,Wt,Ic,Zh,t,kn,zs,Gi,Ja,o,2,-0,0),r);break e}tx(a,n,Wt,Ic,Zh,t,kn,zs,Gi,Ja,o,0,-0,0)}}break}while(!0);ra(e)}function tx(e,t,n,a,r,o,c,u,d,f,m,x,g,y){if(e.timeoutHandle=-1,x=t.subtreeFlags,(x&8192||(x&16785408)===16785408)&&(wo={stylesheets:null,count:0,unsuspend:y2},V0(t),x=b2(),x!==null)){e.cancelPendingCommit=x(ax.bind(null,e,t,o,n,a,r,c,u,d,m,1,g,y)),es(e,o,c,!f);return}ax(e,t,o,n,a,r,c,u,d)}function ON(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var r=n[a],o=r.getSnapshot;r=r.value;try{if(!gn(o(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function es(e,t,n,a){t&=~wm,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var o=31-fn(r),c=1<<o;a[o]=-1,r&=~c}n!==0&&ov(e,n,t)}function Nu(){return Oe&6?!0:($o(0),!1)}function Nm(){if(we!==null){if(ze===0)var e=we.return;else e=we,ja=Qs=null,um(e),Ri=null,vo=0,e=we;for(;e!==null;)R0(e.alternate,e),e=e.return;we=null}}function Vi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,t2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Nm(),Ve=e,we=n=Sa(e.current,null),Ae=t,ze=0,un=null,Ja=!1,ir=Do(e,t),_m=!1,Gi=kn=wm=zs=fs=rt=0,Wt=co=null,Zh=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var r=31-fn(a),o=1<<r;t|=e[r],a&=~o}return Ma=t,yu(),n}function tb(e,t){ve=null,fe.H=Dc,t===Io||t===bu?(t=Lg(),ze=3):t===Bv?(t=Lg(),ze=4):ze=t===C0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,un=t,we===null&&(rt=1,Oc(e,An(t,e.current)))}function nb(){var e=fe.H;return fe.H=Dc,e===null?Dc:e}function ab(){var e=fe.A;return fe.A=RN,e}function Vh(){rt=4,Ja||(Ae&4194048)!==Ae&&Cn.current!==null||(ir=!0),!(fs&134217727)&&!(zs&134217727)||Ve===null||es(Ve,Ae,kn,!1)}function Bd(e,t,n){var a=Oe;Oe|=2;var r=nb(),o=ab();(Ve!==e||Ae!==t)&&(Ic=null,Vi(e,t)),t=!1;var c=rt;e:do try{if(ze!==0&&we!==null){var u=we,d=un;switch(ze){case 8:Nm(),c=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(t=!0);var f=ze;if(ze=0,un=null,Ti(e,u,d,f),n&&ir){c=0;break e}break;default:f=ze,ze=0,un=null,Ti(e,u,d,f)}}UN(),c=rt;break}catch(m){tb(e,m)}while(!0);return t&&e.shellSuspendCounter++,ja=Qs=null,Oe=a,fe.H=r,fe.A=o,we===null&&(Ve=null,Ae=0,yu()),c}function UN(){for(;we!==null;)sb(we)}function BN(e,t){var n=Oe;Oe|=2;var a=nb(),r=ab();Ve!==e||Ae!==t?(Ic=null,Hc=ta()+500,Vi(e,t)):ir=Do(e,t);e:do try{if(ze!==0&&we!==null){t=we;var o=un;t:switch(ze){case 1:ze=0,un=null,Ti(e,t,o,1);break;case 2:case 9:if(Pg(o)){ze=0,un=null,nx(t);break}t=function(){ze!==2&&ze!==9||Ve!==e||(ze=7),ra(e)},o.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Pg(o)?(ze=0,un=null,nx(t)):(ze=0,un=null,Ti(e,t,o,7));break;case 5:var c=null;switch(we.tag){case 26:c=we.memoizedState;case 5:case 27:var u=we;if(!c||jb(c)){ze=0,un=null;var d=u.sibling;if(d!==null)we=d;else{var f=u.return;f!==null?(we=f,Su(f)):we=null}break t}}ze=0,un=null,Ti(e,t,o,5);break;case 6:ze=0,un=null,Ti(e,t,o,6);break;case 8:Nm(),rt=6;break e;default:throw Error(G(462))}}HN();break}catch(m){tb(e,m)}while(!0);return ja=Qs=null,fe.H=a,fe.A=r,Oe=n,we!==null?0:(Ve=null,Ae=0,yu(),rt)}function HN(){for(;we!==null&&!lj();)sb(we)}function sb(e){var t=D0(e.alternate,e,Ma);e.memoizedProps=e.pendingProps,t===null?Su(e):we=t}function nx(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Xg(n,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=Xg(n,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:um(t);default:R0(n,t),t=we=Rv(t,Ma),t=D0(n,t,Ma)}e.memoizedProps=e.pendingProps,t===null?Su(e):we=t}function Ti(e,t,n,a){ja=Qs=null,um(t),Ri=null,vo=0;var r=t.return;try{if(CN(e,r,t,n,Ae)){rt=1,Oc(e,An(n,e.current)),we=null;return}}catch(o){if(r!==null)throw we=r,o;rt=1,Oc(e,An(n,e.current)),we=null;return}t.flags&32768?(Le||a===1?e=!0:ir||Ae&536870912?e=!1:(Ja=e=!0,(a===2||a===9||a===3||a===6)&&(a=Cn.current,a!==null&&a.tag===13&&(a.flags|=16384))),ib(t,e)):Su(t)}function Su(e){var t=e;do{if(t.flags&32768){ib(t,Ja);return}e=t.return;var n=MN(t.alternate,t,Ma);if(n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);rt===0&&(rt=5)}function ib(e,t){do{var n=PN(e.alternate,e);if(n!==null){n.flags&=32767,we=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=n}while(e!==null);rt=6,we=null}function ax(e,t,n,a,r,o,c,u,d){e.cancelPendingCommit=null;do Tu();while(Rt!==0);if(Oe&6)throw Error(G(327));if(t!==null){if(t===e.current)throw Error(G(177));if(o=t.lanes|t.childLanes,o|=Qf,yj(e,n,o,c,u,d),e===Ve&&(we=Ve=null,Ae=0),Yi=t,rs=e,zi=n,$h=o,Gh=r,W0=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,ZN(Nc,function(){return ub(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=fe.T,fe.T=null,r=De.p,De.p=2,c=Oe,Oe|=4;try{LN(e,t,n)}finally{Oe=c,De.p=r,fe.T=a}}Rt=1,rb(),ob(),lb()}}function rb(){if(Rt===1){Rt=0;var e=rs,t=Yi,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=fe.T,fe.T=null;var a=De.p;De.p=2;var r=Oe;Oe|=4;try{$0(t,e);var o=Wh,c=Av(e.containerInfo),u=o.focusedElem,d=o.selectionRange;if(c!==u&&u&&u.ownerDocument&&Tv(u.ownerDocument.documentElement,u)){if(d!==null&&Kf(u)){var f=d.start,m=d.end;if(m===void 0&&(m=f),"selectionStart"in u)u.selectionStart=f,u.selectionEnd=Math.min(m,u.value.length);else{var x=u.ownerDocument||document,g=x&&x.defaultView||window;if(g.getSelection){var y=g.getSelection(),j=u.textContent.length,S=Math.min(d.start,j),T=d.end===void 0?S:Math.min(d.end,j);!y.extend&&S>T&&(c=T,T=S,S=c);var b=Ng(u,S),_=Ng(u,T);if(b&&_&&(y.rangeCount!==1||y.anchorNode!==b.node||y.anchorOffset!==b.offset||y.focusNode!==_.node||y.focusOffset!==_.offset)){var N=x.createRange();N.setStart(b.node,b.offset),y.removeAllRanges(),S>T?(y.addRange(N),y.extend(_.node,_.offset)):(N.setEnd(_.node,_.offset),y.addRange(N))}}}}for(x=[],y=u;y=y.parentNode;)y.nodeType===1&&x.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<x.length;u++){var C=x[u];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}Xc=!!Qh,Wh=Qh=null}finally{Oe=r,De.p=a,fe.T=n}}e.current=t,Rt=2}}function ob(){if(Rt===2){Rt=0;var e=rs,t=Yi,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=fe.T,fe.T=null;var a=De.p;De.p=2;var r=Oe;Oe|=4;try{I0(e,t.alternate,t)}finally{Oe=r,De.p=a,fe.T=n}}Rt=3}}function lb(){if(Rt===4||Rt===3){Rt=0,cj();var e=rs,t=Yi,n=zi,a=W0;t.subtreeFlags&10256||t.flags&10256?Rt=5:(Rt=0,Yi=rs=null,cb(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(is=null),qf(n),t=t.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Lo,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=fe.T,r=De.p,De.p=2,fe.T=null;try{for(var o=e.onRecoverableError,c=0;c<a.length;c++){var u=a[c];o(u.value,{componentStack:u.stack})}}finally{fe.T=t,De.p=r}}zi&3&&Tu(),ra(e),r=e.pendingLanes,n&4194090&&r&42?e===Yh?uo++:(uo=0,Yh=e):uo=0,$o(0)}}function cb(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ho(t)))}function Tu(e){return rb(),ob(),lb(),ub()}function ub(){if(Rt!==5)return!1;var e=rs,t=$h;$h=0;var n=qf(zi),a=fe.T,r=De.p;try{De.p=32>n?32:n,fe.T=null,n=Gh,Gh=null;var o=rs,c=zi;if(Rt=0,Yi=rs=null,zi=0,Oe&6)throw Error(G(331));var u=Oe;if(Oe|=4,K0(o.current),Y0(o,o.current,c,n),Oe=u,$o(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Lo,o)}catch{}return!0}finally{De.p=r,fe.T=a,cb(e,t)}}function sx(e,t,n){t=An(n,t),t=Hh(e.stateNode,t,2),e=ss(e,t,2),e!==null&&(Ro(e,2),ra(e))}function qe(e,t,n){if(e.tag===3)sx(e,e,n);else for(;t!==null;){if(t.tag===3){sx(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(is===null||!is.has(a))){e=An(n,e),n=A0(2),a=ss(t,n,2),a!==null&&(k0(n,a,t,e),Ro(a,2),ra(a));break}}t=t.return}}function Hd(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new zN;var r=new Set;a.set(t,r)}else r=a.get(t),r===void 0&&(r=new Set,a.set(t,r));r.has(n)||(_m=!0,r.add(n),e=IN.bind(null,e,t,n),t.then(e,e))}function IN(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ve===e&&(Ae&n)===n&&(rt===4||rt===3&&(Ae&62914560)===Ae&&300>ta()-jm?!(Oe&2)&&Vi(e,0):wm|=n,Gi===Ae&&(Gi=0)),ra(e)}function db(e,t){t===0&&(t=rv()),e=sr(e,t),e!==null&&(Ro(e,t),ra(e))}function FN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),db(e,n)}function qN(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(G(314))}a!==null&&a.delete(t),db(e,n)}function ZN(e,t){return If(e,t)}var Fc=null,fi=null,Xh=!1,qc=!1,Id=!1,Os=0;function ra(e){e!==fi&&e.next===null&&(fi===null?Fc=fi=e:fi=fi.next=e),qc=!0,Xh||(Xh=!0,GN())}function $o(e,t){if(!Id&&qc){Id=!0;do for(var n=!1,a=Fc;a!==null;){if(e!==0){var r=a.pendingLanes;if(r===0)var o=0;else{var c=a.suspendedLanes,u=a.pingedLanes;o=(1<<31-fn(42|e)+1)-1,o&=r&~(c&~u),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,ix(a,o))}else o=Ae,o=mu(a,a===Ve?o:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(o&3)||Do(a,o)||(n=!0,ix(a,o));a=a.next}while(n);Id=!1}}function $N(){hb()}function hb(){qc=Xh=!1;var e=0;Os!==0&&(e2()&&(e=Os),Os=0);for(var t=ta(),n=null,a=Fc;a!==null;){var r=a.next,o=fb(a,t);o===0?(a.next=null,n===null?Fc=r:n.next=r,r===null&&(fi=n)):(n=a,(e!==0||o&3)&&(qc=!0)),a=r}$o(e)}function fb(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var c=31-fn(o),u=1<<c,d=r[c];d===-1?(!(u&n)||u&a)&&(r[c]=xj(u,t)):d<=t&&(e.expiredLanes|=u),o&=~u}if(t=Ve,n=Ae,n=mu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&fd(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Do(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&fd(a),qf(n)){case 2:case 8:n=av;break;case 32:n=Nc;break;case 268435456:n=sv;break;default:n=Nc}return a=mb.bind(null,e),n=If(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&fd(a),e.callbackPriority=2,e.callbackNode=null,2}function mb(e,t){if(Rt!==0&&Rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Tu()&&e.callbackNode!==n)return null;var a=Ae;return a=mu(e,e===Ve?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(eb(e,a,t),fb(e,ta()),e.callbackNode!=null&&e.callbackNode===n?mb.bind(null,e):null)}function ix(e,t){if(Tu())return null;eb(e,t,!0)}function GN(){n2(function(){Oe&6?If(nv,$N):hb()})}function Sm(){return Os===0&&(Os=iv()),Os}function rx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jl(""+e)}function ox(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function YN(e,t,n,a,r){if(t==="submit"&&n&&n.stateNode===r){var o=rx((r[an]||null).action),c=a.submitter;c&&(t=(t=c[an]||null)?rx(t.formAction):c.getAttribute("formAction"),t!==null&&(o=t,c=null));var u=new pu("action","action",null,a,r);e.push({event:u,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Os!==0){var d=c?ox(r,c):new FormData(r);Uh(n,{pending:!0,data:d,method:r.method,action:o},null,d)}}else typeof o=="function"&&(u.preventDefault(),d=c?ox(r,c):new FormData(r),Uh(n,{pending:!0,data:d,method:r.method,action:o},o,d))},currentTarget:r}]})}}for(var Fd=0;Fd<Th.length;Fd++){var qd=Th[Fd],VN=qd.toLowerCase(),XN=qd[0].toUpperCase()+qd.slice(1);In(VN,"on"+XN)}In(Cv,"onAnimationEnd");In(Ev,"onAnimationIteration");In(Mv,"onAnimationStart");In("dblclick","onDoubleClick");In("focusin","onFocus");In("focusout","onBlur");In(hN,"onTransitionRun");In(fN,"onTransitionStart");In(mN,"onTransitionCancel");In(Pv,"onTransitionEnd");Hi("onMouseEnter",["mouseout","mouseover"]);Hi("onMouseLeave",["mouseout","mouseover"]);Hi("onPointerEnter",["pointerout","pointerover"]);Hi("onPointerLeave",["pointerout","pointerover"]);Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bo));function pb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var c=a.length-1;0<=c;c--){var u=a[c],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==o&&r.isPropagationStopped())break e;o=u,r.currentTarget=f;try{o(r)}catch(m){zc(m)}r.currentTarget=null,o=d}else for(c=0;c<a.length;c++){if(u=a[c],d=u.instance,f=u.currentTarget,u=u.listener,d!==o&&r.isPropagationStopped())break e;o=u,r.currentTarget=f;try{o(r)}catch(m){zc(m)}r.currentTarget=null,o=d}}}}function _e(e,t){var n=t[vh];n===void 0&&(n=t[vh]=new Set);var a=e+"__bubble";n.has(a)||(gb(t,e,2,!1),n.add(a))}function Zd(e,t,n){var a=0;t&&(a|=4),gb(n,e,a,t)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function Tm(e){if(!e[Bl]){e[Bl]=!0,uv.forEach(function(n){n!=="selectionchange"&&(KN.has(n)||Zd(n,!1,e),Zd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bl]||(t[Bl]=!0,Zd("selectionchange",!1,t))}}function gb(e,t,n,a){switch(kb(t)){case 2:var r=j2;break;case 8:r=N2;break;default:r=Em}n=r.bind(null,t,n,e),r=void 0,!jh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),a?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function $d(e,t,n,a,r){var o=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var c=a.tag;if(c===3||c===4){var u=a.stateNode.containerInfo;if(u===r)break;if(c===4)for(c=a.return;c!==null;){var d=c.tag;if((d===3||d===4)&&c.stateNode.containerInfo===r)return;c=c.return}for(;u!==null;){if(c=xi(u),c===null)return;if(d=c.tag,d===5||d===6||d===26||d===27){a=o=c;continue e}u=u.parentNode}}a=a.return}yv(function(){var f=o,m=Gf(n),x=[];e:{var g=Lv.get(e);if(g!==void 0){var y=pu,j=e;switch(e){case"keypress":if(tc(n)===0)break e;case"keydown":case"keyup":y=Zj;break;case"focusin":j="focus",y=_d;break;case"focusout":j="blur",y=_d;break;case"beforeblur":case"afterblur":y=_d;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Pj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Yj;break;case Cv:case Ev:case Mv:y=Rj;break;case Pv:y=Xj;break;case"scroll":case"scrollend":y=Ej;break;case"wheel":y=Qj;break;case"copy":case"cut":case"paste":y=Oj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=gg;break;case"toggle":case"beforetoggle":y=Jj}var S=(t&4)!==0,T=!S&&(e==="scroll"||e==="scrollend"),b=S?g!==null?g+"Capture":null:g;S=[];for(var _=f,N;_!==null;){var C=_;if(N=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||N===null||b===null||(C=mo(_,b),C!=null&&S.push(_o(_,C,N))),T)break;_=_.return}0<S.length&&(g=new y(g,j,null,n,m),x.push({event:g,listeners:S}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&n!==wh&&(j=n.relatedTarget||n.fromElement)&&(xi(j)||j[nr]))break e;if((y||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,y?(j=n.relatedTarget||n.toElement,y=f,j=j?xi(j):null,j!==null&&(T=Po(j),S=j.tag,j!==T||S!==5&&S!==27&&S!==6)&&(j=null)):(y=null,j=f),y!==j)){if(S=mg,C="onMouseLeave",b="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(S=gg,C="onPointerLeave",b="onPointerEnter",_="pointer"),T=y==null?g:$r(y),N=j==null?g:$r(j),g=new S(C,_+"leave",y,n,m),g.target=T,g.relatedTarget=N,C=null,xi(m)===f&&(S=new S(b,_+"enter",j,n,m),S.target=N,S.relatedTarget=T,C=S),T=C,y&&j)t:{for(S=y,b=j,_=0,N=S;N;N=ci(N))_++;for(N=0,C=b;C;C=ci(C))N++;for(;0<_-N;)S=ci(S),_--;for(;0<N-_;)b=ci(b),N--;for(;_--;){if(S===b||b!==null&&S===b.alternate)break t;S=ci(S),b=ci(b)}S=null}else S=null;y!==null&&lx(x,g,y,S,!1),j!==null&&T!==null&&lx(x,T,j,S,!0)}}e:{if(g=f?$r(f):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var E=bg;else if(vg(g))if(Nv)E=cN;else{E=oN;var P=rN}else y=g.nodeName,!y||y.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?f&&$f(f.elementType)&&(E=bg):E=lN;if(E&&(E=E(e,f))){jv(x,E,n,m);break e}P&&P(e,g,f),e==="focusout"&&f&&g.type==="number"&&f.memoizedProps.value!=null&&_h(g,"number",g.value)}switch(P=f?$r(f):window,e){case"focusin":(vg(P)||P.contentEditable==="true")&&(bi=P,Nh=f,eo=null);break;case"focusout":eo=Nh=bi=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,Sg(x,n,m);break;case"selectionchange":if(dN)break;case"keydown":case"keyup":Sg(x,n,m)}var M;if(Xf)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else vi?_v(e,n)&&(H="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(bv&&n.locale!=="ko"&&(vi||H!=="onCompositionStart"?H==="onCompositionEnd"&&vi&&(M=vv()):(Wa=m,Yf="value"in Wa?Wa.value:Wa.textContent,vi=!0)),P=Zc(f,H),0<P.length&&(H=new pg(H,e,null,n,m),x.push({event:H,listeners:P}),M?H.data=M:(M=wv(n),M!==null&&(H.data=M)))),(M=tN?nN(e,n):aN(e,n))&&(H=Zc(f,"onBeforeInput"),0<H.length&&(P=new pg("onBeforeInput","beforeinput",null,n,m),x.push({event:P,listeners:H}),P.data=M)),YN(x,e,f,n,m)}pb(x,t)})}function _o(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zc(e,t){for(var n=t+"Capture",a=[];e!==null;){var r=e,o=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||o===null||(r=mo(e,n),r!=null&&a.unshift(_o(e,r,o)),r=mo(e,t),r!=null&&a.push(_o(e,r,o))),e.tag===3)return a;e=e.return}return[]}function ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lx(e,t,n,a,r){for(var o=t._reactName,c=[];n!==null&&n!==a;){var u=n,d=u.alternate,f=u.stateNode;if(u=u.tag,d!==null&&d===a)break;u!==5&&u!==26&&u!==27||f===null||(d=f,r?(f=mo(n,o),f!=null&&c.unshift(_o(n,f,d))):r||(f=mo(n,o),f!=null&&c.push(_o(n,f,d)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var QN=/\r\n?/g,WN=/\u0000|\uFFFD/g;function cx(e){return(typeof e=="string"?e:""+e).replace(QN,`
`).replace(WN,"")}function xb(e,t){return t=cx(t),cx(e)===t}function Au(){}function Ie(e,t,n,a,r,o){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ii(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ii(e,""+a);break;case"className":Pl(e,"class",a);break;case"tabIndex":Pl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Pl(e,n,a);break;case"style":xv(e,a,o);break;case"data":if(t!=="object"){Pl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Jl(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&Ie(e,t,"name",r.name,r,null),Ie(e,t,"formEncType",r.formEncType,r,null),Ie(e,t,"formMethod",r.formMethod,r,null),Ie(e,t,"formTarget",r.formTarget,r,null)):(Ie(e,t,"encType",r.encType,r,null),Ie(e,t,"method",r.method,r,null),Ie(e,t,"target",r.target,r,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Jl(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Au);break;case"onScroll":a!=null&&_e("scroll",e);break;case"onScrollEnd":a!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(G(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(G(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Jl(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Wl(e,"popover",a);break;case"xlinkActuate":ma(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ma(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ma(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ma(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ma(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ma(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ma(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ma(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ma(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Wl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=kj.get(n)||n,Wl(e,n,a))}}function Kh(e,t,n,a,r,o){switch(n){case"style":xv(e,a,o);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(G(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(G(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Ii(e,a):(typeof a=="number"||typeof a=="bigint")&&Ii(e,""+a);break;case"onScroll":a!=null&&_e("scroll",e);break;case"onScrollEnd":a!=null&&_e("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Au);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),o=e[an]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,r),typeof a=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Wl(e,n,a)}}}function zt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var a=!1,r=!1,o;for(o in n)if(n.hasOwnProperty(o)){var c=n[o];if(c!=null)switch(o){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(G(137,t));default:Ie(e,t,o,c,n,null)}}r&&Ie(e,t,"srcSet",n.srcSet,n,null),a&&Ie(e,t,"src",n.src,n,null);return;case"input":_e("invalid",e);var u=o=c=r=null,d=null,f=null;for(a in n)if(n.hasOwnProperty(a)){var m=n[a];if(m!=null)switch(a){case"name":r=m;break;case"type":c=m;break;case"checked":d=m;break;case"defaultChecked":f=m;break;case"value":o=m;break;case"defaultValue":u=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(G(137,t));break;default:Ie(e,t,a,m,n,null)}}mv(e,o,u,d,f,c,r,!1),Sc(e);return;case"select":_e("invalid",e),a=c=o=null;for(r in n)if(n.hasOwnProperty(r)&&(u=n[r],u!=null))switch(r){case"value":o=u;break;case"defaultValue":c=u;break;case"multiple":a=u;default:Ie(e,t,r,u,n,null)}t=o,n=c,e.multiple=!!a,t!=null?Ei(e,!!a,t,!1):n!=null&&Ei(e,!!a,n,!0);return;case"textarea":_e("invalid",e),o=r=a=null;for(c in n)if(n.hasOwnProperty(c)&&(u=n[c],u!=null))switch(c){case"value":a=u;break;case"defaultValue":r=u;break;case"children":o=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(G(91));break;default:Ie(e,t,c,u,n,null)}gv(e,a,r,o),Sc(e);return;case"option":for(d in n)if(n.hasOwnProperty(d)&&(a=n[d],a!=null))switch(d){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ie(e,t,d,a,n,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(a=0;a<bo.length;a++)_e(bo[a],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(a=n[f],a!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(G(137,t));default:Ie(e,t,f,a,n,null)}return;default:if($f(t)){for(m in n)n.hasOwnProperty(m)&&(a=n[m],a!==void 0&&Kh(e,t,m,a,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(a=n[u],a!=null&&Ie(e,t,u,a,n,null))}function JN(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,o=null,c=null,u=null,d=null,f=null,m=null;for(y in n){var x=n[y];if(n.hasOwnProperty(y)&&x!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":d=x;default:a.hasOwnProperty(y)||Ie(e,t,y,null,a,x)}}for(var g in a){var y=a[g];if(x=n[g],a.hasOwnProperty(g)&&(y!=null||x!=null))switch(g){case"type":o=y;break;case"name":r=y;break;case"checked":f=y;break;case"defaultChecked":m=y;break;case"value":c=y;break;case"defaultValue":u=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(G(137,t));break;default:y!==x&&Ie(e,t,g,y,a,x)}}bh(e,c,u,d,f,m,o,r);return;case"select":y=c=u=g=null;for(o in n)if(d=n[o],n.hasOwnProperty(o)&&d!=null)switch(o){case"value":break;case"multiple":y=d;default:a.hasOwnProperty(o)||Ie(e,t,o,null,a,d)}for(r in a)if(o=a[r],d=n[r],a.hasOwnProperty(r)&&(o!=null||d!=null))switch(r){case"value":g=o;break;case"defaultValue":u=o;break;case"multiple":c=o;default:o!==d&&Ie(e,t,r,o,a,d)}t=u,n=c,a=y,g!=null?Ei(e,!!n,g,!1):!!a!=!!n&&(t!=null?Ei(e,!!n,t,!0):Ei(e,!!n,n?[]:"",!1));return;case"textarea":y=g=null;for(u in n)if(r=n[u],n.hasOwnProperty(u)&&r!=null&&!a.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:Ie(e,t,u,null,a,r)}for(c in a)if(r=a[c],o=n[c],a.hasOwnProperty(c)&&(r!=null||o!=null))switch(c){case"value":g=r;break;case"defaultValue":y=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(G(91));break;default:r!==o&&Ie(e,t,c,r,a,o)}pv(e,g,y);return;case"option":for(var j in n)if(g=n[j],n.hasOwnProperty(j)&&g!=null&&!a.hasOwnProperty(j))switch(j){case"selected":e.selected=!1;break;default:Ie(e,t,j,null,a,g)}for(d in a)if(g=a[d],y=n[d],a.hasOwnProperty(d)&&g!==y&&(g!=null||y!=null))switch(d){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ie(e,t,d,g,a,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in n)g=n[S],n.hasOwnProperty(S)&&g!=null&&!a.hasOwnProperty(S)&&Ie(e,t,S,null,a,g);for(f in a)if(g=a[f],y=n[f],a.hasOwnProperty(f)&&g!==y&&(g!=null||y!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(G(137,t));break;default:Ie(e,t,f,g,a,y)}return;default:if($f(t)){for(var T in n)g=n[T],n.hasOwnProperty(T)&&g!==void 0&&!a.hasOwnProperty(T)&&Kh(e,t,T,void 0,a,g);for(m in a)g=a[m],y=n[m],!a.hasOwnProperty(m)||g===y||g===void 0&&y===void 0||Kh(e,t,m,g,a,y);return}}for(var b in n)g=n[b],n.hasOwnProperty(b)&&g!=null&&!a.hasOwnProperty(b)&&Ie(e,t,b,null,a,g);for(x in a)g=a[x],y=n[x],!a.hasOwnProperty(x)||g===y||g==null&&y==null||Ie(e,t,x,g,a,y)}var Qh=null,Wh=null;function $c(e){return e.nodeType===9?e:e.ownerDocument}function ux(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yb(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gd=null;function e2(){var e=window.event;return e&&e.type==="popstate"?e===Gd?!1:(Gd=e,!0):(Gd=null,!1)}var vb=typeof setTimeout=="function"?setTimeout:void 0,t2=typeof clearTimeout=="function"?clearTimeout:void 0,dx=typeof Promise=="function"?Promise:void 0,n2=typeof queueMicrotask=="function"?queueMicrotask:typeof dx<"u"?function(e){return dx.resolve(null).then(e).catch(a2)}:vb;function a2(e){setTimeout(function(){throw e})}function ps(e){return e==="head"}function hx(e,t){var n=t,a=0,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<a&&8>a){n=a;var c=e.ownerDocument;if(n&1&&ho(c.documentElement),n&2&&ho(c.body),n&4)for(n=c.head,ho(n),c=n.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[zo]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&c.rel.toLowerCase()==="stylesheet"||n.removeChild(c),c=u}}if(r===0){e.removeChild(o),To(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:a=n.charCodeAt(0)-48;else a=0;n=o}while(n);To(t)}function ef(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ef(n),Zf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function s2(e,t,n,a){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[zo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function i2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Hn(e.nextSibling),e===null))return null;return e}function tf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function r2(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var nf=null;function fx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function bb(e,t,n){switch(t=$c(n),e){case"html":if(e=t.documentElement,!e)throw Error(G(452));return e;case"head":if(e=t.head,!e)throw Error(G(453));return e;case"body":if(e=t.body,!e)throw Error(G(454));return e;default:throw Error(G(451))}}function ho(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Zf(e)}var En=new Map,mx=new Set;function Gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ra=De.d;De.d={f:o2,r:l2,D:c2,C:u2,L:d2,m:h2,X:m2,S:f2,M:p2};function o2(){var e=Ra.f(),t=Nu();return e||t}function l2(e){var t=ar(e);t!==null&&t.tag===5&&t.type==="form"?f0(t):Ra.r(e)}var rr=typeof document>"u"?null:document;function _b(e,t,n){var a=rr;if(a&&typeof t=="string"&&t){var r=Tn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),mx.has(r)||(mx.add(r),e={rel:e,crossOrigin:n,href:t},a.querySelector(r)===null&&(t=a.createElement("link"),zt(t,"link",e),Ct(t),a.head.appendChild(t)))}}function c2(e){Ra.D(e),_b("dns-prefetch",e,null)}function u2(e,t){Ra.C(e,t),_b("preconnect",e,t)}function d2(e,t,n){Ra.L(e,t,n);var a=rr;if(a&&e&&t){var r='link[rel="preload"][as="'+Tn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Tn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Tn(n.imageSizes)+'"]')):r+='[href="'+Tn(e)+'"]';var o=r;switch(t){case"style":o=Xi(e);break;case"script":o=or(e)}En.has(o)||(e=Qe({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),En.set(o,e),a.querySelector(r)!==null||t==="style"&&a.querySelector(Go(o))||t==="script"&&a.querySelector(Yo(o))||(t=a.createElement("link"),zt(t,"link",e),Ct(t),a.head.appendChild(t)))}}function h2(e,t){Ra.m(e,t);var n=rr;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Tn(a)+'"][href="'+Tn(e)+'"]',o=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=or(e)}if(!En.has(o)&&(e=Qe({rel:"modulepreload",href:e},t),En.set(o,e),n.querySelector(r)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yo(o)))return}a=n.createElement("link"),zt(a,"link",e),Ct(a),n.head.appendChild(a)}}}function f2(e,t,n){Ra.S(e,t,n);var a=rr;if(a&&e){var r=Ci(a).hoistableStyles,o=Xi(e);t=t||"default";var c=r.get(o);if(!c){var u={loading:0,preload:null};if(c=a.querySelector(Go(o)))u.loading=5;else{e=Qe({rel:"stylesheet",href:e,"data-precedence":t},n),(n=En.get(o))&&Am(e,n);var d=c=a.createElement("link");Ct(d),zt(d,"link",e),d._p=new Promise(function(f,m){d.onload=f,d.onerror=m}),d.addEventListener("load",function(){u.loading|=1}),d.addEventListener("error",function(){u.loading|=2}),u.loading|=4,lc(c,t,a)}c={type:"stylesheet",instance:c,count:1,state:u},r.set(o,c)}}}function m2(e,t){Ra.X(e,t);var n=rr;if(n&&e){var a=Ci(n).hoistableScripts,r=or(e),o=a.get(r);o||(o=n.querySelector(Yo(r)),o||(e=Qe({src:e,async:!0},t),(t=En.get(r))&&km(e,t),o=n.createElement("script"),Ct(o),zt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(r,o))}}function p2(e,t){Ra.M(e,t);var n=rr;if(n&&e){var a=Ci(n).hoistableScripts,r=or(e),o=a.get(r);o||(o=n.querySelector(Yo(r)),o||(e=Qe({src:e,async:!0,type:"module"},t),(t=En.get(r))&&km(e,t),o=n.createElement("script"),Ct(o),zt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(r,o))}}function px(e,t,n,a){var r=(r=ns.current)?Gc(r):null;if(!r)throw Error(G(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Xi(n.href),n=Ci(r).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Xi(n.href);var o=Ci(r).hoistableStyles,c=o.get(e);if(c||(r=r.ownerDocument||r,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,c),(o=r.querySelector(Go(e)))&&!o._p&&(c.instance=o,c.state.loading=5),En.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},En.set(e,n),o||g2(r,e,n,c.state))),t&&a===null)throw Error(G(528,""));return c}if(t&&a!==null)throw Error(G(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=or(n),n=Ci(r).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(G(444,e))}}function Xi(e){return'href="'+Tn(e)+'"'}function Go(e){return'link[rel="stylesheet"]['+e+"]"}function wb(e){return Qe({},e,{"data-precedence":e.precedence,precedence:null})}function g2(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),zt(t,"link",n),Ct(t),e.head.appendChild(t))}function or(e){return'[src="'+Tn(e)+'"]'}function Yo(e){return"script[async]"+e}function gx(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Tn(n.href)+'"]');if(a)return t.instance=a,Ct(a),a;var r=Qe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ct(a),zt(a,"style",r),lc(a,n.precedence,e),t.instance=a;case"stylesheet":r=Xi(n.href);var o=e.querySelector(Go(r));if(o)return t.state.loading|=4,t.instance=o,Ct(o),o;a=wb(n),(r=En.get(r))&&Am(a,r),o=(e.ownerDocument||e).createElement("link"),Ct(o);var c=o;return c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),zt(o,"link",a),t.state.loading|=4,lc(o,n.precedence,e),t.instance=o;case"script":return o=or(n.src),(r=e.querySelector(Yo(o)))?(t.instance=r,Ct(r),r):(a=n,(r=En.get(o))&&(a=Qe({},n),km(a,r)),e=e.ownerDocument||e,r=e.createElement("script"),Ct(r),zt(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(G(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,lc(a,n.precedence,e));return t.instance}function lc(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,o=r,c=0;c<a.length;c++){var u=a[c];if(u.dataset.precedence===t)o=u;else if(o!==r)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Am(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function km(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var cc=null;function xx(e,t,n){if(cc===null){var a=new Map,r=cc=new Map;r.set(n,a)}else r=cc,a=r.get(n),a||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var o=n[r];if(!(o[zo]||o[Ut]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var c=o.getAttribute(t)||"";c=e+c;var u=a.get(c);u?u.push(o):a.set(c,[o])}}return a}function yx(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function x2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jb(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var wo=null;function y2(){}function v2(e,t,n){if(wo===null)throw Error(G(475));var a=wo;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=Xi(n.href),o=e.querySelector(Go(r));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Yc.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=o,Ct(o);return}o=e.ownerDocument||e,n=wb(n),(r=En.get(r))&&Am(n,r),o=o.createElement("link"),Ct(o);var c=o;c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),zt(o,"link",n),t.instance=o}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(a.count++,t=Yc.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function b2(){if(wo===null)throw Error(G(475));var e=wo;return e.stylesheets&&e.count===0&&af(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&af(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Yc(){if(this.count--,this.count===0){if(this.stylesheets)af(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vc=null;function af(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vc=new Map,t.forEach(_2,e),Vc=null,Yc.call(e))}function _2(e,t){if(!(t.state.loading&4)){var n=Vc.get(e);if(n)var a=n.get(null);else{n=new Map,Vc.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<r.length;o++){var c=r[o];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(n.set(c.dataset.precedence,c),a=c)}a&&n.set(null,a)}r=t.instance,c=r.getAttribute("data-precedence"),o=n.get(c)||a,o===a&&n.set(null,r),n.set(c,r),this.count++,a=Yc.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),o?o.parentNode.insertBefore(r,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var jo={$$typeof:ba,Provider:null,Consumer:null,_currentValue:Ms,_currentValue2:Ms,_threadCount:0};function w2(e,t,n,a,r,o,c,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=md(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=md(0),this.hiddenUpdates=md(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=o,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Nb(e,t,n,a,r,o,c,u,d,f,m,x){return e=new w2(e,t,n,c,u,d,f,x),t=1,o===!0&&(t|=24),o=dn(3,null,null,t),e.current=o,o.stateNode=e,t=nm(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:a,isDehydrated:n,cache:t},sm(o),e}function Sb(e){return e?(e=ji,e):ji}function Tb(e,t,n,a,r,o){r=Sb(r),a.context===null?a.context=r:a.pendingContext=r,a=as(t),a.payload={element:n},o=o===void 0?null:o,o!==null&&(a.callback=o),n=ss(e,a,t),n!==null&&(pn(n,e,t),ao(n,e,t))}function vx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cm(e,t){vx(e,t),(e=e.alternate)&&vx(e,t)}function Ab(e){if(e.tag===13){var t=sr(e,67108864);t!==null&&pn(t,e,67108864),Cm(e,67108864)}}var Xc=!0;function j2(e,t,n,a){var r=fe.T;fe.T=null;var o=De.p;try{De.p=2,Em(e,t,n,a)}finally{De.p=o,fe.T=r}}function N2(e,t,n,a){var r=fe.T;fe.T=null;var o=De.p;try{De.p=8,Em(e,t,n,a)}finally{De.p=o,fe.T=r}}function Em(e,t,n,a){if(Xc){var r=sf(a);if(r===null)$d(e,t,a,Kc,n),bx(e,a);else if(T2(r,e,t,n,a))a.stopPropagation();else if(bx(e,a),t&4&&-1<S2.indexOf(e)){for(;r!==null;){var o=ar(r);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var c=js(o.pendingLanes);if(c!==0){var u=o;for(u.pendingLanes|=2,u.entangledLanes|=2;c;){var d=1<<31-fn(c);u.entanglements[1]|=d,c&=~d}ra(o),!(Oe&6)&&(Hc=ta()+500,$o(0))}}break;case 13:u=sr(o,2),u!==null&&pn(u,o,2),Nu(),Cm(o,2)}if(o=sf(a),o===null&&$d(e,t,a,Kc,n),o===r)break;r=o}r!==null&&a.stopPropagation()}else $d(e,t,a,null,n)}}function sf(e){return e=Gf(e),Mm(e)}var Kc=null;function Mm(e){if(Kc=null,e=xi(e),e!==null){var t=Po(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Wy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Kc=e,null}function kb(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uj()){case nv:return 2;case av:return 8;case Nc:case dj:return 32;case sv:return 268435456;default:return 32}default:return 32}}var rf=!1,os=null,ls=null,cs=null,No=new Map,So=new Map,Xa=[],S2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bx(e,t){switch(e){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":No.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(t.pointerId)}}function Rr(e,t,n,a,r,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:o,targetContainers:[r]},t!==null&&(t=ar(t),t!==null&&Ab(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function T2(e,t,n,a,r){switch(t){case"focusin":return os=Rr(os,e,t,n,a,r),!0;case"dragenter":return ls=Rr(ls,e,t,n,a,r),!0;case"mouseover":return cs=Rr(cs,e,t,n,a,r),!0;case"pointerover":var o=r.pointerId;return No.set(o,Rr(No.get(o)||null,e,t,n,a,r)),!0;case"gotpointercapture":return o=r.pointerId,So.set(o,Rr(So.get(o)||null,e,t,n,a,r)),!0}return!1}function Cb(e){var t=xi(e.target);if(t!==null){var n=Po(t);if(n!==null){if(t=n.tag,t===13){if(t=Wy(n),t!==null){e.blockedOn=t,vj(e.priority,function(){if(n.tag===13){var a=mn();a=Ff(a);var r=sr(n,a);r!==null&&pn(r,n,a),Cm(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);wh=a,n.target.dispatchEvent(a),wh=null}else return t=ar(n),t!==null&&Ab(t),e.blockedOn=n,!1;t.shift()}return!0}function _x(e,t,n){uc(e)&&n.delete(t)}function A2(){rf=!1,os!==null&&uc(os)&&(os=null),ls!==null&&uc(ls)&&(ls=null),cs!==null&&uc(cs)&&(cs=null),No.forEach(_x),So.forEach(_x)}function Hl(e,t){e.blockedOn===t&&(e.blockedOn=null,rf||(rf=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,A2)))}var Il=null;function wx(e){Il!==e&&(Il=e,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,function(){Il===e&&(Il=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],r=e[t+2];if(typeof a!="function"){if(Mm(a||n)===null)continue;break}var o=ar(n);o!==null&&(e.splice(t,3),t-=3,Uh(o,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function To(e){function t(d){return Hl(d,e)}os!==null&&Hl(os,e),ls!==null&&Hl(ls,e),cs!==null&&Hl(cs,e),No.forEach(t),So.forEach(t);for(var n=0;n<Xa.length;n++){var a=Xa[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Xa.length&&(n=Xa[0],n.blockedOn===null);)Cb(n),n.blockedOn===null&&Xa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var r=n[a],o=n[a+1],c=r[an]||null;if(typeof o=="function")c||wx(n);else if(c){var u=null;if(o&&o.hasAttribute("formAction")){if(r=o,c=o[an]||null)u=c.formAction;else if(Mm(r)!==null)continue}else u=c.action;typeof u=="function"?n[a+1]=u:(n.splice(a,3),a-=3),wx(n)}}}function Pm(e){this._internalRoot=e}ku.prototype.render=Pm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));var n=t.current,a=mn();Tb(n,a,e,t,null,null)};ku.prototype.unmount=Pm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tb(e.current,2,null,e,null,null),Nu(),t[nr]=null}};function ku(e){this._internalRoot=e}ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=cv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xa.length&&t!==0&&t<Xa[n].priority;n++);Xa.splice(n,0,e),n===0&&Cb(e)}};var jx=Ky.version;if(jx!=="19.1.1")throw Error(G(527,jx,"19.1.1"));De.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=aj(t),e=e!==null?Jy(e):null,e=e===null?null:e.stateNode,e};var k2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:fe,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{Lo=Fl.inject(k2),hn=Fl}catch{}}hu.createRoot=function(e,t){if(!Qy(e))throw Error(G(299));var n=!1,a="",r=N0,o=S0,c=T0,u=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(u=t.unstable_transitionCallbacks)),t=Nb(e,1,!1,null,null,n,a,r,o,c,u,null),e[nr]=t.current,Tm(e),new Pm(t)};hu.hydrateRoot=function(e,t,n){if(!Qy(e))throw Error(G(299));var a=!1,r="",o=N0,c=S0,u=T0,d=null,f=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(c=n.onCaughtError),n.onRecoverableError!==void 0&&(u=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(d=n.unstable_transitionCallbacks),n.formState!==void 0&&(f=n.formState)),t=Nb(e,1,!0,t,n??null,a,r,o,c,u,d,f),t.context=Sb(null),n=t.current,a=mn(),a=Ff(a),r=as(a),r.callback=null,ss(n,r,a),n=a,t.current.lanes=n,Ro(t,n),ra(t),e[nr]=t.current,Tm(e),new ku(t)};hu.version="19.1.1";function Eb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Eb)}catch(e){console.error(e)}}Eb(),Zy.exports=hu;var C2=Zy.exports;/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nx="popstate";function E2(e={}){function t(a,r){let{pathname:o,search:c,hash:u}=a.location;return of("",{pathname:o,search:c,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){return typeof r=="string"?r:Ao(r)}return P2(t,n,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function M2(){return Math.random().toString(36).substring(2,10)}function Sx(e,t){return{usr:e.state,key:e.key,idx:t}}function of(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?lr(t):t,state:n,key:t&&t.key||a||M2()}}function Ao({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function lr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function P2(e,t,n,a={}){let{window:r=document.defaultView,v5Compat:o=!1}=a,c=r.history,u="POP",d=null,f=m();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function m(){return(c.state||{idx:null}).idx}function x(){u="POP";let T=m(),b=T==null?null:T-f;f=T,d&&d({action:u,location:S.location,delta:b})}function g(T,b){u="PUSH";let _=of(S.location,T,b);f=m()+1;let N=Sx(_,f),C=S.createHref(_);try{c.pushState(N,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;r.location.assign(C)}o&&d&&d({action:u,location:S.location,delta:1})}function y(T,b){u="REPLACE";let _=of(S.location,T,b);f=m();let N=Sx(_,f),C=S.createHref(_);c.replaceState(N,"",C),o&&d&&d({action:u,location:S.location,delta:0})}function j(T){return L2(T)}let S={get action(){return u},get location(){return e(r,c)},listen(T){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(Nx,x),d=T,()=>{r.removeEventListener(Nx,x),d=null}},createHref(T){return t(r,T)},createURL:j,encodeLocation(T){let b=j(T);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:y,go(T){return c.go(T)}};return S}function L2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nt(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Ao(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function Mb(e,t,n="/"){return D2(e,t,n,!1)}function D2(e,t,n,a){let r=typeof t=="string"?lr(t):t,o=Pa(r.pathname||"/",n);if(o==null)return null;let c=Pb(e);R2(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let f=G2(o);u=Z2(c[d],f,a)}return u}function Pb(e,t=[],n=[],a="",r=!1){let o=(c,u,d=r,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(a)&&d)return;nt(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length)}let x=Aa([a,m.relativePath]),g=n.concat(m);c.children&&c.children.length>0&&(nt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Pb(c.children,t,g,x,d)),!(c.path==null&&!c.index)&&t.push({path:x,score:F2(x,c.index),routesMeta:g})};return e.forEach((c,u)=>{var d;if(c.path===""||!((d=c.path)!=null&&d.includes("?")))o(c,u);else for(let f of Lb(c.path))o(c,u,!0,f)}),t}function Lb(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(a.length===0)return r?[o,""]:[o];let c=Lb(a.join("/")),u=[];return u.push(...c.map(d=>d===""?o:[o,d].join("/"))),r&&u.push(...c),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function R2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:q2(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var z2=/^:[\w-]+$/,O2=3,U2=2,B2=1,H2=10,I2=-2,Tx=e=>e==="*";function F2(e,t){let n=e.split("/"),a=n.length;return n.some(Tx)&&(a+=I2),t&&(a+=U2),n.filter(r=>!Tx(r)).reduce((r,o)=>r+(z2.test(o)?O2:o===""?B2:H2),a)}function q2(e,t){return e.length===t.length&&e.slice(0,-1).every((a,r)=>a===t[r])?e[e.length-1]-t[t.length-1]:0}function Z2(e,t,n=!1){let{routesMeta:a}=e,r={},o="/",c=[];for(let u=0;u<a.length;++u){let d=a[u],f=u===a.length-1,m=o==="/"?t:t.slice(o.length)||"/",x=Qc({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),g=d.route;if(!x&&f&&n&&!a[a.length-1].route.index&&(x=Qc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!x)return null;Object.assign(r,x.params),c.push({params:r,pathname:Aa([o,x.pathname]),pathnameBase:K2(Aa([o,x.pathnameBase])),route:g}),x.pathnameBase!=="/"&&(o=Aa([o,x.pathnameBase]))}return c}function Qc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=$2(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:a.reduce((f,{paramName:m,isOptional:x},g)=>{if(m==="*"){let j=u[g]||"";c=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const y=u[g];return x&&!y?f[m]=void 0:f[m]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:e}}function $2(e,t=!1,n=!0){Mn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(a.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}function G2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function Y2(e,t="/"){let{pathname:n,search:a="",hash:r=""}=typeof e=="string"?lr(e):e;return{pathname:n?n.startsWith("/")?n:V2(n,t):t,search:Q2(a),hash:W2(r)}}function V2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Yd(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function X2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Lm(e){let t=X2(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function Dm(e,t,n,a=!1){let r;typeof e=="string"?r=lr(e):(r={...e},nt(!r.pathname||!r.pathname.includes("?"),Yd("?","pathname","search",r)),nt(!r.pathname||!r.pathname.includes("#"),Yd("#","pathname","hash",r)),nt(!r.search||!r.search.includes("#"),Yd("#","search","hash",r)));let o=e===""||r.pathname==="",c=o?"/":r.pathname,u;if(c==null)u=n;else{let x=t.length-1;if(!a&&c.startsWith("..")){let g=c.split("/");for(;g[0]==="..";)g.shift(),x-=1;r.pathname=g.join("/")}u=x>=0?t[x]:"/"}let d=Y2(r,u),f=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Aa=e=>e.join("/").replace(/\/\/+/g,"/"),K2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,W2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function J2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Db=["POST","PUT","PATCH","DELETE"];new Set(Db);var eS=["GET",...Db];new Set(eS);var cr=A.createContext(null);cr.displayName="DataRouter";var Cu=A.createContext(null);Cu.displayName="DataRouterState";A.createContext(!1);var Rb=A.createContext({isTransitioning:!1});Rb.displayName="ViewTransition";var tS=A.createContext(new Map);tS.displayName="Fetchers";var nS=A.createContext(null);nS.displayName="Await";var Fn=A.createContext(null);Fn.displayName="Navigation";var Vo=A.createContext(null);Vo.displayName="Location";var qn=A.createContext({outlet:null,matches:[],isDataRoute:!1});qn.displayName="Route";var Rm=A.createContext(null);Rm.displayName="RouteError";function aS(e,{relative:t}={}){nt(ur(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=A.useContext(Fn),{hash:r,pathname:o,search:c}=Xo(e,{relative:t}),u=o;return n!=="/"&&(u=o==="/"?n:Aa([n,o])),a.createHref({pathname:u,search:c,hash:r})}function ur(){return A.useContext(Vo)!=null}function $t(){return nt(ur(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Vo).location}var zb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ob(e){A.useContext(Fn).static||A.useLayoutEffect(e)}function on(){let{isDataRoute:e}=A.useContext(qn);return e?xS():sS()}function sS(){nt(ur(),"useNavigate() may be used only in the context of a <Router> component.");let e=A.useContext(cr),{basename:t,navigator:n}=A.useContext(Fn),{matches:a}=A.useContext(qn),{pathname:r}=$t(),o=JSON.stringify(Lm(a)),c=A.useRef(!1);return Ob(()=>{c.current=!0}),A.useCallback((d,f={})=>{if(Mn(c.current,zb),!c.current)return;if(typeof d=="number"){n.go(d);return}let m=Dm(d,JSON.parse(o),r,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Aa([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,o,r,e])}A.createContext(null);function iS(){let{matches:e}=A.useContext(qn),t=e[e.length-1];return t?t.params:{}}function Xo(e,{relative:t}={}){let{matches:n}=A.useContext(qn),{pathname:a}=$t(),r=JSON.stringify(Lm(n));return A.useMemo(()=>Dm(e,JSON.parse(r),a,t==="path"),[e,r,a,t])}function rS(e,t){return Ub(e,t)}function Ub(e,t,n,a,r){var _;nt(ur(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=A.useContext(Fn),{matches:c}=A.useContext(qn),u=c[c.length-1],d=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",x=u&&u.route;{let N=x&&x.path||"";Bb(f,!x||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=$t(),y;if(t){let N=typeof t=="string"?lr(t):t;nt(m==="/"||((_=N.pathname)==null?void 0:_.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${N.pathname}" was given in the \`location\` prop.`),y=N}else y=g;let j=y.pathname||"/",S=j;if(m!=="/"){let N=m.replace(/^\//,"").split("/");S="/"+j.replace(/^\//,"").split("/").slice(N.length).join("/")}let T=Mb(e,{pathname:S});Mn(x||T!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Mn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=dS(T&&T.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Aa([m,o.encodeLocation?o.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?m:Aa([m,o.encodeLocation?o.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),c,n,a,r);return t&&b?A.createElement(Vo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},b):b}function oS(){let e=gS(),t=J2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:o},"ErrorBoundary")," or"," ",A.createElement("code",{style:o},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:r},n):null,c)}var lS=A.createElement(oS,null),cS=class extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?A.createElement(qn.Provider,{value:this.props.routeContext},A.createElement(Rm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uS({routeContext:e,match:t,children:n}){let a=A.useContext(cr);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(qn.Provider,{value:e},n)}function dS(e,t=[],n=null,a=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,c=n==null?void 0:n.errors;if(c!=null){let f=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);nt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:x,errors:g}=n,y=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||y){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,m,x)=>{let g,y=!1,j=null,S=null;n&&(g=c&&m.route.id?c[m.route.id]:void 0,j=m.route.errorElement||lS,u&&(d<0&&x===0?(Bb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):d===x&&(y=!0,S=m.route.hydrateFallbackElement||null)));let T=t.concat(o.slice(0,x+1)),b=()=>{let _;return g?_=j:y?_=S:m.route.Component?_=A.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=f,A.createElement(uS,{match:m,routeContext:{outlet:f,matches:T,isDataRoute:n!=null},children:_})};return n&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?A.createElement(cS,{location:n.location,revalidation:n.revalidation,component:j,error:g,children:b(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:a}):b()},null)}function zm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hS(e){let t=A.useContext(cr);return nt(t,zm(e)),t}function fS(e){let t=A.useContext(Cu);return nt(t,zm(e)),t}function mS(e){let t=A.useContext(qn);return nt(t,zm(e)),t}function Om(e){let t=mS(e),n=t.matches[t.matches.length-1];return nt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function pS(){return Om("useRouteId")}function gS(){var a;let e=A.useContext(Rm),t=fS("useRouteError"),n=Om("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[n]}function xS(){let{router:e}=hS("useNavigate"),t=Om("useNavigate"),n=A.useRef(!1);return Ob(()=>{n.current=!0}),A.useCallback(async(r,o={})=>{Mn(n.current,zb),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...o}))},[e,t])}var Ax={};function Bb(e,t,n){!t&&!Ax[e]&&(Ax[e]=!0,Mn(!1,n))}A.memo(yS);function yS({routes:e,future:t,state:n,unstable_onError:a}){return Ub(e,void 0,n,a,t)}function lf({to:e,replace:t,state:n,relative:a}){nt(ur(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=A.useContext(Fn);Mn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=A.useContext(qn),{pathname:c}=$t(),u=on(),d=Dm(e,Lm(o),c,a==="path"),f=JSON.stringify(d);return A.useEffect(()=>{u(JSON.parse(f),{replace:t,state:n,relative:a})},[u,f,a,t,n]),null}function gt(e){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vS({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:r,static:o=!1}){nt(!ur(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof n=="string"&&(n=lr(n));let{pathname:d="/",search:f="",hash:m="",state:x=null,key:g="default"}=n,y=A.useMemo(()=>{let j=Pa(d,c);return j==null?null:{location:{pathname:j,search:f,hash:m,state:x,key:g},navigationType:a}},[c,d,f,m,x,g,a]);return Mn(y!=null,`<Router basename="${c}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:A.createElement(Fn.Provider,{value:u},A.createElement(Vo.Provider,{children:t,value:y}))}function bS({children:e,location:t}){return rS(cf(e),t)}function cf(e,t=[]){let n=[];return A.Children.forEach(e,(a,r)=>{if(!A.isValidElement(a))return;let o=[...t,r];if(a.type===A.Fragment){n.push.apply(n,cf(a.props.children,o));return}nt(a.type===gt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=cf(a.props.children,o)),n.push(c)}),n}var dc="get",hc="application/x-www-form-urlencoded";function Eu(e){return e!=null&&typeof e.tagName=="string"}function _S(e){return Eu(e)&&e.tagName.toLowerCase()==="button"}function wS(e){return Eu(e)&&e.tagName.toLowerCase()==="form"}function jS(e){return Eu(e)&&e.tagName.toLowerCase()==="input"}function NS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function SS(e,t){return e.button===0&&(!t||t==="_self")&&!NS(e)}function uf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(r=>[n,r]):[[n,a]])},[]))}function TS(e,t){let n=uf(e);return t&&t.forEach((a,r)=>{n.has(r)||t.getAll(r).forEach(o=>{n.append(r,o)})}),n}var ql=null;function AS(){if(ql===null)try{new FormData(document.createElement("form"),0),ql=!1}catch{ql=!0}return ql}var kS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vd(e){return e!=null&&!kS.has(e)?(Mn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hc}"`),null):e}function CS(e,t){let n,a,r,o,c;if(wS(e)){let u=e.getAttribute("action");a=u?Pa(u,t):null,n=e.getAttribute("method")||dc,r=Vd(e.getAttribute("enctype"))||hc,o=new FormData(e)}else if(_S(e)||jS(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(a=d?Pa(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||dc,r=Vd(e.getAttribute("formenctype"))||Vd(u.getAttribute("enctype"))||hc,o=new FormData(u,e),!AS()){let{name:f,type:m,value:x}=e;if(m==="image"){let g=f?`${f}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else f&&o.append(f,x)}}else{if(Eu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dc,a=null,r=hc,c=e}return o&&r==="text/plain"&&(c=o,o=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Um(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ES(e,t,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${n}`:t&&Pa(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function MS(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PS(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function LS(e,t,n){let a=await Promise.all(e.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await MS(o,n);return c.links?c.links():[]}return[]}));return OS(a.flat(1).filter(PS).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function kx(e,t,n,a,r,o){let c=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>{var m;return n[f].pathname!==d.pathname||((m=n[f].route.path)==null?void 0:m.endsWith("*"))&&n[f].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,f)=>c(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{var x;let m=a.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(c(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function DS(e,t,{includeHydrateFallback:n}={}){return RS(e.map(a=>{let r=t.routes[a.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function RS(e){return[...new Set(e)]}function zS(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function OS(e,t){let n=new Set;return new Set(t),e.reduce((a,r)=>{let o=JSON.stringify(zS(r));return n.has(o)||(n.add(o),a.push({key:o,link:r})),a},[])}function Hb(){let e=A.useContext(cr);return Um(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function US(){let e=A.useContext(Cu);return Um(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Bm=A.createContext(void 0);Bm.displayName="FrameworkContext";function Ib(){let e=A.useContext(Bm);return Um(e,"You must render this element inside a <HydratedRouter> element"),e}function BS(e,t){let n=A.useContext(Bm),[a,r]=A.useState(!1),[o,c]=A.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:x}=t,g=A.useRef(null);A.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let S=b=>{b.forEach(_=>{c(_.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return g.current&&T.observe(g.current),()=>{T.disconnect()}}},[e]),A.useEffect(()=>{if(a){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[a]);let y=()=>{r(!0)},j=()=>{r(!1),c(!1)};return n?e!=="intent"?[o,g,{}]:[o,g,{onFocus:zr(u,y),onBlur:zr(d,j),onMouseEnter:zr(f,y),onMouseLeave:zr(m,j),onTouchStart:zr(x,y)}]:[!1,g,{}]}function zr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function HS({page:e,...t}){let{router:n}=Hb(),a=A.useMemo(()=>Mb(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?A.createElement(FS,{page:e,matches:a,...t}):null}function IS(e){let{manifest:t,routeModules:n}=Ib(),[a,r]=A.useState([]);return A.useEffect(()=>{let o=!1;return LS(e,t,n).then(c=>{o||r(c)}),()=>{o=!0}},[e,t,n]),a}function FS({page:e,matches:t,...n}){let a=$t(),{manifest:r,routeModules:o}=Ib(),{basename:c}=Hb(),{loaderData:u,matches:d}=US(),f=A.useMemo(()=>kx(e,t,d,r,a,"data"),[e,t,d,r,a]),m=A.useMemo(()=>kx(e,t,d,r,a,"assets"),[e,t,d,r,a]),x=A.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let j=new Set,S=!1;if(t.forEach(b=>{var N;let _=r.routes[b.route.id];!_||!_.hasLoader||(!f.some(C=>C.route.id===b.route.id)&&b.route.id in u&&((N=o[b.route.id])!=null&&N.shouldRevalidate)||_.hasClientLoader?S=!0:j.add(b.route.id))}),j.size===0)return[];let T=ES(e,c,"data");return S&&j.size>0&&T.searchParams.set("_routes",t.filter(b=>j.has(b.route.id)).map(b=>b.route.id).join(",")),[T.pathname+T.search]},[c,u,a,r,f,t,e,o]),g=A.useMemo(()=>DS(m,r),[m,r]),y=IS(m);return A.createElement(A.Fragment,null,x.map(j=>A.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),g.map(j=>A.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),y.map(({key:j,link:S})=>A.createElement("link",{key:j,nonce:n.nonce,...S})))}function qS(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Fb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fb&&(window.__reactRouterVersion="7.9.3")}catch{}function ZS({basename:e,children:t,window:n}){let a=A.useRef();a.current==null&&(a.current=E2({window:n,v5Compat:!0}));let r=a.current,[o,c]=A.useState({action:r.action,location:r.location}),u=A.useCallback(d=>{A.startTransition(()=>c(d))},[c]);return A.useLayoutEffect(()=>r.listen(u),[r,u]),A.createElement(vS,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:r})}var qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=A.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:r,reloadDocument:o,replace:c,state:u,target:d,to:f,preventScrollReset:m,viewTransition:x,...g},y){let{basename:j}=A.useContext(Fn),S=typeof f=="string"&&qb.test(f),T,b=!1;if(typeof f=="string"&&S&&(T=f,Fb))try{let J=new URL(window.location.href),$=f.startsWith("//")?new URL(J.protocol+f):new URL(f),K=Pa($.pathname,j);$.origin===J.origin&&K!=null?f=K+$.search+$.hash:b=!0}catch{Mn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=aS(f,{relative:r}),[N,C,E]=BS(a,g),P=VS(f,{replace:c,state:u,target:d,preventScrollReset:m,relative:r,viewTransition:x});function M(J){t&&t(J),J.defaultPrevented||P(J)}let H=A.createElement("a",{...g,...E,href:T||_,onClick:b||o?t:M,ref:qS(y,C),target:d,"data-discover":!S&&n==="render"?"true":void 0});return N&&!S?A.createElement(A.Fragment,null,H,A.createElement(HS,{page:_})):H});Me.displayName="Link";var $S=A.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:r=!1,style:o,to:c,viewTransition:u,children:d,...f},m){let x=Xo(c,{relative:f.relative}),g=$t(),y=A.useContext(Cu),{navigator:j,basename:S}=A.useContext(Fn),T=y!=null&&eT(x)&&u===!0,b=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,_=g.pathname,N=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(_=_.toLowerCase(),N=N?N.toLowerCase():null,b=b.toLowerCase()),N&&S&&(N=Pa(N,S)||N);const C=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let E=_===b||!r&&_.startsWith(b)&&_.charAt(C)==="/",P=N!=null&&(N===b||!r&&N.startsWith(b)&&N.charAt(b.length)==="/"),M={isActive:E,isPending:P,isTransitioning:T},H=E?t:void 0,J;typeof a=="function"?J=a(M):J=[a,E?"active":null,P?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(M):o;return A.createElement(Me,{...f,"aria-current":H,className:J,ref:m,style:$,to:c,viewTransition:u},typeof d=="function"?d(M):d)});$S.displayName="NavLink";var GS=A.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:r,state:o,method:c=dc,action:u,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:x,...g},y)=>{let j=WS(),S=JS(u,{relative:f}),T=c.toLowerCase()==="get"?"get":"post",b=typeof u=="string"&&qb.test(u),_=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let C=N.nativeEvent.submitter,E=(C==null?void 0:C.getAttribute("formmethod"))||c;j(C||N.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:r,state:o,relative:f,preventScrollReset:m,viewTransition:x})};return A.createElement("form",{ref:y,method:T,action:S,onSubmit:a?d:_,...g,"data-discover":!b&&e==="render"?"true":void 0})});GS.displayName="Form";function YS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zb(e){let t=A.useContext(cr);return nt(t,YS(e)),t}function VS(e,{target:t,replace:n,state:a,preventScrollReset:r,relative:o,viewTransition:c}={}){let u=on(),d=$t(),f=Xo(e,{relative:o});return A.useCallback(m=>{if(SS(m,t)){m.preventDefault();let x=n!==void 0?n:Ao(d)===Ao(f);u(e,{replace:x,state:a,preventScrollReset:r,relative:o,viewTransition:c})}},[d,u,f,n,a,t,e,r,o,c])}function XS(e){Mn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=A.useRef(uf(e)),n=A.useRef(!1),a=$t(),r=A.useMemo(()=>TS(a.search,n.current?null:t.current),[a.search]),o=on(),c=A.useCallback((u,d)=>{const f=uf(typeof u=="function"?u(new URLSearchParams(r)):u);n.current=!0,o("?"+f,d)},[o,r]);return[r,c]}var KS=0,QS=()=>`__${String(++KS)}__`;function WS(){let{router:e}=Zb("useSubmit"),{basename:t}=A.useContext(Fn),n=pS();return A.useCallback(async(a,r={})=>{let{action:o,method:c,encType:u,formData:d,body:f}=CS(a,t);if(r.navigate===!1){let m=r.fetcherKey||QS();await e.fetch(m,n,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||c,formEncType:r.encType||u,flushSync:r.flushSync})}else await e.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||c,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function JS(e,{relative:t}={}){let{basename:n}=A.useContext(Fn),a=A.useContext(qn);nt(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),o={...Xo(e||".",{relative:t})},c=$t();if(e==null){o.search=c.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(x=>x).forEach(x=>u.append("index",x));let m=u.toString();o.search=m?`?${m}`:""}}return(!e||e===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Aa([n,o.pathname])),Ao(o)}function eT(e,{relative:t}={}){let n=A.useContext(Rb);nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Zb("useViewTransitionState"),r=Xo(e,{relative:t});if(!n.isTransitioning)return!1;let o=Pa(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=Pa(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Qc(r.pathname,c)!=null||Qc(r.pathname,o)!=null}const tT=e=>{if(!e)return!0;try{const t=e.split(".");if(t.length!==3)return console.warn(" Token format invalid"),!0;const n=JSON.parse(atob(t[1]));if(!n.exp)return console.warn(" Token has no expiration time"),!1;const a=Math.floor(Date.now()/1e3),r=n.exp<a;if(r)console.log(" Token is expired");else{const o=n.exp-a;console.log(` Token expires in ${o} seconds`)}return r}catch(t){return console.error(" Error checking token expiration:",t),!0}},nT=e=>{if(!e||typeof e!="string")return!1;const t=e.split(".");if(t.length!==3)return!1;try{return atob(t[0]),atob(t[1]),!0}catch{return!1}},$b=A.createContext(),aT=({children:e})=>{const[t,n]=A.useState(null),[a,r]=A.useState(null),[o,c]=A.useState(!1),[u,d]=A.useState(!1);A.useEffect(()=>{console.log(" Running in frontend-only mode - backend disabled"),d(!1)},[]),A.useEffect(()=>{try{console.log(" Initializing auth state (frontend-only mode)...");const y=localStorage.getItem("token"),j=localStorage.getItem("user");if(console.log(" Stored token:",y?"Present":"None"),console.log(" Stored user:",j?"Present":"None"),y&&j)try{const S=JSON.parse(j);console.log(" Restoring auth state from localStorage"),n(y),r(S)}catch(S){console.error(" Error parsing stored user data:",S),localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),r(null)}else console.log(" No stored auth data found - user not logged in"),n(null),r(null);console.log(" Auth initialization complete")}catch(y){console.error(" Error initializing auth:",y),localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),r(null)}},[]);const f=(y,j)=>{if(console.log(" Logging in user:",j),console.log(" With token:",y?"Present":"None"),!y)return console.error(" Login failed: No token provided"),!1;if(!j)return console.error(" Login failed: No user data provided"),!1;if(!nT(y))return console.error(" Login failed: Invalid token structure"),!1;if(tT(y))return console.error(" Login failed: Token is expired"),!1;if(!j.id&&!j._id)return console.error(" Login failed: User data missing required ID"),!1;if(!j.email)return console.error(" Login failed: User data missing required email"),!1;try{return localStorage.setItem("token",y),localStorage.setItem("user",JSON.stringify(j)),n(y),r(j),console.log(" Login complete"),!0}catch(S){return console.error(" Login failed: Error storing auth data:",S),!1}},m=async()=>{console.log(" Logging out user..."),localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),r(null),console.log(" Logout complete")},x=y=>{console.log(" Updating user data:",y),r(y),localStorage.setItem("user",JSON.stringify(y))},g=()=>!!t&&!!a;return i.jsx($b.Provider,{value:{token:t,user:a,isLoading:o,backendAvailable:u,login:f,logout:m,updateUser:x,isAuthenticated:g()},children:e})},Pt=()=>A.useContext($b),Hm=({children:e,requireAuth:t=!0,redirectIfAuthenticated:n=!1,redirectTo:a=null})=>{const{isAuthenticated:r,isLoading:o,user:c}=Pt(),u=$t();if(o)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-text-secondary",children:"Checking authentication..."})]})});const d=r;if(t&&!d){const f=a||"/login";return i.jsx(lf,{to:f,state:{from:u},replace:!0})}if(n&&d){const f=a||"/dashboard";return i.jsx(lf,{to:f,replace:!0})}return e},Rn=({children:e,redirectTo:t="/login"})=>i.jsx(Hm,{requireAuth:!0,redirectTo:t,children:e}),Or=({children:e,redirectTo:t="/dashboard"})=>i.jsx(Hm,{requireAuth:!1,redirectIfAuthenticated:!0,redirectTo:t,children:e}),Xd=({children:e})=>i.jsx(Hm,{requireAuth:!1,redirectIfAuthenticated:!1,children:e}),Cx=e=>["/predict","/prediction","/dashboard","/profile","/community","/chat"].some(n=>e===n||e.startsWith(n+"/")),sT=()=>{const{isAuthenticated:e,isLoading:t}=Pt(),n=on(),a=$t();A.useEffect(()=>{if(t)return;const r=a.pathname;Cx(r)&&!e&&(console.log(" Unauthorized access attempt to:",r),console.log(" Redirecting to login..."),n("/login",{state:{from:a},replace:!0}))},[a.pathname,e,t,n,a]),A.useEffect(()=>{const r=()=>{setTimeout(()=>{const o=window.location.pathname;Cx(o)&&!e&&(console.log(" Browser navigation blocked to protected route:",o),n("/login",{state:{from:{pathname:o}},replace:!0}))},10)};return window.addEventListener("popstate",r),()=>window.removeEventListener("popstate",r)},[e,n])},iT=({children:e})=>(sT(),e);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oT=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase()),Ex=e=>{const t=oT(e);return t.charAt(0).toUpperCase()+t.slice(1)},Gb=(...e)=>e.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim(),lT=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:r="",children:o,iconNode:c,...u},d)=>A.createElement("svg",{ref:d,...cT,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:Gb("lucide",r),...!o&&!lT(u)&&{"aria-hidden":"true"},...u},[...c.map(([f,m])=>A.createElement(f,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const n=A.forwardRef(({className:a,...r},o)=>A.createElement(uT,{ref:o,iconNode:t,className:Gb(`lucide-${rT(Ex(e))}`,`lucide-${e}`,a),...r}));return n.displayName=Ex(e),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],df=me("activity",dT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],hf=me("arrow-left",hT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],mT=me("arrow-up-right",fT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gT=me("bell",pT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],yT=me("brain",xT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Yb=me("camera",vT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vb=me("calendar",bT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ts=me("chart-column",_T);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],jT=me("chart-no-axes-column-increasing",wT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Zl=me("chevron-down",NT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Mx=me("chevron-up",ST);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],La=me("circle-alert",TT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jt=me("circle-check-big",AT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],CT=me("clock",kT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],MT=me("cloud-rain",ET);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Wc=me("dollar-sign",PT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Xb=me("download",LT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],RT=me("droplet",DT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Px=me("eye-off",zT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ko=me("eye",OT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Lx=me("funnel",UT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],HT=me("globe",BT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Oi=me("leaf",IT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Im=me("loader-circle",FT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],ZT=me("loader",qT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dx=me("log-out",$T);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ts=me("map-pin",GT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],VT=me("menu",YT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M5 12h14",key:"1ays0h"}]],KT=me("minus",XT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],WT=me("newspaper",QT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fc=me("refresh-cw",JT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tA=me("shield",eA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Kd=me("star",nA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Rx=me("target",aA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Kb=me("thermometer",sA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],zx=me("trending-down",iA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ka=me("trending-up",rA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ox=me("upload",oA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qb=me("user",lA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ff=me("users",cA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]],dA=me("wheat",uA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jc=me("x",hA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Fm=me("zap",fA),Ux=(e,t)=>`tr:${e}:${btoa(t)}`;async function mA(e=[],t="en"){if(!e||e.length===0)return[];if(t==="en")return e;const n=[],a=[],r=[];if(e.forEach((d,f)=>{try{const m=localStorage.getItem(Ux(t,d));m?n[f]=m:(n[f]=null,a.push(d),r.push(f))}catch{n[f]=null,a.push(d),r.push(f)}}),a.length===0)return n;const o=await fetch("/api/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({texts:a,target:t})});if(!o.ok)return console.warn("Translation proxy failed",o.status),r.forEach((d,f)=>n[d]=a[f]),n;const c=await o.json(),u=Array.isArray(c.translations)?c.translations:a;return r.forEach((d,f)=>{const m=u[f]||a[f];n[d]=m;try{localStorage.setItem(Ux(t,a[f]),m)}catch{}}),n}const Wb=A.createContext(null),pA=({children:e})=>{const t=()=>{try{const c=localStorage.getItem("app_lang");if(c)return c;console.log("lang ",c)}catch{}return(navigator.language||navigator.userLanguage||"en").split("-")[0]||"en"},[n,a]=A.useState(t);A.useEffect(()=>{console.log(`TranslationContext: Language changed to ${n}`);try{localStorage.setItem("app_lang",n)}catch{}},[n]);const r=A.useCallback(async o=>{if(!o||n==="en")return o;try{const[c]=await mA([o],n);return c||o}catch(c){return console.error("Translation error:",c),o}},[n]);return i.jsx(Wb.Provider,{value:{language:n,setLanguage:a,t:r},children:e})},gA=()=>{const e=A.useContext(Wb);if(!e)throw new Error("useTranslation must be used within TranslationProvider");return e},xA={Home:" ",Predict:"",Dashboard:"",Community:"","Chat Support":" ",Prediction:"",Profile:"","Sign In":" ","Get Started":" ",Login:"",Market:"","Disease Detection":" ",Logout:"","Go to Dashboard":"  ","Loading...":"   ...",Error:"",Success:"",Save:" ",Cancel:" ",Submit:" ",Delete:"",Edit:" ",Back:"",Next:"",Search:"",Filter:"","Crop Type":"  ","Soil Type":"  ",Date:"",Location:"",Temperature:"",Humidity:"",Rainfall:"","Predict Yield":"   ",wheat:"",rice:"",maize:"",barley:"",soybean:"",cotton:"",sugarcane:"",potato:"",tomato:"",clay:" ",loam:"",sandy:"",silt:"",black:" ",red:" ",alluvial:"",Email:"",Password:"","Forgot Password":"  ","Sign Up":" ","Create Account":" ","Ask me anything about farming...":"      ...",Send:"","New Chat":" ","Chat History":" ","AI Assistant":"AI ",Online:"",Ready:"","Thinking...":"  ...","Welcome back":"  ","Recent Predictions":"  ","Weather Information":"  ","Here's your farm's overview.":"     ","Soil Health":"  ",Alerts:"","Alerts will appear here":"   ","No recent predictions":"   ","View All":" ","Prediction Details":" ","Yield Prediction":" ","Predicted Yield":" ","Prediction Date":" ",Location:"",Area:"",Download:" ",Predicted:"",View:"",Wheat:"",Rice:"",Maize:"",Sugarcane:"",Paddy:"",Cotton:"",Tomato:"",Potato:"",Cabbage:"",Groundnut:"","Analysis Results Appear Here":"     ","Personal Information":" ","Farm Details":"  ",Name:"",Phone:"",Address:"","Profile Settings":" ","Farm Size":"  ","diseasePrediction.title":"AI   ","diseasePrediction.subtitle":"                ","diseasePrediction.uploadImage":"    ","diseasePrediction.uploadImageDescription":"   ,       ,        ","diseasePrediction.dragAndDrop":"          ","diseasePrediction.supportedFormats":"JPG, PNG, WebP     ( 5MB)","diseasePrediction.browseFiles":"  ","diseasePrediction.useCamera":"   ","diseasePrediction.analyzing":"   ...","diseasePrediction.analyzePlant":"   ","diseasePrediction.validImageTypes":"      (JPG, PNG, WebP)","diseasePrediction.imageSizeLimit":"   5MB    ","diseasePrediction.resultsHeader":"     ","diseasePrediction.resultsDescription":"AI-            ","diseasePrediction.analysisVisualization":" ","diseasePrediction.analysisVisualizationAlt":" ","diseasePrediction.highlightedAreas":"     ","diseasePrediction.plantHealthyTitle":"  ","diseasePrediction.diseaseDetectedTitle":"   ","diseasePrediction.aiAnalysisResults":"AI  ","diseasePrediction.status":"","diseasePrediction.diseaseName":"  ","diseasePrediction.confidence":"","diseasePrediction.severity":"","diseasePrediction.description":"","diseasePrediction.treatment":"","diseasePrediction.prevention":"","diseasePrediction.plantHealthy":"        ","diseasePrediction.noDiseaseIdentified":"                ","diseasePrediction.diseaseDetected":"{{disease}}                ","diseasePrediction.noDiseaseDetected":"   ","diseasePrediction.unknown":"","diseasePrediction.treatment.continueCare":"       ","diseasePrediction.treatment.monitorChanges":"      ","diseasePrediction.treatment.ensureSunlight":"   ","diseasePrediction.treatment.removeAffected":"     ","diseasePrediction.treatment.applyTreatment":"    ","diseasePrediction.treatment.improveAirCirculation":"    ","diseasePrediction.treatment.adjustWatering":"    ","diseasePrediction.prevention.plantResistant":"   ","diseasePrediction.prevention.maintainSpacing":"   ","diseasePrediction.prevention.regularMonitoring":" ","diseasePrediction.prevention.cropRotation":"    ","diseasePrediction.prevention.soilHealth":"    ","diseasePrediction.analysisFailed":"       :  ","diseasePrediction.unexpectedError":"     :  ","diseasePrediction.plantPreviewAlt":"  ","diseasePrediction.clearImage":"  ","diseasePrediction.checkServiceHealth":"    ","diseasePrediction.checking":"   ...","diseasePrediction.healthCheckFailed":"      ","Please select a valid image file (JPG, PNG, WebP).":"      (JPG, PNG, WebP)","Image size should be less than 5MB.":"   5MB    ","Failed to analyze image. Please try again.":"         ","An unexpected error occurred. Please try again.":"       ","The plant appears to be healthy. Continue with regular care.":"        ","No specific disease could be identified. Monitor the plant for any changes.":"               ","has been detected. This condition may affect plant health and productivity.":"               ","Continue regular watering and fertilization.":"       ","Monitor for any changes.":"      ","Ensure adequate sunlight.":"   ","Remove affected leaves immediately.":"     ","Apply appropriate fungicide or pesticide.":"     ","Improve air circulation.":"    ","Adjust watering practices.":"      ","Plant disease-resistant varieties.":"   ","Maintain proper spacing.":"   ","Regular monitoring.":" ","Practice crop rotation.":"    ","Maintain optimal soil health.":"    ","Analysis Results Appear Here":"     ","{{disease}} has been detected. Affected crop: {{crop}}. The model is {{confidence}}% confident. Reported severity: {{severity}}. This condition may affect plant health and productivity if not addressed.":"{{disease}}      : {{crop}}    {{confidence}}%    : {{severity}}                  ","No specific disease could be identified. {{hints}}":"       {{hints}}","Apply an appropriate treatment targeted for {{disease}} (consider certified fungicides or organic alternatives).":"{{disease}}       (       )","Reduce leaf wetness by watering at the soil level and improving drainage.":"               ","Upload an image to get AI-powered disease detection and treatment recommendations.":"AI-             ","Highlighted areas show detected symptoms.":"        ",Treatment:"",Prevention:"","AI Disease Prediction":"AI  ","Upload a plant image for instant disease detection and care recommendations.":"            ","For the best results, use a clear, well-lit photo of the affected plant area.":"   ,     ,       ","Drag & drop or click to upload":"         ","Use Camera":"   ","Failed to check service health":"    ","Plant preview":"  ","Analysis visualization":" ",Unknown:"",unknown:"","No disease detected":"    ",Severe:"",Moderate:"","Disease Detected":"   ","Plant is Healthy":"  ","AI Analysis Results":"AI  ",Status:"","Disease Name":"  ",Confidence:"",Severity:"",Description:"","Upload Plant Image":"    ","Drag and drop your image here":"     ","or click to browse files":"       ","Supports JPG, PNG, WebP (max 5MB)":"JPG, PNG, WebP  ( 5MB)","1. Upload Plant Image":"1.     ","For best results, use a clear, well-lit photo of the affected area.":"   ,     ,       ","Browse Files":"  ","Take Photo":" ","Analyze Plant":"   ","Analyzing...":"   ...","Check Service Health":"  ","Checking...":"  ...","Service Online":" ","Service Offline":" ","Loading prediction details...":"     ...","Prediction not found":"  ","Back to Dashboard":"   ","Prediction Details":" ","Download Report":"  ","Predicted Yield":" ","Confidence:":":","Area:":":",hectares:"","Detailed Soil Analysis":"  ","Soil Composition":"  ",Sand:"",Clay:" ",Silt:"","Soil Properties":"  ","pH Level":"pH ",Nitrogen:"","Organic Carbon":" ",Fertility:"","Optimization Recommendations":" ","Recommended Fertilizer":" ","Best Planting Time":"  ","Irrigation Schedule":" ","Expected Harvest":" ","Growth Period":" ","Optimal Temperature":" ","Water Requirement":" ","Seasonal Recommendations:":" :","Soil Recommendations":"  ","Soil Analysis":" ",Drainage:"","Water Holding":" ","Nutrient Retention":"  ","Management Recommendations":" ","No recommendations available":"   ","Suitable Crops for This Soil":"     ","No suitable crops data available":"     ","Your selected crop":"  ","is well-suited for this soil type!":"        !","Fertilization Schedule":" ","Soil Adjustment:":" :","Irrigation Schedule":" ","Seasonal Note:":" :","Soil Health Matrix & Projected Growth":"     ","Nitrogen (%)":" (%)","Organic Carbon (%)":"  (%)",Fertility:"","N/A":" ",High:"",Medium:"",Low:"","Smart Farming with AI-Powered":"AI-  ","Crop Intelligence":" ","Detect crop diseases instantly, predict yields accurately, and access real-time market data to maximize your farming success with AgriVision's advanced AI platform.":"AgriVision   AI         ,     ,                ","AI Disease Detection":"AI  ","Live Market Prices":"  ","Yield Predictions":" ","Start Free Prediction":"   ","Detect Disease":"   ","Trusted by Farmers Nationwide":"    ","Our AI-powered platform delivers measurable results for modern agriculture":" AI-           ","Disease Detection Accuracy":"  ","AI-powered disease identification":"AI-  ","Markets Covered":"   ","Real-time price data":"   ","Crop Diseases Detected":"   ","Comprehensive disease database":"  ","Yield Prediction Accuracy":"  ","Weather-integrated forecasting":"- ","Average Profit Increase":"  ","With market intelligence":"   ","Disease Detection Speed":"  ","Instant image analysis":"  ","Key Features":" ","AgriVision offers a range of features designed to help farmers make informed decisions and improve their crop yields.":"AgriVision                           ","Accurate Yield Predictions":"  ","Our AI models provide highly accurate yield predictions based on historical data, weather patterns, and soil conditions to help you plan harvest and optimize resources.":" AI   ,  ,                           ","Upload crop images to instantly detect diseases using advanced computer vision. Get detailed diagnosis, treatment recommendations, and prevention strategies with confidence scores.":"                      ,  ,     ","Real-Time Market Prices":"   ","Access live market prices across 1000+ markets, track price trends, monitor crop demand, and make informed selling decisions to maximize your profits.":"1000+       ,     ,     ,            ","Crop-Specific Models":"- ","We offer specialized models for a variety of crops, ensuring precise predictions tailored to your specific needs and local growing conditions.":"         ,               ","Market Analytics":" ","Analyze market trends, compare prices across regions, track seasonal patterns, and identify the best times to sell your produce for optimal returns.":"     ,      ,     ,              ","Instant Insights":" ","Get real-time weather alerts, disease outbreak warnings, and market opportunities delivered instantly to help you make quick, informed decisions.":",            ,   ,       ","Powerful Features for Modern Farming":"     ","AgriVision combines cutting-edge AI technology with comprehensive market intelligence to empower farmers with actionable insights and data-driven decisions.":"AgriVision  AI                -       ","Disease Detection":" ","AI-Powered Crop Disease Analysis":"AI-   ","Advanced computer vision technology that analyzes crop images to detect diseases early, helping prevent crop loss and reduce treatment costs.":"                 ,             ","Instant disease identification from photos":"    ","95%+ accuracy across 50+ common crop diseases":"50+     95%+ ","Detailed treatment recommendations":"  ","Prevention strategies and best practices":"    ","Confidence scoring for reliable results":"     ","Across 50+ diseases":"50+  ","Market Intelligence":" ","Real-Time Market Data & Analytics":"     ","Comprehensive market intelligence platform providing live prices, trends, and analytics to help farmers make profitable selling decisions.":"                 , ,     ","Live prices from 1000+ markets nationwide":"  1000+    ","Historical price trends and seasonal patterns":"     ","Demand forecasting and market opportunities":"     ","Regional price comparisons":"  ","Optimal selling time recommendations":"   ","Across India":"  ","Yield Prediction":" ","Precision Crop Yield Forecasting":"   ","Machine learning models trained on weather, soil, and historical data to provide accurate yield predictions for better planning and resource allocation.":"              , ,        ","Weather-integrated yield models":"-  ","Soil condition analysis":"   ","Historical data correlation":"  ","Resource optimization suggestions":"  ","Harvest timing recommendations":"  ","Prediction Accuracy":" ","Average accuracy":" ","Early Disease Prevention":"  ","Detect diseases before they spread, saving up to 40% in crop losses and treatment costs.":"      ,       40%    ","Maximize Profits":"  ","Time your sales perfectly with market intelligence and increase revenue by up to 25%.":"              25%    ","Instant Results":" ","Get disease diagnosis in seconds and market updates in real-time for quick decision making.":"                ","Transform Your Farming with AI Technology":"AI       ","Join thousands of farmers using AgriVision to detect diseases early, predict yields accurately, and access real-time market data for better profits.":"    ,     ,              AgriVision        ","Free disease detection":"  ","Live market prices":"  ","No subscription required":"   ","Detect Disease Now":"    ","View Market Prices":"  ","Coming Soon":"   ","We're working on this feature and will be releasing it soon. Leave your email and we'll notify you when it's live.":"                          ","Notify Me":"  ","Thanks  we'll let you know when it's ready.":"         ","Go Back":" ","Manage your account, settings, and farm details.":" ,        ","Market Intelligence":" ","Real-time crop prices, trends & insights across Indian markets":"      ,   ","Refresh Data":"  ","Total Markets":" ","+12% this month":"+12%  ","Active Crops":" ","+5 new this week":"+5   ","Avg Price Change":"  ","Market bullish":" ",lastUpdated:" ",justNow:"","Live updates":" ","Top Gainers":" ",items:"","Top Losers":" ",Filters:"","All Crops":" ",State:"","All States":" ",District:"","All Districts":" ",Market:"","All Markets":" ","Clear Filters":"  ","Apply Filters":"  ","No data found":"   ","Please adjust your filters and try again.":"        ","Market Preview":" ","View Details":" ",Price:"",Change:"",Volume:"",Updated:"  ","per quintal":" ",quintal:"",kg:"",ton:"",Today:"",Yesterday:"","This Week":" ","This Month":" ","Sort by":"   ","Price (High to Low)":" (  )","Price (Low to High)":" (  )","Name (A to Z)":" (A  Z)","Name (Z to A)":" (Z  A)","Recent Updates":"  ","Highest Change":"  ","Failed to load prediction details":"     ","Loading prediction details...":"     ...","Prediction not found":"  ","Back to Dashboard":"   ","Download Report":"  ","Confidence:":":","Area:":":",hectares:"","Detailed Soil Analysis":"  ","Soil Composition":"  ",Sand:"",Clay:" ",Silt:"","Soil Properties":"  ","pH Level":"pH ",Nitrogen:"","Organic Carbon":" ",Fertility:"","Optimization Recommendations":" ","Recommended Fertilizer":" ","Best Planting Time":"  ","Irrigation Schedule":" ","Expected Harvest":" ","Growth Period":" ","Optimal Temperature":" ","Water Requirement":" ","Seasonal Recommendations:":" :","Soil Recommendations":"  ","Soil Analysis":" ",Drainage:"","Water Holding":" ","Nutrient Retention":"  ","Management Recommendations":" ","No recommendations available":"   ","Suitable Crops for This Soil":"     ","No suitable crops data available":"     ","Your selected crop":"  ","is well-suited for this soil type!":"        !","Fertilization Schedule":" ","Soil Adjustment:":" :","Seasonal Note:":" :","Soil Health Matrix & Projected Growth":"     ","Nitrogen (%)":" (%)","Organic Carbon (%)":"  (%)","N/A":" ","Welcome to AgriVision Dashboard! This is a demo preview.":"AgriVision     !     ","Demo Mode":" ","You're viewing a demo version. Sign up to access full features!":"               !","Heads up! A frost is predicted for tonight. Consider taking preventive measures for sensitive crops.":"!                ","No predictions available":"   ","Create your first prediction":"   ","Farm Map":"  ","Farm Overview":" ","Weather Forecast":" ","Soil Health Status":"  ","Current Weather":" ","Feels like":"  ",Wind:"",Pressure:"",Visibility:"","UV Index":"UV ","Welcome back!":"  !","Please sign in to your account":"      ","Remember me":"  ","Don't have an account?":"    ?","Already have an account?":"     ?","Create your account":"  ","By signing up, you agree to our":"  ,     ","Terms of Service":"  ","Privacy Policy":" ","Forgot your password?":"   ?","Reset Password":"  ","Enter your email address and we'll send you a link to reset your password.":"               ","Send Reset Link":"  ","Back to Login":"   ","Verify your email":"   ","We've sent a verification link to your email address.":"         ","Resend Email":"   ","Community Feed":" ","Share your farming experience":"     ","What's on your mind?":"    ?","Share Post":"  ","News & Updates":"  ","Market Prices":" ","Latest agricultural news and market updates":"     ","Weather Alerts":" ","Stay updated with weather conditions":"      ","Expert Tips":" ","Learn from agricultural experts":"   ","Discussion Forums":" ","Connect with fellow farmers":"   ","AI Chat Assistant":"AI  ","How can I help you today?":"       ?","Ask me anything about farming...":"      ...","Type your message here...":"    ...","Suggested Questions":"  ","What crops grow best in my region?":"         ?","How can I improve soil health?":"         ?","When is the best time to plant?":"      ?","What are common crop diseases?":"    ?","Clear Chat":"  ","Chat cleared successfully":"    ","Something went wrong":"  ","Please try again later":"     ","Network error":" ","Connection failed":" ","Invalid input":" ","Field is required":"  ","Invalid email format":"  ","Password too short":"  ","Passwords don't match":"   ","Operation successful":" ","Data saved successfully":"    ","Upload successful":" ","Download complete":" ","Land Area (Hectares)":"  ()","Auto-fetch Weather and Soil Data":"        ","Soil Type (Optional - can be auto-detected)":"  ( -     )","Select Soil Type":"  ","Temperature (C) (Optional - can be auto-fetched)":" (C) ( -        )","e.g., 25":"., 25","Optional - leave empty for auto-fetch":" -      ","Rainfall (mm) (Optional - can be auto-fetched)":" () ( -        )","Select Crop":" ","Crop Yield Prediction":"   ","Prediction Output":"  ","No Prediction Yet":"    ",Disease:"","Recent Disease Predictions":"   ",Crop:"","Market Statistics":"  ","Market Insights":" ",Corn:"",Rice:"",Wheat:"",Image:"","Fill out the form to see results":"     ","Yield Trend Analysis":"  ","Historical Yield Data - hover points for details":"   -       ","e.g., 750":"., 750","seconds ago":" ","minutes ago":" ","hours ago":" ","days ago":" ","weeks ago":" ","months ago":" ","years ago":" ","Just now":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sunday:""},za=()=>{const{language:e,setLanguage:t}=gA();return{language:e,changeLanguage:r=>{t(r)},t:r=>!r||e==="en"?r:e==="hi"&&xA[r]||r,availableLanguages:[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:""}]}},w=({children:e,className:t,...n})=>{const{t:a}=za(),r=Hs.Children.map(e,o=>typeof o=="string"||typeof o=="number"?a(String(o)):o);return i.jsx("span",{className:t,...n,children:r})},yA=({className:e=""})=>{const{language:t,changeLanguage:n,availableLanguages:a}=za(),r=o=>{const c=o.target.value;console.log(`Language changing from ${t} to ${c}`),n(c)};return i.jsx("select",{value:t,onChange:r,className:`text-sm bg-background border border-border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-colors ${e}`,"aria-label":"Language",children:a.map(o=>i.jsx("option",{value:o.code,children:o.nativeName},o.code))})},zn=()=>{const e=$t(),t=on(),{user:n,isAuthenticated:a,logout:r}=Pt(),[o,c]=A.useState(!1),[u,d]=A.useState(!1),f=A.useRef(null),m=T=>e.pathname===T;A.useEffect(()=>{const T=b=>{f.current&&!f.current.contains(b.target)&&d(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const x=()=>{c(!o)},g=()=>{r(),t("/"),d(!1)},y=()=>{t("/login")},j=()=>{t("/signup")},S=T=>{["/predict","/prediction","/disease-prediction","/dashboard","/profile","/community","/chat","/market"].includes(T)&&!a?t("/login",{state:{from:{pathname:T}}}):t(T)};return i.jsxs("nav",{className:"bg-background text-text-primary px-6 py-4 border-b border-border",children:[i.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-6 h-6 bg-primary rounded-sm flex items-center justify-center",children:i.jsx(Oi,{size:16,className:"text-primary-foreground"})}),i.jsx("span",{className:"text-xl font-bold text-text-primary",children:"AgriVision"})]}),i.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[i.jsx(Me,{to:"/",className:`transition-colors ${m("/")?"text-primary font-medium":"text-text-secondary hover:text-primary"}`,children:i.jsx(w,{children:"Home"})}),a?i.jsxs(i.Fragment,{children:[i.jsx(Me,{to:"/predict",className:`transition-colors ${m("/predict")?"text-primary font-medium":"text-text-secondary hover:text-primary"}`,children:i.jsx(w,{children:"Predict"})}),i.jsx(Me,{to:"/disease-prediction",className:`transition-colors ${m("/disease-prediction")?"text-primary font-medium":"text-text-secondary hover:text-primary"}`,children:i.jsx(w,{children:"Disease Detection"})}),i.jsx(Me,{to:"/dashboard",className:`transition-colors ${m("/dashboard")?"text-primary font-medium":"text-text-secondary hover:text-primary"}`,children:i.jsx(w,{children:"Dashboard"})}),i.jsx(Me,{to:"/chat",className:`transition-colors ${m("/chat")?"text-primary font-medium":"text-text-secondary hover:text-primary"}`,children:i.jsx(w,{children:"Chat Support"})}),i.jsx(Me,{to:"/market",className:`transition-colors ${m("/market")?"text-primary font-medium":"text-text-secondary hover:text-primary"}`,children:i.jsx(w,{children:"Market"})})]}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>S("/predict"),className:"text-text-secondary hover:text-primary transition-colors",children:i.jsx(w,{children:"Predict"})}),i.jsx("button",{onClick:()=>S("/disease-prediction"),className:"text-text-secondary hover:text-primary transition-colors",children:i.jsx(w,{children:"Disease Detection"})}),i.jsx("button",{onClick:()=>S("/dashboard"),className:"text-text-secondary hover:text-primary transition-colors",children:i.jsx(w,{children:"Dashboard"})}),i.jsx("button",{onClick:()=>S("/chat"),className:"text-text-secondary hover:text-primary transition-colors",children:i.jsx(w,{children:"Chat Support"})}),i.jsx("button",{onClick:()=>S("/market"),className:"text-text-secondary hover:text-primary transition-colors",children:i.jsx(w,{children:"Market"})})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"relative",children:i.jsx(yA,{})}),m("/")&&!a&&i.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[i.jsx("button",{onClick:y,className:"text-text-secondary hover:text-primary font-medium px-4 py-2 transition-colors",children:i.jsx(w,{children:"Sign In"})}),i.jsx("button",{onClick:j,className:"bg-primary hover:bg-primary/80 text-primary-foreground font-semibold px-6 py-2 rounded-lg transition-colors duration-200",children:i.jsx(w,{children:"Get Started"})})]}),m("/")&&a&&i.jsx("button",{onClick:()=>t("/dashboard"),className:"hidden md:block bg-primary hover:bg-primary/80 text-primary-foreground font-semibold px-6 py-2 rounded-lg transition-colors duration-200",children:i.jsx(w,{children:"Go to Dashboard"})}),!m("/")&&a&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"relative p-2 text-text-secondary hover:text-primary transition-colors",children:[i.jsx(gT,{size:20}),i.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-status-error rounded-full"})]}),i.jsxs("div",{className:"relative",ref:f,children:[i.jsx("button",{onClick:()=>d(!u),className:`w-8 h-8 bg-primary rounded-full flex items-center justify-center hover:bg-primary/80 transition-colors ${m("/profile")?"ring-2 ring-primary ring-offset-2 ring-offset-background":""}`,title:(n==null?void 0:n.name)||"User Profile",children:i.jsx(Qb,{size:16,className:"text-primary-foreground"})}),u&&i.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-background-card border border-border rounded-lg shadow-lg py-1 z-50",children:[i.jsxs("div",{className:"px-4 py-2 border-b border-border",children:[i.jsx("p",{className:"text-sm font-medium text-text-primary",children:(n==null?void 0:n.name)||"User"}),i.jsx("p",{className:"text-xs text-text-secondary",children:(n==null?void 0:n.email)||"user@example.com"})]}),i.jsx("a",{href:"/profile",className:"block px-4 py-2 text-sm text-text-secondary hover:text-primary hover:bg-primary/5 transition-colors",onClick:()=>d(!1),children:i.jsx(w,{children:"Profile Settings"})}),i.jsx("a",{href:"/dashboard",className:"block px-4 py-2 text-sm text-text-secondary hover:text-primary hover:bg-primary/5 transition-colors",onClick:()=>d(!1),children:i.jsx(w,{children:"Dashboard"})}),i.jsxs("button",{onClick:g,className:"block w-full text-left px-4 py-2 text-sm text-status-error hover:bg-status-error/10 transition-colors",children:[i.jsx(Dx,{size:14,className:"inline mr-2"}),"Sign Out"]})]})]})]}),i.jsx("button",{className:"md:hidden p-2 text-text-secondary hover:text-primary transition-colors",onClick:x,"aria-label":"Toggle mobile menu",children:o?i.jsx(Jc,{size:20}):i.jsx(VT,{size:20})})]})]}),o&&i.jsx("div",{className:"md:hidden border-t border-border bg-background",children:i.jsx("div",{className:"px-6 py-4 space-y-4",children:a?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"pb-4 border-b border-border",children:[i.jsx("p",{className:"text-sm font-medium text-text-primary",children:n==null?void 0:n.name}),i.jsx("p",{className:"text-xs text-text-secondary",children:n==null?void 0:n.email})]}),i.jsx("a",{href:"/",className:`block transition-colors ${m("/")?"text-primary font-medium":"text-text-secondary hover:text-primary"}`,onClick:()=>c(!1),children:"Home"}),i.jsx("a",{href:"/predict",className:`block transition-colors ${m("/predict")?"text-primary font-medium":"text-text-secondary hover:text-primary"}`,onClick:()=>c(!1),children:i.jsx(w,{children:"Predict"})}),i.jsx("a",{href:"/disease-prediction",className:`block transition-colors ${m("/disease-prediction")?"text-primary font-medium":"text-text-secondary hover:text-primary"}`,onClick:()=>c(!1),children:i.jsx(w,{children:"Disease Detection"})}),i.jsx("a",{href:"/dashboard",className:`block transition-colors ${m("/dashboard")?"text-primary font-medium":"text-text-secondary hover:text-primary"}`,onClick:()=>c(!1),children:i.jsx(w,{children:"Dashboard"})}),i.jsx("a",{href:"/community",className:`block transition-colors ${m("/community")?"text-primary font-medium":"text-text-secondary hover:text-primary"}`,onClick:()=>c(!1),children:i.jsx(w,{children:"Community"})}),i.jsx("a",{href:"/chat",className:`block transition-colors ${m("/chat")?"text-primary font-medium":"text-text-secondary hover:text-primary"}`,onClick:()=>c(!1),children:i.jsx(w,{children:"Chat Support"})}),i.jsx("a",{href:"/market",className:`block transition-colors ${m("/market")?"text-primary font-medium":"text-text-secondary hover:text-primary"}`,onClick:()=>c(!1),children:i.jsx(w,{children:"Market"})}),i.jsx("a",{href:"/profile",className:`block transition-colors ${m("/profile")?"text-primary font-medium":"text-text-secondary hover:text-primary"}`,onClick:()=>c(!1),children:i.jsx(w,{children:"Profile"})}),i.jsxs("button",{onClick:()=>{g(),c(!1)},className:"block w-full text-left text-status-error hover:text-status-error/80 transition-colors pt-4 border-t border-border",children:[i.jsx(Dx,{size:14,className:"inline mr-2"}),i.jsx(w,{children:"Logout"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("a",{href:"/",className:`block transition-colors ${m("/")?"text-primary font-medium":"text-text-secondary hover:text-primary"}`,onClick:()=>c(!1),children:i.jsx(w,{children:"Home"})}),i.jsxs("div",{className:"space-y-3 pt-4 border-t border-border",children:[i.jsx("button",{onClick:()=>{y(),c(!1)},className:"block w-full text-center bg-transparent border border-primary text-primary hover:bg-primary hover:text-primary-foreground font-medium px-4 py-2 rounded-lg transition-colors",children:i.jsx(w,{children:"Sign In"})}),i.jsx("button",{onClick:()=>{j(),c(!1)},className:"block w-full text-center bg-primary hover:bg-primary/80 text-primary-foreground font-semibold px-4 py-2 rounded-lg transition-colors",children:i.jsx(w,{children:"Get Started"})})]})]})})})]})},Re=({children:e,variant:t="primary",size:n="md",onClick:a,className:r="",...o})=>{const c="font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",u={primary:"bg-primary hover:bg-primary/80 text-primary-foreground focus:ring-primary",secondary:"bg-background-card hover:bg-border text-text-primary focus:ring-border",outline:"border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground focus:ring-primary",success:"bg-status-success hover:bg-status-success/80 text-primary-foreground focus:ring-status-success",error:"bg-status-error hover:bg-status-error/80 text-white focus:ring-status-error",warning:"bg-status-warning hover:bg-status-warning/80 text-primary-foreground focus:ring-status-warning"},d={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},f=`${c} ${u[t]} ${d[n]} ${r}`;return i.jsx("button",{className:f,onClick:a,...o,children:e})},vA="/assets/Hero-tLxHARJR.png",bA=()=>i.jsx("section",{className:"rounded-xl border border-border bg-surface overflow-hidden",children:i.jsxs("div",{className:"relative min-h-[400px] lg:h-[500px] w-full",children:[i.jsx("img",{src:vA,alt:"Wheat field",className:"h-full w-full object-cover opacity-50"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-transparent to-transparent"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:"max-w-4xl px-6 lg:px-8 text-center",children:[i.jsxs("h1",{className:"text-4xl lg:text-5xl xl:text-6xl font-bold text-text-primary text-balance leading-tight",children:[i.jsx(w,{children:"Smart Farming with AI-Powered"}),i.jsx("span",{className:"block text-primary",children:i.jsx(w,{children:"Crop Intelligence"})})]}),i.jsx("p",{className:"mt-6 text-lg lg:text-xl text-text-secondary max-w-3xl mx-auto leading-relaxed",children:i.jsx(w,{children:"Detect crop diseases instantly, predict yields accurately, and access real-time market data to maximize your farming success with AgriVision's advanced AI platform."})}),i.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-4 text-sm lg:text-base",children:[i.jsxs("div",{className:"flex items-center gap-2 bg-background/80 px-4 py-2 rounded-full",children:[i.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"}),i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"AI Disease Detection"})})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-background/80 px-4 py-2 rounded-full",children:[i.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"}),i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Live Market Prices"})})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-background/80 px-4 py-2 rounded-full",children:[i.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"}),i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Yield Predictions"})})]})]}),i.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center items-center",children:[i.jsx(Me,{to:"/predict",children:i.jsx(Re,{className:"bg-primary text-black hover:bg-primary-hover text-lg px-8 py-3 font-semibold",children:i.jsx(w,{children:"Start Free Prediction"})})}),i.jsx(Me,{to:"/disease-prediction",children:i.jsx(Re,{variant:"outline",className:"text-lg px-8 py-3 font-semibold",children:i.jsx(w,{children:"Detect Disease"})})})]})]})})]})}),_A=()=>{const e=[{number:"95%",label:"Disease Detection Accuracy",icon:"",description:"AI-powered disease identification"},{number:"1000+",label:"Markets Covered",icon:"",description:"Real-time price data"},{number:"50+",label:"Crop Diseases Detected",icon:"",description:"Comprehensive disease database"},{number:"92%",label:"Yield Prediction Accuracy",icon:"",description:"Weather-integrated forecasting"},{number:"25%",label:"Average Profit Increase",icon:"",description:"With market intelligence"},{number:"2 sec",label:"Disease Detection Speed",icon:"",description:"Instant image analysis"}];return i.jsxs("section",{className:"mt-12 mb-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-text-primary mb-3",children:i.jsx(w,{children:"Trusted by Farmers Nationwide"})}),i.jsx("p",{className:"text-text-secondary max-w-2xl mx-auto",children:i.jsx(w,{children:"Our AI-powered platform delivers measurable results for modern agriculture"})})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,n)=>i.jsxs("div",{className:"text-center p-6 rounded-lg border border-border bg-surface hover:bg-surface-hover transition-all duration-200 hover:scale-105",children:[i.jsx("div",{className:"text-4xl mb-3",role:"img","aria-label":t.label,children:t.icon}),i.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-primary mb-2",children:t.number}),i.jsx("div",{className:"text-sm font-semibold text-text-primary mb-1",children:i.jsx(w,{children:t.label})}),i.jsx("div",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:t.description})})]},n))})]})},Ne=({children:e,className:t="",variant:n="default",...a})=>{const c=`rounded-lg border transition-colors duration-200 ${{default:"bg-background-card border-border",primary:"bg-background-card border-primary/30",secondary:"bg-background border-border",success:"bg-background-card border-status-success/30",error:"bg-background-card border-status-error/30",warning:"bg-background-card border-status-warning/30"}[n]} ${t}`;return i.jsx("div",{className:c,...a,children:e})},Xe=({children:e,className:t=""})=>i.jsx("div",{className:`p-6 pb-4 ${t}`,children:e}),Ee=({children:e,className:t=""})=>i.jsx("div",{className:`p-6 pt-0 ${t}`,children:e}),wA=({children:e,className:t=""})=>i.jsx("div",{className:`p-6 pt-4 border-t border-border ${t}`,children:e}),Ke=({children:e,className:t=""})=>i.jsx("h3",{className:`text-xl font-bold text-text-primary ${t}`,children:e}),jA=({children:e,className:t=""})=>i.jsx("p",{className:`text-text-secondary ${t}`,children:e});Ne.Header=Xe;Ne.Content=Ee;Ne.Footer=wA;Ne.Title=Ke;Ne.Description=jA;const NA=()=>{const e=[{icon:"",title:"Accurate Yield Predictions",description:"Our AI models provide highly accurate yield predictions based on historical data, weather patterns, and soil conditions to help you plan harvest and optimize resources."},{icon:"",title:"AI Disease Detection",description:"Upload crop images to instantly detect diseases using advanced computer vision. Get detailed diagnosis, treatment recommendations, and prevention strategies with confidence scores."},{icon:"",title:"Real-Time Market Prices",description:"Access live market prices across 1000+ markets, track price trends, monitor crop demand, and make informed selling decisions to maximize your profits."},{icon:"",title:"Crop-Specific Models",description:"We offer specialized models for a variety of crops, ensuring precise predictions tailored to your specific needs and local growing conditions."},{icon:"",title:"Market Analytics",description:"Analyze market trends, compare prices across regions, track seasonal patterns, and identify the best times to sell your produce for optimal returns."},{icon:"",title:"Instant Insights",description:"Get real-time weather alerts, disease outbreak warnings, and market opportunities delivered instantly to help you make quick, informed decisions."}];return i.jsxs("section",{className:"mt-12 mb-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold text-text-primary mb-3",children:i.jsx(w,{children:"Key Features"})}),i.jsx("p",{className:"text-text-secondary max-w-2xl mx-auto text-sm",children:i.jsx(w,{children:"AgriVision offers a range of features designed to help farmers make informed decisions and improve their crop yields."})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,n)=>i.jsx(Ne,{className:"border-border bg-surface hover:bg-surface-hover transition-colors duration-200",children:i.jsxs(Ee,{className:"p-6 text-center",children:[i.jsx("div",{className:"mb-4",children:i.jsx("span",{className:"text-4xl",role:"img","aria-label":t.title,children:t.icon})}),i.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-3",children:i.jsx(w,{children:t.title})}),i.jsx("p",{className:"text-sm text-text-secondary leading-relaxed",children:i.jsx(w,{children:t.description})})]})},n))})]})},SA=()=>{const e=[{icon:i.jsx(Yb,{className:"w-8 h-8 text-primary"}),category:"Disease Detection",title:"AI-Powered Crop Disease Analysis",description:"Advanced computer vision technology that analyzes crop images to detect diseases early, helping prevent crop loss and reduce treatment costs.",features:["Instant disease identification from photos","95%+ accuracy across 50+ common crop diseases","Detailed treatment recommendations","Prevention strategies and best practices","Confidence scoring for reliable results"],stats:{label:"Disease Detection Accuracy",value:"95%+",subtext:"Across 50+ diseases"}},{icon:i.jsx(Ka,{className:"w-8 h-8 text-primary"}),category:"Market Intelligence",title:"Real-Time Market Data & Analytics",description:"Comprehensive market intelligence platform providing live prices, trends, and analytics to help farmers make profitable selling decisions.",features:["Live prices from 1000+ markets nationwide","Historical price trends and seasonal patterns","Demand forecasting and market opportunities","Regional price comparisons","Optimal selling time recommendations"],stats:{label:"Markets Covered",value:"1000+",subtext:"Across India"}},{icon:i.jsx(Ts,{className:"w-8 h-8 text-primary"}),category:"Yield Prediction",title:"Precision Crop Yield Forecasting",description:"Machine learning models trained on weather, soil, and historical data to provide accurate yield predictions for better planning and resource allocation.",features:["Weather-integrated yield models","Soil condition analysis","Historical data correlation","Resource optimization suggestions","Harvest timing recommendations"],stats:{label:"Prediction Accuracy",value:"92%",subtext:"Average accuracy"}}];return i.jsxs("section",{className:"mt-16 mb-12",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-4",children:i.jsx(w,{children:"Powerful Features for Modern Farming"})}),i.jsx("p",{className:"text-lg text-text-secondary max-w-3xl mx-auto",children:i.jsx(w,{children:"AgriVision combines cutting-edge AI technology with comprehensive market intelligence to empower farmers with actionable insights and data-driven decisions."})})]}),i.jsx("div",{className:"space-y-8",children:e.map((t,n)=>i.jsx(Ne,{className:"border-border bg-surface overflow-hidden",children:i.jsx(Ee,{className:"p-0",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-0",children:[i.jsxs("div",{className:"lg:col-span-2 p-8",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"flex-shrink-0 p-3 bg-primary/10 rounded-lg",children:t.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium text-primary mb-1",children:i.jsx(w,{children:t.category})}),i.jsx("h3",{className:"text-xl font-bold text-text-primary mb-3",children:i.jsx(w,{children:t.title})}),i.jsx("p",{className:"text-text-secondary leading-relaxed",children:i.jsx(w,{children:t.description})})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:t.features.map((a,r)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Jt,{className:"w-4 h-4 text-primary flex-shrink-0"}),i.jsx("span",{className:"text-sm text-text-secondary",children:i.jsx(w,{children:a})})]},r))})]}),i.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 p-8 flex flex-col justify-center items-center text-center border-l border-border",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:t.stats.value}),i.jsx("div",{className:"text-sm font-medium text-text-primary mb-2",children:i.jsx(w,{children:t.stats.label})}),i.jsx("div",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:t.stats.subtext})})]}),i.jsx("div",{className:"w-full max-w-32 h-2 bg-border rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-1000",style:{width:n===0?"95%":n===1?"85%":"92%"}})})]})]})})},n))}),i.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(Ne,{className:"border-border bg-surface text-center",children:i.jsxs(Ee,{className:"p-6",children:[i.jsx(tA,{className:"w-8 h-8 text-primary mx-auto mb-4"}),i.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:i.jsx(w,{children:"Early Disease Prevention"})}),i.jsx("p",{className:"text-sm text-text-secondary",children:i.jsx(w,{children:"Detect diseases before they spread, saving up to 40% in crop losses and treatment costs."})})]})}),i.jsx(Ne,{className:"border-border bg-surface text-center",children:i.jsxs(Ee,{className:"p-6",children:[i.jsx(Wc,{className:"w-8 h-8 text-primary mx-auto mb-4"}),i.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:i.jsx(w,{children:"Maximize Profits"})}),i.jsx("p",{className:"text-sm text-text-secondary",children:i.jsx(w,{children:"Time your sales perfectly with market intelligence and increase revenue by up to 25%."})})]})}),i.jsx(Ne,{className:"border-border bg-surface text-center",children:i.jsxs(Ee,{className:"p-6",children:[i.jsx(Fm,{className:"w-8 h-8 text-primary mx-auto mb-4"}),i.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:i.jsx(w,{children:"Instant Results"})}),i.jsx("p",{className:"text-sm text-text-secondary",children:i.jsx(w,{children:"Get disease diagnosis in seconds and market updates in real-time for quick decision making."})})]})})]})]})},TA=()=>i.jsx("section",{className:"mt-12 mb-8",children:i.jsx(Ne,{className:"border-border bg-gradient-to-r from-primary/5 to-primary/10",children:i.jsxs(Ee,{className:"p-8 lg:p-12 text-center",children:[i.jsx("h3",{className:"text-2xl lg:text-3xl font-bold text-text-primary mb-4",children:i.jsx(w,{children:"Transform Your Farming with AI Technology"})}),i.jsx("p",{className:"text-lg text-text-secondary mb-6 max-w-2xl mx-auto",children:i.jsx(w,{children:"Join thousands of farmers using AgriVision to detect diseases early, predict yields accurately, and access real-time market data for better profits."})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[i.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"}),i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Free disease detection"})})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[i.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"}),i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Live market prices"})})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[i.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"}),i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"No subscription required"})})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[i.jsx(Me,{to:"/disease-prediction",children:i.jsx(Re,{className:"bg-primary text-black hover:bg-primary-hover text-lg px-8 py-3 font-semibold w-full sm:w-auto",children:i.jsx(w,{children:"Detect Disease Now"})})}),i.jsx(Me,{to:"/market",children:i.jsx(Re,{variant:"outline",className:"border-primary text-primary hover:bg-primary hover:text-black text-lg px-8 py-3 font-semibold w-full sm:w-auto",children:i.jsx(w,{children:"View Market Prices"})})})]})]})})}),AA=()=>i.jsx("footer",{className:"mt-16 border-t border-border bg-surface",children:i.jsxs("div",{className:"mx-auto max-w-7xl px-4 lg:px-6 py-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-lg font-bold text-primary",children:" AgriVision"})}),i.jsxs("nav",{className:"flex flex-wrap gap-6 text-sm",children:[i.jsx(Me,{to:"/privacy",className:"text-text-secondary hover:text-primary transition-colors",children:"Privacy Policy"}),i.jsx(Me,{to:"/terms",className:"text-text-secondary hover:text-primary transition-colors",children:"Terms of Service"}),i.jsx(Me,{to:"/contact",className:"text-text-secondary hover:text-primary transition-colors",children:"Contact Us"}),i.jsx(Me,{to:"/about",className:"text-text-secondary hover:text-primary transition-colors",children:"About Us"})]})]}),i.jsx("div",{className:"mt-6 pt-6 border-t border-border text-center",children:i.jsx("p",{className:"text-sm text-text-secondary",children:" 2024 AgriVision. All rights reserved. Empowering farmers with AI-driven insights."})})]})}),kA=()=>i.jsxs("div",{className:"min-h-screen bg-background text-text-secondary",children:[i.jsx(zn,{}),i.jsxs("main",{className:"mx-auto max-w-7xl px-4 lg:px-6 py-6",children:[i.jsx(bA,{}),i.jsx(_A,{}),i.jsx(NA,{}),i.jsx(SA,{}),i.jsx(TA,{})]}),i.jsx(AA,{})]}),CA=({onSubmit:e,isLoading:t=!1,error:n=null})=>{const{user:a}=Pt(),{t:r}=za(),[o,c]=A.useState({cropType:"",soilType:"",date:"",location:{state:"",district:""},weather:{temperature:"",rainfall:""},landInHectares:"",fetchedFromAPIs:!1,autoFetchData:!1});A.useEffect(()=>{var f,m,x,g;if(a){let y="",j="";if(a.state&&a.district)y=a.state,j=a.district;else if((f=a.farmDetails)!=null&&f.state&&((m=a.farmDetails)!=null&&m.district))y=a.farmDetails.state,j=a.farmDetails.district;else{const S=((x=a.farmDetails)==null?void 0:x.location)||a.location||"";if(S){const T=S.split(",").map(b=>b.trim());T.length>=2&&(y=T[T.length-1],j=T[T.length-2])}}c(S=>{var T;return{...S,location:{state:y||S.location.state,district:j||S.location.district},landInHectares:((T=a.farmDetails)==null?void 0:T.totalArea)||a.totalArea||S.landInHectares}}),console.log(" User location data parsed:",{original:((g=a.farmDetails)==null?void 0:g.location)||a.location,parsed:{state:y,district:j}})}},[a]);const u=f=>{const{name:m,value:x,type:g,checked:y}=f.target;if(m==="autoFetchData")c(j=>({...j,autoFetchData:y,fetchedFromAPIs:y,...y&&{soilType:"",weather:{temperature:"",rainfall:""}}}));else if(m.includes(".")){const[j,S]=m.split(".");c(T=>({...T,[j]:{...T[j],[S]:g==="checkbox"?y:x}}))}else c(j=>({...j,[m]:g==="checkbox"?y:x}))},d=f=>{if(f.preventDefault(),console.log(" Form submitted with data:",o),!o.cropType){alert(r("Please select a crop type"));return}if(!o.location.state||!o.location.district){alert(r("Please enter both state and district"));return}if(!o.date){alert(r("Please select a date"));return}if(!o.landInHectares||parseFloat(o.landInHectares)<=0){alert(r("Please enter a valid land area in hectares"));return}const m={cropType:o.cropType,farmSize:parseFloat(o.landInHectares),soilType:o.autoFetchData?null:o.soilType||null,rainfall:o.autoFetchData?null:o.weather.rainfall?parseFloat(o.weather.rainfall):null,temperature:o.autoFetchData?null:o.weather.temperature?parseFloat(o.weather.temperature):null,humidity:65,season:"kharif",location:o.location,fetchedFromAPIs:o.autoFetchData,fetchFromApis:o.autoFetchData,autoFetchData:o.autoFetchData,date:o.date};console.log(" FINAL SUBMISSION DATA:"),console.log(" Raw Form Data:",o),console.log(" Processed Submission Data:",m),console.log(" Auto Fetch Status:",{autoFetchData:o.autoFetchData,fetchedFromAPIs:m.fetchedFromAPIs,fetchFromApis:m.fetchFromApis}),console.log(" Form validation passed, calling onSubmit prop."),e(m)};return i.jsxs("div",{className:"bg-background-card p-6 rounded-lg border border-border",children:[i.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:i.jsx(w,{children:"Crop Yield Prediction"})}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6",children:i.jsxs("p",{className:"text-blue-700 text-sm",children:[" ",i.jsx(w,{children:"Weather and soil data can be automatically fetched by the system based on your location, or you can provide your own data for more accurate predictions."})]})}),n&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(La,{className:"w-4 h-4 text-red-600 mr-2"}),i.jsx("p",{className:"text-red-700 text-sm",children:n})]})}),i.jsxs("form",{onSubmit:d,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-text-secondary text-sm font-medium mb-2",children:[i.jsx(w,{children:"Crop Type"})," *"]}),i.jsxs("select",{name:"cropType",value:o.cropType,onChange:u,className:"w-full bg-background border border-border rounded-lg px-4 py-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[i.jsx("option",{value:"",children:i.jsx(w,{children:"Select Crop"})}),i.jsx("option",{value:"rice",children:i.jsx(w,{children:"Rice"})}),i.jsx("option",{value:"wheat",children:i.jsx(w,{children:"Wheat"})}),i.jsx("option",{value:"corn",children:i.jsx(w,{children:"Corn"})}),i.jsx("option",{value:"soybean",children:i.jsx(w,{children:"Soybean"})}),i.jsx("option",{value:"cotton",children:i.jsx(w,{children:"Cotton"})}),i.jsx("option",{value:"sugarcane",children:i.jsx(w,{children:"Sugarcane"})}),i.jsx("option",{value:"potato",children:i.jsx(w,{children:"Potato"})}),i.jsx("option",{value:"tomato",children:i.jsx(w,{children:"Tomato"})})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-text-secondary text-sm font-medium mb-2",children:[i.jsx(w,{children:"Date"})," *"]}),i.jsx("input",{type:"date",name:"date",value:o.date,onChange:u,className:"w-full bg-background border border-border rounded-lg px-4 py-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-text-secondary text-sm font-medium mb-2",children:[i.jsx(ts,{className:"inline w-4 h-4 mr-1"}),i.jsx(w,{children:"State"})," *"]}),i.jsx("input",{type:"text",name:"location.state",value:o.location.state,onChange:u,placeholder:"e.g., Maharashtra",className:"w-full bg-background border border-border rounded-lg px-4 py-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-text-secondary text-sm font-medium mb-2",children:[i.jsx(w,{children:"District"})," *"]}),i.jsx("input",{type:"text",name:"location.district",value:o.location.district,onChange:u,placeholder:"e.g., Pune",className:"w-full bg-background border border-border rounded-lg px-4 py-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-text-secondary text-sm font-medium mb-2",children:[i.jsx(w,{children:"Land Area (Hectares)"})," *"]}),i.jsx("input",{type:"number",name:"landInHectares",value:o.landInHectares,onChange:u,placeholder:r("Enter area in hectares"),min:"0.1",step:"0.1",className:"w-full bg-background border border-border rounded-lg px-4 py-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),i.jsx("div",{className:"flex items-center mb-6",children:i.jsxs("label",{className:"inline-flex items-center",children:[i.jsx("input",{type:"checkbox",name:"autoFetchData",checked:o.autoFetchData,onChange:f=>c(m=>({...m,autoFetchData:f.target.checked,fetchedFromAPIs:f.target.checked,...f.target.checked&&{soilType:"",weather:{temperature:"",rainfall:""}}})),className:"form-checkbox"}),i.jsx("span",{className:"ml-2",children:i.jsx(w,{children:"Auto-fetch Weather and Soil Data"})})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-text-secondary text-sm font-medium mb-2",children:i.jsx(w,{children:"Soil Type (Optional - can be auto-detected)"})}),i.jsxs("select",{name:"soilType",value:o.soilType,onChange:u,disabled:o.autoFetchData,className:"w-full bg-background border border-border rounded-lg px-4 py-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[i.jsx("option",{value:"",children:i.jsx(w,{children:"Select Soil Type"})}),i.jsx("option",{value:"clay",children:i.jsx(w,{children:"Clay"})}),i.jsx("option",{value:"loam",children:i.jsx(w,{children:"Loam"})}),i.jsx("option",{value:"sandy",children:i.jsx(w,{children:"Sandy"})}),i.jsx("option",{value:"silt",children:i.jsx(w,{children:"Silt"})}),i.jsx("option",{value:"black",children:i.jsx(w,{children:"Black"})}),i.jsx("option",{value:"red",children:i.jsx(w,{children:"Red"})}),i.jsx("option",{value:"alluvial",children:i.jsx(w,{children:"Alluvial"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-text-primary font-medium mb-4",children:i.jsx(w,{children:"Weather Information"})}),i.jsxs("div",{className:"space-y-4 xl:space-y-0 xl:grid xl:grid-cols-2 xl:gap-6",children:[i.jsxs("div",{className:"w-full",children:[i.jsxs("label",{className:"block text-text-secondary text-sm font-medium mb-2 leading-relaxed break-words",children:[i.jsx(Kb,{className:"inline w-4 h-4 mr-1 flex-shrink-0"}),i.jsx("span",{className:"break-words",children:i.jsx(w,{children:"Temperature (C) (Optional - can be auto-fetched)"})})]}),i.jsx("input",{type:"number",name:"weather.temperature",value:o.weather.temperature,onChange:u,placeholder:"e.g., 25",min:"-10",max:"50",disabled:o.autoFetchData,title:"Optional - can be auto-fetched if enabled",className:"w-full bg-background border border-border rounded-lg px-4 py-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),!o.autoFetchData&&i.jsx("p",{className:"text-xs text-text-secondary mt-1 opacity-75",children:i.jsx(w,{children:"Optional - leave empty for auto-fetch"})})]}),i.jsxs("div",{className:"w-full",children:[i.jsxs("label",{className:"block text-text-secondary text-sm font-medium mb-2 leading-relaxed break-words",children:[i.jsx(MT,{className:"inline w-4 h-4 mr-1 flex-shrink-0"}),i.jsx("span",{className:"break-words",children:i.jsx(w,{children:"Rainfall (mm) (Optional - can be auto-fetched)"})})]}),i.jsx("input",{type:"number",name:"weather.rainfall",value:o.weather.rainfall,onChange:u,placeholder:"e.g., 750",min:"0",disabled:o.autoFetchData,title:"Optional - can be auto-fetched if enabled",className:"w-full bg-background border border-border rounded-lg px-4 py-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),!o.autoFetchData&&i.jsx("p",{className:"text-xs text-text-secondary mt-1 opacity-75",children:i.jsx(w,{children:"Optional - leave empty for auto-fetch"})})]})]})]}),i.jsxs("button",{type:"submit",disabled:t,className:`w-full font-semibold py-3 px-6 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background-card flex items-center justify-center space-x-2 ${t?"bg-border text-text-secondary cursor-not-allowed":"bg-primary hover:bg-primary/80 text-primary-foreground"}`,children:[t&&i.jsx(Im,{size:20,className:"animate-spin"}),i.jsx("span",{children:t?i.jsx(w,{children:"Analyzing..."}):i.jsx(w,{children:"Predict Yield"})})]})]})]})},Bx=({icon:e,label:t,value:n,unit:a,colorClass:r="text-primary"})=>i.jsx("div",{className:"rounded-lg overflow-hidden",children:i.jsx("div",{className:"p-4 bg-[#0f1a17] flex items-center justify-between space-x-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full bg-[#12221d] flex items-center justify-center ${r}`,children:e}),i.jsxs("div",{children:[i.jsx("div",{className:"text-text-secondary text-xs font-medium",children:t}),i.jsxs("div",{className:`text-lg font-bold ${r}`,children:[n," ",i.jsx("span",{className:"text-sm font-normal text-text-secondary",children:a})]})]})]})})}),EA=({text:e})=>{const t=e.split(":"),n=t[0],a=t.slice(1).join(":");let r=jT,o="Optimization",c="relative bg-[#121c19] p-4 rounded-lg border border-[#22312d]",u="primary",d="text-xs px-2 py-1 rounded-full font-medium bg-primary/10 text-primary";const f=n.toLowerCase();f.includes("temp")?(r=Kb,o=" Climate Optimization",u="orange",d="text-xs px-2 py-1 rounded-full font-medium bg-orange-500/10 text-orange-400"):f.includes("soil")?(r=Oi,o=" Soil Enhancement",u="green",d="text-xs px-2 py-1 rounded-full font-medium bg-green-500/10 text-green-400"):f.includes("fertilizer")?(r=RT,o=" Nutrient Optimization",u="blue",d="text-xs px-2 py-1 rounded-full font-medium bg-blue-500/10 text-blue-400"):f.includes("area")&&(o=" Scale Optimization",u="purple",d="text-xs px-2 py-1 rounded-full font-medium bg-purple-500/10 text-purple-400");const m={primary:"from-primary/40 via-primary/10 to-transparent",orange:"from-orange-400/40 via-orange-400/10 to-transparent",green:"from-green-400/40 via-green-400/10 to-transparent",blue:"from-blue-400/40 via-blue-400/10 to-transparent",purple:"from-purple-400/40 via-purple-400/10 to-transparent"}[u];return i.jsxs("div",{className:`p-4 ${c} rounded-lg flex items-start space-x-3`,children:[i.jsx("div",{className:`absolute inset-y-0 left-0 w-1 rounded-l-lg bg-gradient-to-b ${m}`}),i.jsx(r,{className:"w-5 h-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h5",{className:"text-sm font-semibold text-text-primary",children:n}),i.jsx("span",{className:d,children:o})]}),i.jsx("p",{className:"text-sm text-text-secondary leading-relaxed tracking-wide",children:a}),i.jsx("div",{className:"mt-2",children:i.jsxs("span",{className:"inline-block text-xs bg-[#0f2b22] text-[#50FF9F] px-2 py-1 rounded font-medium",children:[i.jsx(w,{children:"Impact"}),": ",i.jsx(w,{children:"Higher yield potential"})]})})]})]})},MA=({prediction:e})=>{if(!e)return i.jsxs("div",{className:"bg-background-card p-4 rounded-lg border border-border",children:[i.jsx("h3",{className:"text-lg font-bold text-text-primary mb-3",children:i.jsx(w,{children:"Prediction Output"})}),i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"w-16 h-16 bg-border rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsx(Ka,{size:24,className:"text-text-secondary"})}),i.jsx("p",{className:"text-text-secondary text-base mb-1",children:i.jsx(w,{children:"No Prediction Yet"})}),i.jsx("p",{className:"text-text-secondary text-xs",children:i.jsx(w,{children:"Fill out the form to see results"})})]})]});const t=e.data||e,{input:n,prediction:a,insights:r,technical:o}=t;if(!a||!n)return i.jsxs("div",{className:"bg-background-card p-4 rounded-lg border border-border",children:[i.jsx("h3",{className:"text-lg font-bold text-text-primary mb-3",children:i.jsx(w,{children:"Prediction Output"})}),i.jsxs("div",{className:"text-center py-6",children:[i.jsx("p",{className:"text-status-error text-base mb-1",children:i.jsx(w,{children:"Error loading prediction data"})}),i.jsx("p",{className:"text-text-secondary text-xs",children:i.jsx(w,{children:"Please try again"})})]})]});const c=n.landArea||n.farmSize||1,u=a.yield_kg_per_hectare||a.yield_per_hectare||a.yield_tons||0,f=((a.yield_kg||u*c)/1e3).toFixed(2),m=(u/1e3).toFixed(2),g=a.confidence_level||"Medium",y=S=>{switch(S==null?void 0:S.toLowerCase()){case"high":return"text-green-400";case"medium":return"text-yellow-400";case"low":return"text-status-error";default:return"text-yellow-400"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-background-card p-6 rounded-lg border border-border",children:[i.jsx("h3",{className:"text-2xl font-bold text-text-primary mb-4",children:i.jsx(w,{children:"Prediction Result"})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsx(Bx,{icon:i.jsx(Ka,{size:20}),label:i.jsx(w,{children:"Yield per Hectare"}),value:m,unit:"tons"}),i.jsx(Bx,{icon:i.jsx(Oi,{size:20}),label:i.jsx(w,{children:"Total Estimated Yield"}),value:f,unit:`tons for ${c} ha`,colorClass:"text-status-success"})]}),i.jsxs("div",{className:"bg-[#121c19] p-4 rounded-lg border border-[#22312d] flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Jt,{className:"w-5 h-5 color-green"}),i.jsxs("span",{className:"text-sm font-medium text-text-primary",children:[i.jsx(w,{children:"Confidence Level"}),":"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:`font-bold text-lg ${y(g)}`,children:g}),i.jsxs("div",{className:"text-xs text-text-secondary",children:[i.jsx(w,{children:"Score"}),": ","90+"]})]})]})]}),r&&r.length>0&&i.jsxs("div",{className:"bg-background-card p-6 rounded-lg border border-border",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(Fm,{size:20,className:"text-primary"}),i.jsxs("h4",{className:"text-xl font-bold text-text-primary",children:[" ",i.jsx(w,{children:"Yield Optimization Recommendations"})]})]}),i.jsxs("div",{className:"text-sm text-text-secondary mb-4 bg-background rounded-lg p-3 border-l-4 border-primary/20",children:[i.jsxs("strong",{children:[" ",i.jsx(w,{children:"Pro Tip"}),":"]})," ",i.jsx(w,{children:"Implementing these optimizations could potentially increase your yield by 15-30% compared to current practices."})]}),i.jsx("div",{className:"space-y-4",children:r.map((S,T)=>i.jsx(EA,{text:S},T))})]}),o&&i.jsx("div",{className:"p-4 rounded-lg border border-[#22312d] bg-[#0f1816] text-xs text-text-secondary",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Model:"})," ",o.model_version," |",i.jsx("strong",{children:" Source:"})," ",o.data_source," |",i.jsx("strong",{children:" Processing Time:"})," ",o.processing_time_ms,"ms"]})})]})};function mc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PA(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jb(e){let t,n,a;e.length!==2?(t=mc,n=(u,d)=>mc(e(u),d),a=(u,d)=>e(u)-d):(t=e===mc||e===PA?e:LA,n=e,a=e);function r(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const x=f+m>>>1;n(u[x],d)<0?f=x+1:m=x}while(f<m)}return f}function o(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const x=f+m>>>1;n(u[x],d)<=0?f=x+1:m=x}while(f<m)}return f}function c(u,d,f=0,m=u.length){const x=r(u,d,f,m-1);return x>f&&a(u[x-1],d)>-a(u[x],d)?x-1:x}return{left:r,center:c,right:o}}function LA(){return 0}function DA(e){return e===null?NaN:+e}const RA=Jb(mc),zA=RA.right;Jb(DA).center;function OA(e,t){let n,a;for(const r of e)r!=null&&(n===void 0?r>=r&&(n=a=r):(n>r&&(n=r),a<r&&(a=r)));return[n,a]}class Hx extends Map{constructor(t,n=HA){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[a,r]of t)this.set(a,r)}get(t){return super.get(Ix(this,t))}has(t){return super.has(Ix(this,t))}set(t,n){return super.set(UA(this,t),n)}delete(t){return super.delete(BA(this,t))}}function Ix({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):n}function UA({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function BA({_intern:e,_key:t},n){const a=t(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function HA(e){return e!==null&&typeof e=="object"?e.valueOf():e}const IA=Math.sqrt(50),FA=Math.sqrt(10),qA=Math.sqrt(2);function eu(e,t,n){const a=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(a)),o=a/Math.pow(10,r),c=o>=IA?10:o>=FA?5:o>=qA?2:1;let u,d,f;return r<0?(f=Math.pow(10,-r)/c,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,r)*c,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=n&&n<2?eu(e,t,n*2):[u,d,f]}function ZA(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const a=t<e,[r,o,c]=a?eu(t,e,n):eu(e,t,n);if(!(o>=r))return[];const u=o-r+1,d=new Array(u);if(a)if(c<0)for(let f=0;f<u;++f)d[f]=(o-f)/-c;else for(let f=0;f<u;++f)d[f]=(o-f)*c;else if(c<0)for(let f=0;f<u;++f)d[f]=(r+f)/-c;else for(let f=0;f<u;++f)d[f]=(r+f)*c;return d}function mf(e,t,n){return t=+t,e=+e,n=+n,eu(e,t,n)[2]}function $A(e,t,n){t=+t,e=+e,n=+n;const a=t<e,r=a?mf(t,e,n):mf(e,t,n);return(a?-1:1)*(r<0?1/-r:r)}function GA(e,t){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function YA(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var a=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(r);++a<r;)o[a]=e+a*n;return o}function VA(e){return e}var Qd=1,Wd=2,pf=3,Yr=4,Fx=1e-6;function XA(e){return"translate("+e+",0)"}function KA(e){return"translate(0,"+e+")"}function QA(e){return t=>+e(t)}function WA(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function JA(){return!this.__axis}function e_(e,t){var n=[],a=null,r=null,o=6,c=6,u=3,d=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=e===Qd||e===Yr?-1:1,m=e===Yr||e===Wd?"x":"y",x=e===Qd||e===pf?XA:KA;function g(y){var j=a??(t.ticks?t.ticks.apply(t,n):t.domain()),S=r??(t.tickFormat?t.tickFormat.apply(t,n):VA),T=Math.max(o,0)+u,b=t.range(),_=+b[0]+d,N=+b[b.length-1]+d,C=(t.bandwidth?WA:QA)(t.copy(),d),E=y.selection?y.selection():y,P=E.selectAll(".domain").data([null]),M=E.selectAll(".tick").data(j,t).order(),H=M.exit(),J=M.enter().append("g").attr("class","tick"),$=M.select("line"),K=M.select("text");P=P.merge(P.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(J),$=$.merge(J.append("line").attr("stroke","currentColor").attr(m+"2",f*o)),K=K.merge(J.append("text").attr("fill","currentColor").attr(m,f*T).attr("dy",e===Qd?"0em":e===pf?"0.71em":"0.32em")),y!==E&&(P=P.transition(y),M=M.transition(y),$=$.transition(y),K=K.transition(y),H=H.transition(y).attr("opacity",Fx).attr("transform",function(z){return isFinite(z=C(z))?x(z+d):this.getAttribute("transform")}),J.attr("opacity",Fx).attr("transform",function(z){var X=this.parentNode.__axis;return x((X&&isFinite(X=X(z))?X:C(z))+d)})),H.remove(),P.attr("d",e===Yr||e===Wd?c?"M"+f*c+","+_+"H"+d+"V"+N+"H"+f*c:"M"+d+","+_+"V"+N:c?"M"+_+","+f*c+"V"+d+"H"+N+"V"+f*c:"M"+_+","+d+"H"+N),M.attr("opacity",1).attr("transform",function(z){return x(C(z)+d)}),$.attr(m+"2",f*o),K.attr(m,f*T).text(S),E.filter(JA).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Wd?"start":e===Yr?"end":"middle"),E.each(function(){this.__axis=C})}return g.scale=function(y){return arguments.length?(t=y,g):t},g.ticks=function(){return n=Array.from(arguments),g},g.tickArguments=function(y){return arguments.length?(n=y==null?[]:Array.from(y),g):n.slice()},g.tickValues=function(y){return arguments.length?(a=y==null?null:Array.from(y),g):a&&a.slice()},g.tickFormat=function(y){return arguments.length?(r=y,g):r},g.tickSize=function(y){return arguments.length?(o=c=+y,g):o},g.tickSizeInner=function(y){return arguments.length?(o=+y,g):o},g.tickSizeOuter=function(y){return arguments.length?(c=+y,g):c},g.tickPadding=function(y){return arguments.length?(u=+y,g):u},g.offset=function(y){return arguments.length?(d=+y,g):d},g}function Jd(e){return e_(pf,e)}function qx(e){return e_(Yr,e)}var ek={value:()=>{}};function t_(){for(var e=0,t=arguments.length,n={},a;e<t;++e){if(!(a=arguments[e]+"")||a in n||/[\s.]/.test(a))throw new Error("illegal type: "+a);n[a]=[]}return new pc(n)}function pc(e){this._=e}function tk(e,t){return e.trim().split(/^|\s+/).map(function(n){var a="",r=n.indexOf(".");if(r>=0&&(a=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:a}})}pc.prototype=t_.prototype={constructor:pc,on:function(e,t){var n=this._,a=tk(e+"",n),r,o=-1,c=a.length;if(arguments.length<2){for(;++o<c;)if((r=(e=a[o]).type)&&(r=nk(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<c;)if(r=(e=a[o]).type)n[r]=Zx(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Zx(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new pc(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),a=0,r,o;a<r;++a)n[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],a=0,r=o.length;a<r;++a)o[a].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],r=0,o=a.length;r<o;++r)a[r].value.apply(t,n)}};function nk(e,t){for(var n=0,a=e.length,r;n<a;++n)if((r=e[n]).name===t)return r.value}function Zx(e,t,n){for(var a=0,r=e.length;a<r;++a)if(e[a].name===t){e[a]=ek,e=e.slice(0,a).concat(e.slice(a+1));break}return n!=null&&e.push({name:t,value:n}),e}var gf="http://www.w3.org/1999/xhtml";const $x={svg:"http://www.w3.org/2000/svg",xhtml:gf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mu(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),$x.hasOwnProperty(t)?{space:$x[t],local:e}:e}function ak(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===gf&&t.documentElement.namespaceURI===gf?t.createElement(e):t.createElementNS(n,e)}}function sk(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function n_(e){var t=Mu(e);return(t.local?sk:ak)(t)}function ik(){}function qm(e){return e==null?ik:function(){return this.querySelector(e)}}function rk(e){typeof e!="function"&&(e=qm(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var o=t[r],c=o.length,u=a[r]=new Array(c),d,f,m=0;m<c;++m)(d=o[m])&&(f=e.call(d,d.__data__,m,o))&&("__data__"in d&&(f.__data__=d.__data__),u[m]=f);return new sn(a,this._parents)}function ok(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function lk(){return[]}function a_(e){return e==null?lk:function(){return this.querySelectorAll(e)}}function ck(e){return function(){return ok(e.apply(this,arguments))}}function uk(e){typeof e=="function"?e=ck(e):e=a_(e);for(var t=this._groups,n=t.length,a=[],r=[],o=0;o<n;++o)for(var c=t[o],u=c.length,d,f=0;f<u;++f)(d=c[f])&&(a.push(e.call(d,d.__data__,f,c)),r.push(d));return new sn(a,r)}function s_(e){return function(){return this.matches(e)}}function i_(e){return function(t){return t.matches(e)}}var dk=Array.prototype.find;function hk(e){return function(){return dk.call(this.children,e)}}function fk(){return this.firstElementChild}function mk(e){return this.select(e==null?fk:hk(typeof e=="function"?e:i_(e)))}var pk=Array.prototype.filter;function gk(){return Array.from(this.children)}function xk(e){return function(){return pk.call(this.children,e)}}function yk(e){return this.selectAll(e==null?gk:xk(typeof e=="function"?e:i_(e)))}function vk(e){typeof e!="function"&&(e=s_(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var o=t[r],c=o.length,u=a[r]=[],d,f=0;f<c;++f)(d=o[f])&&e.call(d,d.__data__,f,o)&&u.push(d);return new sn(a,this._parents)}function r_(e){return new Array(e.length)}function bk(){return new sn(this._enter||this._groups.map(r_),this._parents)}function tu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}tu.prototype={constructor:tu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function _k(e){return function(){return e}}function wk(e,t,n,a,r,o){for(var c=0,u,d=t.length,f=o.length;c<f;++c)(u=t[c])?(u.__data__=o[c],a[c]=u):n[c]=new tu(e,o[c]);for(;c<d;++c)(u=t[c])&&(r[c]=u)}function jk(e,t,n,a,r,o,c){var u,d,f=new Map,m=t.length,x=o.length,g=new Array(m),y;for(u=0;u<m;++u)(d=t[u])&&(g[u]=y=c.call(d,d.__data__,u,t)+"",f.has(y)?r[u]=d:f.set(y,d));for(u=0;u<x;++u)y=c.call(e,o[u],u,o)+"",(d=f.get(y))?(a[u]=d,d.__data__=o[u],f.delete(y)):n[u]=new tu(e,o[u]);for(u=0;u<m;++u)(d=t[u])&&f.get(g[u])===d&&(r[u]=d)}function Nk(e){return e.__data__}function Sk(e,t){if(!arguments.length)return Array.from(this,Nk);var n=t?jk:wk,a=this._parents,r=this._groups;typeof e!="function"&&(e=_k(e));for(var o=r.length,c=new Array(o),u=new Array(o),d=new Array(o),f=0;f<o;++f){var m=a[f],x=r[f],g=x.length,y=Tk(e.call(m,m&&m.__data__,f,a)),j=y.length,S=u[f]=new Array(j),T=c[f]=new Array(j),b=d[f]=new Array(g);n(m,x,S,T,b,y,t);for(var _=0,N=0,C,E;_<j;++_)if(C=S[_]){for(_>=N&&(N=_+1);!(E=T[N])&&++N<j;);C._next=E||null}}return c=new sn(c,a),c._enter=u,c._exit=d,c}function Tk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ak(){return new sn(this._exit||this._groups.map(r_),this._parents)}function kk(e,t,n){var a=this.enter(),r=this,o=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?o.remove():n(o),a&&r?a.merge(r).order():r}function Ck(e){for(var t=e.selection?e.selection():e,n=this._groups,a=t._groups,r=n.length,o=a.length,c=Math.min(r,o),u=new Array(r),d=0;d<c;++d)for(var f=n[d],m=a[d],x=f.length,g=u[d]=new Array(x),y,j=0;j<x;++j)(y=f[j]||m[j])&&(g[j]=y);for(;d<r;++d)u[d]=n[d];return new sn(u,this._parents)}function Ek(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var a=e[t],r=a.length-1,o=a[r],c;--r>=0;)(c=a[r])&&(o&&c.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(c,o),o=c);return this}function Mk(e){e||(e=Pk);function t(x,g){return x&&g?e(x.__data__,g.__data__):!x-!g}for(var n=this._groups,a=n.length,r=new Array(a),o=0;o<a;++o){for(var c=n[o],u=c.length,d=r[o]=new Array(u),f,m=0;m<u;++m)(f=c[m])&&(d[m]=f);d.sort(t)}return new sn(r,this._parents).order()}function Pk(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Lk(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Dk(){return Array.from(this)}function Rk(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a=e[t],r=0,o=a.length;r<o;++r){var c=a[r];if(c)return c}return null}function zk(){let e=0;for(const t of this)++e;return e}function Ok(){return!this.node()}function Uk(e){for(var t=this._groups,n=0,a=t.length;n<a;++n)for(var r=t[n],o=0,c=r.length,u;o<c;++o)(u=r[o])&&e.call(u,u.__data__,o,r);return this}function Bk(e){return function(){this.removeAttribute(e)}}function Hk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ik(e,t){return function(){this.setAttribute(e,t)}}function Fk(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function qk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Zk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function $k(e,t){var n=Mu(e);if(arguments.length<2){var a=this.node();return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n)}return this.each((t==null?n.local?Hk:Bk:typeof t=="function"?n.local?Zk:qk:n.local?Fk:Ik)(n,t))}function o_(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Gk(e){return function(){this.style.removeProperty(e)}}function Yk(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Vk(e,t,n){return function(){var a=t.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,n)}}function Xk(e,t,n){return arguments.length>1?this.each((t==null?Gk:typeof t=="function"?Vk:Yk)(e,t,n??"")):Ki(this.node(),e)}function Ki(e,t){return e.style.getPropertyValue(t)||o_(e).getComputedStyle(e,null).getPropertyValue(t)}function Kk(e){return function(){delete this[e]}}function Qk(e,t){return function(){this[e]=t}}function Wk(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Jk(e,t){return arguments.length>1?this.each((t==null?Kk:typeof t=="function"?Wk:Qk)(e,t)):this.node()[e]}function l_(e){return e.trim().split(/^|\s+/)}function Zm(e){return e.classList||new c_(e)}function c_(e){this._node=e,this._names=l_(e.getAttribute("class")||"")}c_.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function u_(e,t){for(var n=Zm(e),a=-1,r=t.length;++a<r;)n.add(t[a])}function d_(e,t){for(var n=Zm(e),a=-1,r=t.length;++a<r;)n.remove(t[a])}function eC(e){return function(){u_(this,e)}}function tC(e){return function(){d_(this,e)}}function nC(e,t){return function(){(t.apply(this,arguments)?u_:d_)(this,e)}}function aC(e,t){var n=l_(e+"");if(arguments.length<2){for(var a=Zm(this.node()),r=-1,o=n.length;++r<o;)if(!a.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?nC:t?eC:tC)(n,t))}function sC(){this.textContent=""}function iC(e){return function(){this.textContent=e}}function rC(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function oC(e){return arguments.length?this.each(e==null?sC:(typeof e=="function"?rC:iC)(e)):this.node().textContent}function lC(){this.innerHTML=""}function cC(e){return function(){this.innerHTML=e}}function uC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function dC(e){return arguments.length?this.each(e==null?lC:(typeof e=="function"?uC:cC)(e)):this.node().innerHTML}function hC(){this.nextSibling&&this.parentNode.appendChild(this)}function fC(){return this.each(hC)}function mC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pC(){return this.each(mC)}function gC(e){var t=typeof e=="function"?e:n_(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function xC(){return null}function yC(e,t){var n=typeof e=="function"?e:n_(e),a=t==null?xC:typeof t=="function"?t:qm(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}function vC(){var e=this.parentNode;e&&e.removeChild(this)}function bC(){return this.each(vC)}function _C(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function wC(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jC(e){return this.select(e?wC:_C)}function NC(e){return arguments.length?this.property("__data__",e):this.node().__data__}function SC(e){return function(t){e.call(this,t,this.__data__)}}function TC(e){return e.trim().split(/^|\s+/).map(function(t){var n="",a=t.indexOf(".");return a>=0&&(n=t.slice(a+1),t=t.slice(0,a)),{type:t,name:n}})}function AC(e){return function(){var t=this.__on;if(t){for(var n=0,a=-1,r=t.length,o;n<r;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++a]=o;++a?t.length=a:delete this.__on}}}function kC(e,t,n){return function(){var a=this.__on,r,o=SC(t);if(a){for(var c=0,u=a.length;c<u;++c)if((r=a[c]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=t;return}}this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},a?a.push(r):this.__on=[r]}}function CC(e,t,n){var a=TC(e+""),r,o=a.length,c;if(arguments.length<2){var u=this.node().__on;if(u){for(var d=0,f=u.length,m;d<f;++d)for(r=0,m=u[d];r<o;++r)if((c=a[r]).type===m.type&&c.name===m.name)return m.value}return}for(u=t?kC:AC,r=0;r<o;++r)this.each(u(a[r],t,n));return this}function h_(e,t,n){var a=o_(e),r=a.CustomEvent;typeof r=="function"?r=new r(t,n):(r=a.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function EC(e,t){return function(){return h_(this,e,t)}}function MC(e,t){return function(){return h_(this,e,t.apply(this,arguments))}}function PC(e,t){return this.each((typeof t=="function"?MC:EC)(e,t))}function*LC(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a=e[t],r=0,o=a.length,c;r<o;++r)(c=a[r])&&(yield c)}var f_=[null];function sn(e,t){this._groups=e,this._parents=t}function Ko(){return new sn([[document.documentElement]],f_)}function DC(){return this}sn.prototype=Ko.prototype={constructor:sn,select:rk,selectAll:uk,selectChild:mk,selectChildren:yk,filter:vk,data:Sk,enter:bk,exit:Ak,join:kk,merge:Ck,selection:DC,order:Ek,sort:Mk,call:Lk,nodes:Dk,node:Rk,size:zk,empty:Ok,each:Uk,attr:$k,style:Xk,property:Jk,classed:aC,text:oC,html:dC,raise:fC,lower:pC,append:gC,insert:yC,remove:bC,clone:jC,datum:NC,on:CC,dispatch:PC,[Symbol.iterator]:LC};function Ur(e){return typeof e=="string"?new sn([[document.querySelector(e)]],[document.documentElement]):new sn([[e]],f_)}function RC(e){return new sn([document.querySelectorAll(e)],[document.documentElement])}function $m(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function m_(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function Qo(){}var Co=.7,nu=1/Co,Ui="\\s*([+-]?\\d+)\\s*",Eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",aa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zC=/^#([0-9a-f]{3,8})$/,OC=new RegExp(`^rgb\\(${Ui},${Ui},${Ui}\\)$`),UC=new RegExp(`^rgb\\(${aa},${aa},${aa}\\)$`),BC=new RegExp(`^rgba\\(${Ui},${Ui},${Ui},${Eo}\\)$`),HC=new RegExp(`^rgba\\(${aa},${aa},${aa},${Eo}\\)$`),IC=new RegExp(`^hsl\\(${Eo},${aa},${aa}\\)$`),FC=new RegExp(`^hsla\\(${Eo},${aa},${aa},${Eo}\\)$`),Gx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$m(Qo,$s,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yx,formatHex:Yx,formatHex8:qC,formatHsl:ZC,formatRgb:Vx,toString:Vx});function Yx(){return this.rgb().formatHex()}function qC(){return this.rgb().formatHex8()}function ZC(){return p_(this).formatHsl()}function Vx(){return this.rgb().formatRgb()}function $s(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zC.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Xx(t):n===3?new en(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$l(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$l(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=OC.exec(e))?new en(t[1],t[2],t[3],1):(t=UC.exec(e))?new en(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=BC.exec(e))?$l(t[1],t[2],t[3],t[4]):(t=HC.exec(e))?$l(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=IC.exec(e))?Wx(t[1],t[2]/100,t[3]/100,1):(t=FC.exec(e))?Wx(t[1],t[2]/100,t[3]/100,t[4]):Gx.hasOwnProperty(e)?Xx(Gx[e]):e==="transparent"?new en(NaN,NaN,NaN,0):null}function Xx(e){return new en(e>>16&255,e>>8&255,e&255,1)}function $l(e,t,n,a){return a<=0&&(e=t=n=NaN),new en(e,t,n,a)}function $C(e){return e instanceof Qo||(e=$s(e)),e?(e=e.rgb(),new en(e.r,e.g,e.b,e.opacity)):new en}function xf(e,t,n,a){return arguments.length===1?$C(e):new en(e,t,n,a??1)}function en(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}$m(en,xf,m_(Qo,{brighter(e){return e=e==null?nu:Math.pow(nu,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Co:Math.pow(Co,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new en(Us(this.r),Us(this.g),Us(this.b),au(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kx,formatHex:Kx,formatHex8:GC,formatRgb:Qx,toString:Qx}));function Kx(){return`#${Cs(this.r)}${Cs(this.g)}${Cs(this.b)}`}function GC(){return`#${Cs(this.r)}${Cs(this.g)}${Cs(this.b)}${Cs((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qx(){const e=au(this.opacity);return`${e===1?"rgb(":"rgba("}${Us(this.r)}, ${Us(this.g)}, ${Us(this.b)}${e===1?")":`, ${e})`}`}function au(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Us(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cs(e){return e=Us(e),(e<16?"0":"")+e.toString(16)}function Wx(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Bn(e,t,n,a)}function p_(e){if(e instanceof Bn)return new Bn(e.h,e.s,e.l,e.opacity);if(e instanceof Qo||(e=$s(e)),!e)return new Bn;if(e instanceof Bn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,r=Math.min(t,n,a),o=Math.max(t,n,a),c=NaN,u=o-r,d=(o+r)/2;return u?(t===o?c=(n-a)/u+(n<a)*6:n===o?c=(a-t)/u+2:c=(t-n)/u+4,u/=d<.5?o+r:2-o-r,c*=60):u=d>0&&d<1?0:c,new Bn(c,u,d,e.opacity)}function YC(e,t,n,a){return arguments.length===1?p_(e):new Bn(e,t,n,a??1)}function Bn(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}$m(Bn,YC,m_(Qo,{brighter(e){return e=e==null?nu:Math.pow(nu,e),new Bn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Co:Math.pow(Co,e),new Bn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new en(eh(e>=240?e-240:e+120,r,a),eh(e,r,a),eh(e<120?e+240:e-120,r,a),this.opacity)},clamp(){return new Bn(Jx(this.h),Gl(this.s),Gl(this.l),au(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=au(this.opacity);return`${e===1?"hsl(":"hsla("}${Jx(this.h)}, ${Gl(this.s)*100}%, ${Gl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Jx(e){return e=(e||0)%360,e<0?e+360:e}function Gl(e){return Math.max(0,Math.min(1,e||0))}function eh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Gm=e=>()=>e;function VC(e,t){return function(n){return e+n*t}}function XC(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function KC(e){return(e=+e)==1?g_:function(t,n){return n-t?XC(t,n,e):Gm(isNaN(t)?n:t)}}function g_(e,t){var n=t-e;return n?VC(e,n):Gm(isNaN(e)?t:e)}const su=function e(t){var n=KC(t);function a(r,o){var c=n((r=xf(r)).r,(o=xf(o)).r),u=n(r.g,o.g),d=n(r.b,o.b),f=g_(r.opacity,o.opacity);return function(m){return r.r=c(m),r.g=u(m),r.b=d(m),r.opacity=f(m),r+""}}return a.gamma=e,a}(1);function QC(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,a=t.slice(),r;return function(o){for(r=0;r<n;++r)a[r]=e[r]*(1-o)+t[r]*o;return a}}function WC(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function JC(e,t){var n=t?t.length:0,a=e?Math.min(n,e.length):0,r=new Array(a),o=new Array(n),c;for(c=0;c<a;++c)r[c]=Ym(e[c],t[c]);for(;c<n;++c)o[c]=t[c];return function(u){for(c=0;c<a;++c)o[c]=r[c](u);return o}}function e4(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function Un(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function t4(e,t){var n={},a={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=Ym(e[r],t[r]):a[r]=t[r];return function(o){for(r in n)a[r]=n[r](o);return a}}var yf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,th=new RegExp(yf.source,"g");function n4(e){return function(){return e}}function a4(e){return function(t){return e(t)+""}}function x_(e,t){var n=yf.lastIndex=th.lastIndex=0,a,r,o,c=-1,u=[],d=[];for(e=e+"",t=t+"";(a=yf.exec(e))&&(r=th.exec(t));)(o=r.index)>n&&(o=t.slice(n,o),u[c]?u[c]+=o:u[++c]=o),(a=a[0])===(r=r[0])?u[c]?u[c]+=r:u[++c]=r:(u[++c]=null,d.push({i:c,x:Un(a,r)})),n=th.lastIndex;return n<t.length&&(o=t.slice(n),u[c]?u[c]+=o:u[++c]=o),u.length<2?d[0]?a4(d[0].x):n4(t):(t=d.length,function(f){for(var m=0,x;m<t;++m)u[(x=d[m]).i]=x.x(f);return u.join("")})}function Ym(e,t){var n=typeof t,a;return t==null||n==="boolean"?Gm(t):(n==="number"?Un:n==="string"?(a=$s(t))?(t=a,su):x_:t instanceof $s?su:t instanceof Date?e4:WC(t)?QC:Array.isArray(t)?JC:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?t4:Un)(e,t)}function s4(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var ey=180/Math.PI,vf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function y_(e,t,n,a,r,o){var c,u,d;return(c=Math.sqrt(e*e+t*t))&&(e/=c,t/=c),(d=e*n+t*a)&&(n-=e*d,a-=t*d),(u=Math.sqrt(n*n+a*a))&&(n/=u,a/=u,d/=u),e*a<t*n&&(e=-e,t=-t,d=-d,c=-c),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*ey,skewX:Math.atan(d)*ey,scaleX:c,scaleY:u}}var Yl;function i4(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vf:y_(t.a,t.b,t.c,t.d,t.e,t.f)}function r4(e){return e==null||(Yl||(Yl=document.createElementNS("http://www.w3.org/2000/svg","g")),Yl.setAttribute("transform",e),!(e=Yl.transform.baseVal.consolidate()))?vf:(e=e.matrix,y_(e.a,e.b,e.c,e.d,e.e,e.f))}function v_(e,t,n,a){function r(f){return f.length?f.pop()+" ":""}function o(f,m,x,g,y,j){if(f!==x||m!==g){var S=y.push("translate(",null,t,null,n);j.push({i:S-4,x:Un(f,x)},{i:S-2,x:Un(m,g)})}else(x||g)&&y.push("translate("+x+t+g+n)}function c(f,m,x,g){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),g.push({i:x.push(r(x)+"rotate(",null,a)-2,x:Un(f,m)})):m&&x.push(r(x)+"rotate("+m+a)}function u(f,m,x,g){f!==m?g.push({i:x.push(r(x)+"skewX(",null,a)-2,x:Un(f,m)}):m&&x.push(r(x)+"skewX("+m+a)}function d(f,m,x,g,y,j){if(f!==x||m!==g){var S=y.push(r(y)+"scale(",null,",",null,")");j.push({i:S-4,x:Un(f,x)},{i:S-2,x:Un(m,g)})}else(x!==1||g!==1)&&y.push(r(y)+"scale("+x+","+g+")")}return function(f,m){var x=[],g=[];return f=e(f),m=e(m),o(f.translateX,f.translateY,m.translateX,m.translateY,x,g),c(f.rotate,m.rotate,x,g),u(f.skewX,m.skewX,x,g),d(f.scaleX,f.scaleY,m.scaleX,m.scaleY,x,g),f=m=null,function(y){for(var j=-1,S=g.length,T;++j<S;)x[(T=g[j]).i]=T.x(y);return x.join("")}}}var o4=v_(i4,"px, ","px)","deg)"),l4=v_(r4,", ",")",")"),Qi=0,Vr=0,Br=0,b_=1e3,iu,Xr,ru=0,Gs=0,Pu=0,Mo=typeof performance=="object"&&performance.now?performance:Date,__=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Vm(){return Gs||(__(c4),Gs=Mo.now()+Pu)}function c4(){Gs=0}function ou(){this._call=this._time=this._next=null}ou.prototype=w_.prototype={constructor:ou,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Vm():+n)+(t==null?0:+t),!this._next&&Xr!==this&&(Xr?Xr._next=this:iu=this,Xr=this),this._call=e,this._time=n,bf()},stop:function(){this._call&&(this._call=null,this._time=1/0,bf())}};function w_(e,t,n){var a=new ou;return a.restart(e,t,n),a}function u4(){Vm(),++Qi;for(var e=iu,t;e;)(t=Gs-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Qi}function ty(){Gs=(ru=Mo.now())+Pu,Qi=Vr=0;try{u4()}finally{Qi=0,h4(),Gs=0}}function d4(){var e=Mo.now(),t=e-ru;t>b_&&(Pu-=t,ru=e)}function h4(){for(var e,t=iu,n,a=1/0;t;)t._call?(a>t._time&&(a=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:iu=n);Xr=e,bf(a)}function bf(e){if(!Qi){Vr&&(Vr=clearTimeout(Vr));var t=e-Gs;t>24?(e<1/0&&(Vr=setTimeout(ty,e-Mo.now()-Pu)),Br&&(Br=clearInterval(Br))):(Br||(ru=Mo.now(),Br=setInterval(d4,b_)),Qi=1,__(ty))}}function ny(e,t,n){var a=new ou;return t=t==null?0:+t,a.restart(r=>{a.stop(),e(r+t)},t,n),a}var f4=t_("start","end","cancel","interrupt"),m4=[],j_=0,ay=1,_f=2,gc=3,sy=4,wf=5,xc=6;function Lu(e,t,n,a,r,o){var c=e.__transition;if(!c)e.__transition={};else if(n in c)return;p4(e,n,{name:t,index:a,group:r,on:f4,tween:m4,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:j_})}function Xm(e,t){var n=Zn(e,t);if(n.state>j_)throw new Error("too late; already scheduled");return n}function oa(e,t){var n=Zn(e,t);if(n.state>gc)throw new Error("too late; already running");return n}function Zn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function p4(e,t,n){var a=e.__transition,r;a[t]=n,n.timer=w_(o,0,n.time);function o(f){n.state=ay,n.timer.restart(c,n.delay,n.time),n.delay<=f&&c(f-n.delay)}function c(f){var m,x,g,y;if(n.state!==ay)return d();for(m in a)if(y=a[m],y.name===n.name){if(y.state===gc)return ny(c);y.state===sy?(y.state=xc,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete a[m]):+m<t&&(y.state=xc,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete a[m])}if(ny(function(){n.state===gc&&(n.state=sy,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=_f,n.on.call("start",e,e.__data__,n.index,n.group),n.state===_f){for(n.state=gc,r=new Array(g=n.tween.length),m=0,x=-1;m<g;++m)(y=n.tween[m].value.call(e,e.__data__,n.index,n.group))&&(r[++x]=y);r.length=x+1}}function u(f){for(var m=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=wf,1),x=-1,g=r.length;++x<g;)r[x].call(e,m);n.state===wf&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=xc,n.timer.stop(),delete a[t];for(var f in a)return;delete e.__transition}}function g4(e,t){var n=e.__transition,a,r,o=!0,c;if(n){t=t==null?null:t+"";for(c in n){if((a=n[c]).name!==t){o=!1;continue}r=a.state>_f&&a.state<wf,a.state=xc,a.timer.stop(),a.on.call(r?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete n[c]}o&&delete e.__transition}}function x4(e){return this.each(function(){g4(this,e)})}function y4(e,t){var n,a;return function(){var r=oa(this,e),o=r.tween;if(o!==n){a=n=o;for(var c=0,u=a.length;c<u;++c)if(a[c].name===t){a=a.slice(),a.splice(c,1);break}}r.tween=a}}function v4(e,t,n){var a,r;if(typeof n!="function")throw new Error;return function(){var o=oa(this,e),c=o.tween;if(c!==a){r=(a=c).slice();for(var u={name:t,value:n},d=0,f=r.length;d<f;++d)if(r[d].name===t){r[d]=u;break}d===f&&r.push(u)}o.tween=r}}function b4(e,t){var n=this._id;if(e+="",arguments.length<2){for(var a=Zn(this.node(),n).tween,r=0,o=a.length,c;r<o;++r)if((c=a[r]).name===e)return c.value;return null}return this.each((t==null?y4:v4)(n,e,t))}function Km(e,t,n){var a=e._id;return e.each(function(){var r=oa(this,a);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Zn(r,a).value[t]}}function N_(e,t){var n;return(typeof t=="number"?Un:t instanceof $s?su:(n=$s(t))?(t=n,su):x_)(e,t)}function _4(e){return function(){this.removeAttribute(e)}}function w4(e){return function(){this.removeAttributeNS(e.space,e.local)}}function j4(e,t,n){var a,r=n+"",o;return function(){var c=this.getAttribute(e);return c===r?null:c===a?o:o=t(a=c,n)}}function N4(e,t,n){var a,r=n+"",o;return function(){var c=this.getAttributeNS(e.space,e.local);return c===r?null:c===a?o:o=t(a=c,n)}}function S4(e,t,n){var a,r,o;return function(){var c,u=n(this),d;return u==null?void this.removeAttribute(e):(c=this.getAttribute(e),d=u+"",c===d?null:c===a&&d===r?o:(r=d,o=t(a=c,u)))}}function T4(e,t,n){var a,r,o;return function(){var c,u=n(this),d;return u==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),d=u+"",c===d?null:c===a&&d===r?o:(r=d,o=t(a=c,u)))}}function A4(e,t){var n=Mu(e),a=n==="transform"?l4:N_;return this.attrTween(e,typeof t=="function"?(n.local?T4:S4)(n,a,Km(this,"attr."+e,t)):t==null?(n.local?w4:_4)(n):(n.local?N4:j4)(n,a,t))}function k4(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function C4(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function E4(e,t){var n,a;function r(){var o=t.apply(this,arguments);return o!==a&&(n=(a=o)&&C4(e,o)),n}return r._value=t,r}function M4(e,t){var n,a;function r(){var o=t.apply(this,arguments);return o!==a&&(n=(a=o)&&k4(e,o)),n}return r._value=t,r}function P4(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var a=Mu(e);return this.tween(n,(a.local?E4:M4)(a,t))}function L4(e,t){return function(){Xm(this,e).delay=+t.apply(this,arguments)}}function D4(e,t){return t=+t,function(){Xm(this,e).delay=t}}function R4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?L4:D4)(t,e)):Zn(this.node(),t).delay}function z4(e,t){return function(){oa(this,e).duration=+t.apply(this,arguments)}}function O4(e,t){return t=+t,function(){oa(this,e).duration=t}}function U4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?z4:O4)(t,e)):Zn(this.node(),t).duration}function B4(e,t){if(typeof t!="function")throw new Error;return function(){oa(this,e).ease=t}}function H4(e){var t=this._id;return arguments.length?this.each(B4(t,e)):Zn(this.node(),t).ease}function I4(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;oa(this,e).ease=n}}function F4(e){if(typeof e!="function")throw new Error;return this.each(I4(this._id,e))}function q4(e){typeof e!="function"&&(e=s_(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var o=t[r],c=o.length,u=a[r]=[],d,f=0;f<c;++f)(d=o[f])&&e.call(d,d.__data__,f,o)&&u.push(d);return new Da(a,this._parents,this._name,this._id)}function Z4(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,a=t.length,r=n.length,o=Math.min(a,r),c=new Array(a),u=0;u<o;++u)for(var d=t[u],f=n[u],m=d.length,x=c[u]=new Array(m),g,y=0;y<m;++y)(g=d[y]||f[y])&&(x[y]=g);for(;u<a;++u)c[u]=t[u];return new Da(c,this._parents,this._name,this._id)}function $4(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function G4(e,t,n){var a,r,o=$4(t)?Xm:oa;return function(){var c=o(this,e),u=c.on;u!==a&&(r=(a=u).copy()).on(t,n),c.on=r}}function Y4(e,t){var n=this._id;return arguments.length<2?Zn(this.node(),n).on.on(e):this.each(G4(n,e,t))}function V4(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function X4(){return this.on("end.remove",V4(this._id))}function K4(e){var t=this._name,n=this._id;typeof e!="function"&&(e=qm(e));for(var a=this._groups,r=a.length,o=new Array(r),c=0;c<r;++c)for(var u=a[c],d=u.length,f=o[c]=new Array(d),m,x,g=0;g<d;++g)(m=u[g])&&(x=e.call(m,m.__data__,g,u))&&("__data__"in m&&(x.__data__=m.__data__),f[g]=x,Lu(f[g],t,n,g,f,Zn(m,n)));return new Da(o,this._parents,t,n)}function Q4(e){var t=this._name,n=this._id;typeof e!="function"&&(e=a_(e));for(var a=this._groups,r=a.length,o=[],c=[],u=0;u<r;++u)for(var d=a[u],f=d.length,m,x=0;x<f;++x)if(m=d[x]){for(var g=e.call(m,m.__data__,x,d),y,j=Zn(m,n),S=0,T=g.length;S<T;++S)(y=g[S])&&Lu(y,t,n,S,g,j);o.push(g),c.push(m)}return new Da(o,c,t,n)}var W4=Ko.prototype.constructor;function J4(){return new W4(this._groups,this._parents)}function eE(e,t){var n,a,r;return function(){var o=Ki(this,e),c=(this.style.removeProperty(e),Ki(this,e));return o===c?null:o===n&&c===a?r:r=t(n=o,a=c)}}function S_(e){return function(){this.style.removeProperty(e)}}function tE(e,t,n){var a,r=n+"",o;return function(){var c=Ki(this,e);return c===r?null:c===a?o:o=t(a=c,n)}}function nE(e,t,n){var a,r,o;return function(){var c=Ki(this,e),u=n(this),d=u+"";return u==null&&(d=u=(this.style.removeProperty(e),Ki(this,e))),c===d?null:c===a&&d===r?o:(r=d,o=t(a=c,u))}}function aE(e,t){var n,a,r,o="style."+t,c="end."+o,u;return function(){var d=oa(this,e),f=d.on,m=d.value[o]==null?u||(u=S_(t)):void 0;(f!==n||r!==m)&&(a=(n=f).copy()).on(c,r=m),d.on=a}}function sE(e,t,n){var a=(e+="")=="transform"?o4:N_;return t==null?this.styleTween(e,eE(e,a)).on("end.style."+e,S_(e)):typeof t=="function"?this.styleTween(e,nE(e,a,Km(this,"style."+e,t))).each(aE(this._id,e)):this.styleTween(e,tE(e,a,t),n).on("end.style."+e,null)}function iE(e,t,n){return function(a){this.style.setProperty(e,t.call(this,a),n)}}function rE(e,t,n){var a,r;function o(){var c=t.apply(this,arguments);return c!==r&&(a=(r=c)&&iE(e,c,n)),a}return o._value=t,o}function oE(e,t,n){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,rE(e,t,n??""))}function lE(e){return function(){this.textContent=e}}function cE(e){return function(){var t=e(this);this.textContent=t??""}}function uE(e){return this.tween("text",typeof e=="function"?cE(Km(this,"text",e)):lE(e==null?"":e+""))}function dE(e){return function(t){this.textContent=e.call(this,t)}}function hE(e){var t,n;function a(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&dE(r)),t}return a._value=e,a}function fE(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,hE(e))}function mE(){for(var e=this._name,t=this._id,n=T_(),a=this._groups,r=a.length,o=0;o<r;++o)for(var c=a[o],u=c.length,d,f=0;f<u;++f)if(d=c[f]){var m=Zn(d,t);Lu(d,e,n,f,c,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Da(a,this._parents,e,n)}function pE(){var e,t,n=this,a=n._id,r=n.size();return new Promise(function(o,c){var u={value:c},d={value:function(){--r===0&&o()}};n.each(function(){var f=oa(this,a),m=f.on;m!==e&&(t=(e=m).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(d)),f.on=t}),r===0&&o()})}var gE=0;function Da(e,t,n,a){this._groups=e,this._parents=t,this._name=n,this._id=a}function T_(){return++gE}var xa=Ko.prototype;Da.prototype={constructor:Da,select:K4,selectAll:Q4,selectChild:xa.selectChild,selectChildren:xa.selectChildren,filter:q4,merge:Z4,selection:J4,transition:mE,call:xa.call,nodes:xa.nodes,node:xa.node,size:xa.size,empty:xa.empty,each:xa.each,on:Y4,attr:A4,attrTween:P4,style:sE,styleTween:oE,text:uE,textTween:fE,remove:X4,tween:b4,delay:R4,duration:U4,ease:H4,easeVarying:F4,end:pE,[Symbol.iterator]:xa[Symbol.iterator]};function xE(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function iy(e){return Math.sqrt(1- --e*e)}var jf=4/11,yE=6/11,vE=8/11,bE=3/4,_E=9/11,wE=10/11,jE=15/16,NE=21/22,SE=63/64,Vl=1/jf/jf;function TE(e){return(e=+e)<jf?Vl*e*e:e<vE?Vl*(e-=yE)*e+bE:e<wE?Vl*(e-=_E)*e+jE:Vl*(e-=NE)*e+SE}var AE={time:null,delay:0,duration:250,ease:xE};function kE(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function CE(e){var t,n;e instanceof Da?(t=e._id,e=e._name):(t=T_(),(n=AE).time=Vm(),e=e==null?null:e+"");for(var a=this._groups,r=a.length,o=0;o<r;++o)for(var c=a[o],u=c.length,d,f=0;f<u;++f)(d=c[f])&&Lu(d,e,t,f,c,n||kE(d,t));return new Da(a,this._parents,e,t)}Ko.prototype.interrupt=x4;Ko.prototype.transition=CE;const Nf=Math.PI,Sf=2*Nf,As=1e-6,EE=Sf-As;function A_(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function ME(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return A_;const n=10**t;return function(a){this._+=a[0];for(let r=1,o=a.length;r<o;++r)this._+=Math.round(arguments[r]*n)/n+a[r]}}class PE{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?A_:ME(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,a,r){this._append`Q${+t},${+n},${this._x1=+a},${this._y1=+r}`}bezierCurveTo(t,n,a,r,o,c){this._append`C${+t},${+n},${+a},${+r},${this._x1=+o},${this._y1=+c}`}arcTo(t,n,a,r,o){if(t=+t,n=+n,a=+a,r=+r,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,u=this._y1,d=a-t,f=r-n,m=c-t,x=u-n,g=m*m+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>As)if(!(Math.abs(x*d-f*m)>As)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let y=a-c,j=r-u,S=d*d+f*f,T=y*y+j*j,b=Math.sqrt(S),_=Math.sqrt(g),N=o*Math.tan((Nf-Math.acos((S+g-T)/(2*b*_)))/2),C=N/_,E=N/b;Math.abs(C-1)>As&&this._append`L${t+C*m},${n+C*x}`,this._append`A${o},${o},0,0,${+(x*y>m*j)},${this._x1=t+E*d},${this._y1=n+E*f}`}}arc(t,n,a,r,o,c){if(t=+t,n=+n,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let u=a*Math.cos(r),d=a*Math.sin(r),f=t+u,m=n+d,x=1^c,g=c?r-o:o-r;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>As||Math.abs(this._y1-m)>As)&&this._append`L${f},${m}`,a&&(g<0&&(g=g%Sf+Sf),g>EE?this._append`A${a},${a},0,1,${x},${t-u},${n-d}A${a},${a},0,1,${x},${this._x1=f},${this._y1=m}`:g>As&&this._append`A${a},${a},0,${+(g>=Nf)},${x},${this._x1=t+a*Math.cos(o)},${this._y1=n+a*Math.sin(o)}`)}rect(t,n,a,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${a=+a}v${+r}h${-a}Z`}toString(){return this._}}function LE(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lu(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function Wi(e){return e=lu(Math.abs(e)),e?e[1]:NaN}function DE(e,t){return function(n,a){for(var r=n.length,o=[],c=0,u=e[0],d=0;r>0&&u>0&&(d+u+1>a&&(u=Math.max(1,a-d)),o.push(n.substring(r-=u,r+u)),!((d+=u+1)>a));)u=e[c=(c+1)%e.length];return o.reverse().join(t)}}function RE(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var zE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cu(e){if(!(t=zE.exec(e)))throw new Error("invalid format: "+e);var t;return new Qm({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}cu.prototype=Qm.prototype;function Qm(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qm.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OE(e){e:for(var t=e.length,n=1,a=-1,r;n<t;++n)switch(e[n]){case".":a=r=n;break;case"0":a===0&&(a=n),r=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(r+1):e}var k_;function UE(e,t){var n=lu(e,t);if(!n)return e+"";var a=n[0],r=n[1],o=r-(k_=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,c=a.length;return o===c?a:o>c?a+new Array(o-c+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+lu(e,Math.max(0,t+o-1))[0]}function ry(e,t){var n=lu(e,t);if(!n)return e+"";var a=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+a:a.length>r+1?a.slice(0,r+1)+"."+a.slice(r+1):a+new Array(r-a.length+2).join("0")}const oy={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:LE,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ry(e*100,t),r:ry,s:UE,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ly(e){return e}var cy=Array.prototype.map,uy=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function BE(e){var t=e.grouping===void 0||e.thousands===void 0?ly:DE(cy.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?ly:RE(cy.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(x){x=cu(x);var g=x.fill,y=x.align,j=x.sign,S=x.symbol,T=x.zero,b=x.width,_=x.comma,N=x.precision,C=x.trim,E=x.type;E==="n"?(_=!0,E="g"):oy[E]||(N===void 0&&(N=12),C=!0,E="g"),(T||g==="0"&&y==="=")&&(T=!0,g="0",y="=");var P=S==="$"?n:S==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",M=S==="$"?a:/[%p]/.test(E)?c:"",H=oy[E],J=/[defgprs%]/.test(E);N=N===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function $(K){var z=P,X=M,Y,ne,U;if(E==="c")X=H(K)+X,K="";else{K=+K;var V=K<0||1/K<0;if(K=isNaN(K)?d:H(Math.abs(K),N),C&&(K=OE(K)),V&&+K==0&&j!=="+"&&(V=!1),z=(V?j==="("?j:u:j==="-"||j==="("?"":j)+z,X=(E==="s"?uy[8+k_/3]:"")+X+(V&&j==="("?")":""),J){for(Y=-1,ne=K.length;++Y<ne;)if(U=K.charCodeAt(Y),48>U||U>57){X=(U===46?r+K.slice(Y+1):K.slice(Y))+X,K=K.slice(0,Y);break}}}_&&!T&&(K=t(K,1/0));var R=z.length+K.length+X.length,Z=R<b?new Array(b-R+1).join(g):"";switch(_&&T&&(K=t(Z+K,Z.length?b-X.length:1/0),Z=""),y){case"<":K=z+K+X+Z;break;case"=":K=z+Z+K+X;break;case"^":K=Z.slice(0,R=Z.length>>1)+z+K+X+Z.slice(R);break;default:K=Z+z+K+X;break}return o(K)}return $.toString=function(){return x+""},$}function m(x,g){var y=f((x=cu(x),x.type="f",x)),j=Math.max(-8,Math.min(8,Math.floor(Wi(g)/3)))*3,S=Math.pow(10,-j),T=uy[8+j/3];return function(b){return y(S*b)+T}}return{format:f,formatPrefix:m}}var Xl,C_,E_;HE({thousands:",",grouping:[3],currency:["$",""]});function HE(e){return Xl=BE(e),C_=Xl.format,E_=Xl.formatPrefix,Xl}function IE(e){return Math.max(0,-Wi(Math.abs(e)))}function FE(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wi(t)/3)))*3-Wi(Math.abs(e)))}function qE(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wi(t)-Wi(e))+1}function Wm(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const dy=Symbol("implicit");function M_(){var e=new Hx,t=[],n=[],a=dy;function r(o){let c=e.get(o);if(c===void 0){if(a!==dy)return a;e.set(o,c=t.push(o)-1)}return n[c%n.length]}return r.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Hx;for(const c of o)e.has(c)||e.set(c,t.push(c)-1);return r},r.range=function(o){return arguments.length?(n=Array.from(o),r):n.slice()},r.unknown=function(o){return arguments.length?(a=o,r):a},r.copy=function(){return M_(t,n).unknown(a)},Wm.apply(r,arguments),r}function P_(){var e=M_().unknown(void 0),t=e.domain,n=e.range,a=0,r=1,o,c,u=!1,d=0,f=0,m=.5;delete e.unknown;function x(){var g=t().length,y=r<a,j=y?r:a,S=y?a:r;o=(S-j)/Math.max(1,g-d+f*2),u&&(o=Math.floor(o)),j+=(S-j-o*(g-d))*m,c=o*(1-d),u&&(j=Math.round(j),c=Math.round(c));var T=YA(g).map(function(b){return j+o*b});return n(y?T.reverse():T)}return e.domain=function(g){return arguments.length?(t(g),x()):t()},e.range=function(g){return arguments.length?([a,r]=g,a=+a,r=+r,x()):[a,r]},e.rangeRound=function(g){return[a,r]=g,a=+a,r=+r,u=!0,x()},e.bandwidth=function(){return c},e.step=function(){return o},e.round=function(g){return arguments.length?(u=!!g,x()):u},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),x()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),x()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,x()):f},e.align=function(g){return arguments.length?(m=Math.max(0,Math.min(1,g)),x()):m},e.copy=function(){return P_(t(),[a,r]).round(u).paddingInner(d).paddingOuter(f).align(m)},Wm.apply(x(),arguments)}function ZE(e){return function(){return e}}function $E(e){return+e}var hy=[0,1];function Ai(e){return e}function Tf(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:ZE(isNaN(t)?NaN:.5)}function GE(e,t){var n;return e>t&&(n=e,e=t,t=n),function(a){return Math.max(e,Math.min(t,a))}}function YE(e,t,n){var a=e[0],r=e[1],o=t[0],c=t[1];return r<a?(a=Tf(r,a),o=n(c,o)):(a=Tf(a,r),o=n(o,c)),function(u){return o(a(u))}}function VE(e,t,n){var a=Math.min(e.length,t.length)-1,r=new Array(a),o=new Array(a),c=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<a;)r[c]=Tf(e[c],e[c+1]),o[c]=n(t[c],t[c+1]);return function(u){var d=zA(e,u,1,a)-1;return o[d](r[d](u))}}function XE(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function KE(){var e=hy,t=hy,n=Ym,a,r,o,c=Ai,u,d,f;function m(){var g=Math.min(e.length,t.length);return c!==Ai&&(c=GE(e[0],e[g-1])),u=g>2?VE:YE,d=f=null,x}function x(g){return g==null||isNaN(g=+g)?o:(d||(d=u(e.map(a),t,n)))(a(c(g)))}return x.invert=function(g){return c(r((f||(f=u(t,e.map(a),Un)))(g)))},x.domain=function(g){return arguments.length?(e=Array.from(g,$E),m()):e.slice()},x.range=function(g){return arguments.length?(t=Array.from(g),m()):t.slice()},x.rangeRound=function(g){return t=Array.from(g),n=s4,m()},x.clamp=function(g){return arguments.length?(c=g?!0:Ai,m()):c!==Ai},x.interpolate=function(g){return arguments.length?(n=g,m()):n},x.unknown=function(g){return arguments.length?(o=g,x):o},function(g,y){return a=g,r=y,m()}}function QE(){return KE()(Ai,Ai)}function WE(e,t,n,a){var r=$A(e,t,n),o;switch(a=cu(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(o=FE(r,c))&&(a.precision=o),E_(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(o=qE(r,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=o-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(o=IE(r))&&(a.precision=o-(a.type==="%")*2);break}}return C_(a)}function JE(e){var t=e.domain;return e.ticks=function(n){var a=t();return ZA(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var r=t();return WE(r[0],r[r.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=t(),r=0,o=a.length-1,c=a[r],u=a[o],d,f,m=10;for(u<c&&(f=c,c=u,u=f,f=r,r=o,o=f);m-- >0;){if(f=mf(c,u,n),f===d)return a[r]=c,a[o]=u,t(a);if(f>0)c=Math.floor(c/f)*f,u=Math.ceil(u/f)*f;else if(f<0)c=Math.ceil(c*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function Af(){var e=QE();return e.copy=function(){return XE(e,Af())},Wm.apply(e,arguments),JE(e)}function Tt(e){return function(){return e}}function L_(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);t=a}return e},()=>new PE(t)}function D_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function R_(e){this._context=e}R_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function z_(e){return new R_(e)}function O_(e){return e[0]}function U_(e){return e[1]}function B_(e,t){var n=Tt(!0),a=null,r=z_,o=null,c=L_(u);e=typeof e=="function"?e:e===void 0?O_:Tt(e),t=typeof t=="function"?t:t===void 0?U_:Tt(t);function u(d){var f,m=(d=D_(d)).length,x,g=!1,y;for(a==null&&(o=r(y=c())),f=0;f<=m;++f)!(f<m&&n(x=d[f],f,d))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+e(x,f,d),+t(x,f,d));if(y)return o=null,y+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Tt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Tt(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Tt(!!d),u):n},u.curve=function(d){return arguments.length?(r=d,a!=null&&(o=r(a)),u):r},u.context=function(d){return arguments.length?(d==null?a=o=null:o=r(a=d),u):a},u}function e3(e,t,n){var a=null,r=Tt(!0),o=null,c=z_,u=null,d=L_(f);e=typeof e=="function"?e:e===void 0?O_:Tt(+e),t=typeof t=="function"?t:Tt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?U_:Tt(+n);function f(x){var g,y,j,S=(x=D_(x)).length,T,b=!1,_,N=new Array(S),C=new Array(S);for(o==null&&(u=c(_=d())),g=0;g<=S;++g){if(!(g<S&&r(T=x[g],g,x))===b)if(b=!b)y=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=g-1;j>=y;--j)u.point(N[j],C[j]);u.lineEnd(),u.areaEnd()}b&&(N[g]=+e(T,g,x),C[g]=+t(T,g,x),u.point(a?+a(T,g,x):N[g],n?+n(T,g,x):C[g]))}if(_)return u=null,_+""||null}function m(){return B_().defined(r).curve(c).context(o)}return f.x=function(x){return arguments.length?(e=typeof x=="function"?x:Tt(+x),a=null,f):e},f.x0=function(x){return arguments.length?(e=typeof x=="function"?x:Tt(+x),f):e},f.x1=function(x){return arguments.length?(a=x==null?null:typeof x=="function"?x:Tt(+x),f):a},f.y=function(x){return arguments.length?(t=typeof x=="function"?x:Tt(+x),n=null,f):t},f.y0=function(x){return arguments.length?(t=typeof x=="function"?x:Tt(+x),f):t},f.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:Tt(+x),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(a).y(t)},f.defined=function(x){return arguments.length?(r=typeof x=="function"?x:Tt(!!x),f):r},f.curve=function(x){return arguments.length?(c=x,o!=null&&(u=c(o)),f):c},f.context=function(x){return arguments.length?(x==null?o=u=null:u=c(o=x),f):o},f}function fy(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function H_(e,t){this._context=e,this._k=(1-t)/6}H_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:fy(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:fy(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const my=function e(t){function n(a){return new H_(a,t)}return n.tension=function(a){return e(+a)},n}(0);function Kr(e,t,n){this.k=e,this.x=t,this.y=n}Kr.prototype={constructor:Kr,scale:function(e){return e===1?this:new Kr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Kr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Kr.prototype;const t3=()=>{const[e,t]=A.useState(null),[n,a]=A.useState(!1),[r,o]=A.useState(!0);return A.useEffect(()=>{(()=>{try{const m=localStorage.getItem("user"),x=localStorage.getItem("token");m&&x&&(t(JSON.parse(m)),a(!0))}catch(m){console.error("Auth check failed:",m),localStorage.removeItem("user"),localStorage.removeItem("token")}finally{o(!1)}})()},[]),{user:e,isAuthenticated:n,isLoading:r,login:(f,m)=>(localStorage.setItem("user",JSON.stringify(f)),localStorage.setItem("token",m),t(f),a(!0),{success:!0}),logout:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),t(null),a(!1)},updateUser:f=>{const m={...e,...f};localStorage.setItem("user",JSON.stringify(m)),t(m)}}};function I_(e,t){return function(){return e.apply(t,arguments)}}const{toString:n3}=Object.prototype,{getPrototypeOf:Jm}=Object,{iterator:Du,toStringTag:F_}=Symbol,Ru=(e=>t=>{const n=n3.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$n=e=>(e=e.toLowerCase(),t=>Ru(t)===e),zu=e=>t=>typeof t===e,{isArray:dr}=Array,Ji=zu("undefined");function Wo(e){return e!==null&&!Ji(e)&&e.constructor!==null&&!Ji(e.constructor)&&tn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const q_=$n("ArrayBuffer");function a3(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&q_(e.buffer),t}const s3=zu("string"),tn=zu("function"),Z_=zu("number"),Jo=e=>e!==null&&typeof e=="object",i3=e=>e===!0||e===!1,yc=e=>{if(Ru(e)!=="object")return!1;const t=Jm(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(F_ in e)&&!(Du in e)},r3=e=>{if(!Jo(e)||Wo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},o3=$n("Date"),l3=$n("File"),c3=$n("Blob"),u3=$n("FileList"),d3=e=>Jo(e)&&tn(e.pipe),h3=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||tn(e.append)&&((t=Ru(e))==="formdata"||t==="object"&&tn(e.toString)&&e.toString()==="[object FormData]"))},f3=$n("URLSearchParams"),[m3,p3,g3,x3]=["ReadableStream","Request","Response","Headers"].map($n),y3=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function el(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let a,r;if(typeof e!="object"&&(e=[e]),dr(e))for(a=0,r=e.length;a<r;a++)t.call(null,e[a],a,e);else{if(Wo(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),c=o.length;let u;for(a=0;a<c;a++)u=o[a],t.call(null,e[u],u,e)}}function $_(e,t){if(Wo(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a=n.length,r;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const Es=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,G_=e=>!Ji(e)&&e!==Es;function kf(){const{caseless:e,skipUndefined:t}=G_(this)&&this||{},n={},a=(r,o)=>{const c=e&&$_(n,o)||o;yc(n[c])&&yc(r)?n[c]=kf(n[c],r):yc(r)?n[c]=kf({},r):dr(r)?n[c]=r.slice():(!t||!Ji(r))&&(n[c]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&el(arguments[r],a);return n}const v3=(e,t,n,{allOwnKeys:a}={})=>(el(t,(r,o)=>{n&&tn(r)?e[o]=I_(r,n):e[o]=r},{allOwnKeys:a}),e),b3=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_3=(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},w3=(e,t,n,a)=>{let r,o,c;const u={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)c=r[o],(!a||a(c,e,t))&&!u[c]&&(t[c]=e[c],u[c]=!0);e=n!==!1&&Jm(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},j3=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return a!==-1&&a===n},N3=e=>{if(!e)return null;if(dr(e))return e;let t=e.length;if(!Z_(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},S3=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Jm(Uint8Array)),T3=(e,t)=>{const a=(e&&e[Du]).call(e);let r;for(;(r=a.next())&&!r.done;){const o=r.value;t.call(e,o[0],o[1])}},A3=(e,t)=>{let n;const a=[];for(;(n=e.exec(t))!==null;)a.push(n);return a},k3=$n("HTMLFormElement"),C3=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,r){return a.toUpperCase()+r}),py=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),E3=$n("RegExp"),Y_=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};el(n,(r,o)=>{let c;(c=t(r,o,e))!==!1&&(a[o]=c||r)}),Object.defineProperties(e,a)},M3=e=>{Y_(e,(t,n)=>{if(tn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=e[n];if(tn(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},P3=(e,t)=>{const n={},a=r=>{r.forEach(o=>{n[o]=!0})};return dr(e)?a(e):a(String(e).split(t)),n},L3=()=>{},D3=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function R3(e){return!!(e&&tn(e.append)&&e[F_]==="FormData"&&e[Du])}const z3=e=>{const t=new Array(10),n=(a,r)=>{if(Jo(a)){if(t.indexOf(a)>=0)return;if(Wo(a))return a;if(!("toJSON"in a)){t[r]=a;const o=dr(a)?[]:{};return el(a,(c,u)=>{const d=n(c,r+1);!Ji(d)&&(o[u]=d)}),t[r]=void 0,o}}return a};return n(e,0)},O3=$n("AsyncFunction"),U3=e=>e&&(Jo(e)||tn(e))&&tn(e.then)&&tn(e.catch),V_=((e,t)=>e?setImmediate:t?((n,a)=>(Es.addEventListener("message",({source:r,data:o})=>{r===Es&&o===n&&a.length&&a.shift()()},!1),r=>{a.push(r),Es.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",tn(Es.postMessage)),B3=typeof queueMicrotask<"u"?queueMicrotask.bind(Es):typeof process<"u"&&process.nextTick||V_,H3=e=>e!=null&&tn(e[Du]),q={isArray:dr,isArrayBuffer:q_,isBuffer:Wo,isFormData:h3,isArrayBufferView:a3,isString:s3,isNumber:Z_,isBoolean:i3,isObject:Jo,isPlainObject:yc,isEmptyObject:r3,isReadableStream:m3,isRequest:p3,isResponse:g3,isHeaders:x3,isUndefined:Ji,isDate:o3,isFile:l3,isBlob:c3,isRegExp:E3,isFunction:tn,isStream:d3,isURLSearchParams:f3,isTypedArray:S3,isFileList:u3,forEach:el,merge:kf,extend:v3,trim:y3,stripBOM:b3,inherits:_3,toFlatObject:w3,kindOf:Ru,kindOfTest:$n,endsWith:j3,toArray:N3,forEachEntry:T3,matchAll:A3,isHTMLForm:k3,hasOwnProperty:py,hasOwnProp:py,reduceDescriptors:Y_,freezeMethods:M3,toObjectSet:P3,toCamelCase:C3,noop:L3,toFiniteNumber:D3,findKey:$_,global:Es,isContextDefined:G_,isSpecCompliantForm:R3,toJSONObject:z3,isAsyncFn:O3,isThenable:U3,setImmediate:V_,asap:B3,isIterable:H3};function ge(e,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}q.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const X_=ge.prototype,K_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{K_[e]={value:e}});Object.defineProperties(ge,K_);Object.defineProperty(X_,"isAxiosError",{value:!0});ge.from=(e,t,n,a,r,o)=>{const c=Object.create(X_);q.toFlatObject(e,c,function(m){return m!==Error.prototype},f=>f!=="isAxiosError");const u=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return ge.call(c,u,d,n,a,r),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",o&&Object.assign(c,o),c};const I3=null;function Cf(e){return q.isPlainObject(e)||q.isArray(e)}function Q_(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function gy(e,t,n){return e?e.concat(t).map(function(r,o){return r=Q_(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}function F3(e){return q.isArray(e)&&!e.some(Cf)}const q3=q.toFlatObject(q,{},null,function(t){return/^is[A-Z]/.test(t)});function Ou(e,t,n){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,T){return!q.isUndefined(T[S])});const a=n.metaTokens,r=n.visitor||m,o=n.dots,c=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(r))throw new TypeError("visitor must be a function");function f(j){if(j===null)return"";if(q.isDate(j))return j.toISOString();if(q.isBoolean(j))return j.toString();if(!d&&q.isBlob(j))throw new ge("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(j)||q.isTypedArray(j)?d&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function m(j,S,T){let b=j;if(j&&!T&&typeof j=="object"){if(q.endsWith(S,"{}"))S=a?S:S.slice(0,-2),j=JSON.stringify(j);else if(q.isArray(j)&&F3(j)||(q.isFileList(j)||q.endsWith(S,"[]"))&&(b=q.toArray(j)))return S=Q_(S),b.forEach(function(N,C){!(q.isUndefined(N)||N===null)&&t.append(c===!0?gy([S],C,o):c===null?S:S+"[]",f(N))}),!1}return Cf(j)?!0:(t.append(gy(T,S,o),f(j)),!1)}const x=[],g=Object.assign(q3,{defaultVisitor:m,convertValue:f,isVisitable:Cf});function y(j,S){if(!q.isUndefined(j)){if(x.indexOf(j)!==-1)throw Error("Circular reference detected in "+S.join("."));x.push(j),q.forEach(j,function(b,_){(!(q.isUndefined(b)||b===null)&&r.call(t,b,q.isString(_)?_.trim():_,S,g))===!0&&y(b,S?S.concat(_):[_])}),x.pop()}}if(!q.isObject(e))throw new TypeError("data must be an object");return y(e),t}function xy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function ep(e,t){this._pairs=[],e&&Ou(e,this,t)}const W_=ep.prototype;W_.append=function(t,n){this._pairs.push([t,n])};W_.toString=function(t){const n=t?function(a){return t.call(this,a,xy)}:xy;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Z3(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function J_(e,t,n){if(!t)return e;const a=n&&n.encode||Z3;q.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(r?o=r(t,n):o=q.isURLSearchParams(t)?t.toString():new ep(t,n).toString(a),o){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class yy{constructor(){this.handlers=[]}use(t,n,a){return this.handlers.push({fulfilled:t,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){q.forEach(this.handlers,function(a){a!==null&&t(a)})}}const e1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$3=typeof URLSearchParams<"u"?URLSearchParams:ep,G3=typeof FormData<"u"?FormData:null,Y3=typeof Blob<"u"?Blob:null,V3={isBrowser:!0,classes:{URLSearchParams:$3,FormData:G3,Blob:Y3},protocols:["http","https","file","blob","url","data"]},tp=typeof window<"u"&&typeof document<"u",Ef=typeof navigator=="object"&&navigator||void 0,X3=tp&&(!Ef||["ReactNative","NativeScript","NS"].indexOf(Ef.product)<0),K3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Q3=tp&&window.location.href||"http://localhost",W3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tp,hasStandardBrowserEnv:X3,hasStandardBrowserWebWorkerEnv:K3,navigator:Ef,origin:Q3},Symbol.toStringTag,{value:"Module"})),Ot={...W3,...V3};function J3(e,t){return Ou(e,new Ot.classes.URLSearchParams,{visitor:function(n,a,r,o){return Ot.isNode&&q.isBuffer(n)?(this.append(a,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function eM(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function tM(e){const t={},n=Object.keys(e);let a;const r=n.length;let o;for(a=0;a<r;a++)o=n[a],t[o]=e[o];return t}function t1(e){function t(n,a,r,o){let c=n[o++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),d=o>=n.length;return c=!c&&q.isArray(r)?r.length:c,d?(q.hasOwnProp(r,c)?r[c]=[r[c],a]:r[c]=a,!u):((!r[c]||!q.isObject(r[c]))&&(r[c]=[]),t(n,a,r[c],o)&&q.isArray(r[c])&&(r[c]=tM(r[c])),!u)}if(q.isFormData(e)&&q.isFunction(e.entries)){const n={};return q.forEachEntry(e,(a,r)=>{t(eM(a),r,n,0)}),n}return null}function nM(e,t,n){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(e)}const tl={transitional:e1,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const a=n.getContentType()||"",r=a.indexOf("application/json")>-1,o=q.isObject(t);if(o&&q.isHTMLForm(t)&&(t=new FormData(t)),q.isFormData(t))return r?JSON.stringify(t1(t)):t;if(q.isArrayBuffer(t)||q.isBuffer(t)||q.isStream(t)||q.isFile(t)||q.isBlob(t)||q.isReadableStream(t))return t;if(q.isArrayBufferView(t))return t.buffer;if(q.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return J3(t,this.formSerializer).toString();if((u=q.isFileList(t))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ou(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),nM(t)):t}],transformResponse:[function(t){const n=this.transitional||tl.transitional,a=n&&n.forcedJSONParsing,r=this.responseType==="json";if(q.isResponse(t)||q.isReadableStream(t))return t;if(t&&q.isString(t)&&(a&&!this.responseType||r)){const c=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?ge.from(u,ge.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],e=>{tl.headers[e]={}});const aM=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sM=e=>{const t={};let n,a,r;return e&&e.split(`
`).forEach(function(c){r=c.indexOf(":"),n=c.substring(0,r).trim().toLowerCase(),a=c.substring(r+1).trim(),!(!n||t[n]&&aM[n])&&(n==="set-cookie"?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t},vy=Symbol("internals");function Hr(e){return e&&String(e).trim().toLowerCase()}function vc(e){return e===!1||e==null?e:q.isArray(e)?e.map(vc):String(e)}function iM(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}const rM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function nh(e,t,n,a,r){if(q.isFunction(a))return a.call(this,t,n);if(r&&(t=n),!!q.isString(t)){if(q.isString(a))return t.indexOf(a)!==-1;if(q.isRegExp(a))return a.test(t)}}function oM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,a)=>n.toUpperCase()+a)}function lM(e,t){const n=q.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(r,o,c){return this[a].call(this,t,r,o,c)},configurable:!0})})}let nn=class{constructor(t){t&&this.set(t)}set(t,n,a){const r=this;function o(u,d,f){const m=Hr(d);if(!m)throw new Error("header name must be a non-empty string");const x=q.findKey(r,m);(!x||r[x]===void 0||f===!0||f===void 0&&r[x]!==!1)&&(r[x||d]=vc(u))}const c=(u,d)=>q.forEach(u,(f,m)=>o(f,m,d));if(q.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(q.isString(t)&&(t=t.trim())&&!rM(t))c(sM(t),n);else if(q.isObject(t)&&q.isIterable(t)){let u={},d,f;for(const m of t){if(!q.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[f=m[0]]=(d=u[f])?q.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}c(u,n)}else t!=null&&o(n,t,a);return this}get(t,n){if(t=Hr(t),t){const a=q.findKey(this,t);if(a){const r=this[a];if(!n)return r;if(n===!0)return iM(r);if(q.isFunction(n))return n.call(this,r,a);if(q.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Hr(t),t){const a=q.findKey(this,t);return!!(a&&this[a]!==void 0&&(!n||nh(this,this[a],a,n)))}return!1}delete(t,n){const a=this;let r=!1;function o(c){if(c=Hr(c),c){const u=q.findKey(a,c);u&&(!n||nh(a,a[u],u,n))&&(delete a[u],r=!0)}}return q.isArray(t)?t.forEach(o):o(t),r}clear(t){const n=Object.keys(this);let a=n.length,r=!1;for(;a--;){const o=n[a];(!t||nh(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const n=this,a={};return q.forEach(this,(r,o)=>{const c=q.findKey(a,o);if(c){n[c]=vc(r),delete n[o];return}const u=t?oM(o):String(o).trim();u!==o&&delete n[o],n[u]=vc(r),a[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return q.forEach(this,(a,r)=>{a!=null&&a!==!1&&(n[r]=t&&q.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const a=new this(t);return n.forEach(r=>a.set(r)),a}static accessor(t){const a=(this[vy]=this[vy]={accessors:{}}).accessors,r=this.prototype;function o(c){const u=Hr(c);a[u]||(lM(r,c),a[u]=!0)}return q.isArray(t)?t.forEach(o):o(t),this}};nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(nn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[n]=a}}});q.freezeMethods(nn);function ah(e,t){const n=this||tl,a=t||n,r=nn.from(a.headers);let o=a.data;return q.forEach(e,function(u){o=u.call(n,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function n1(e){return!!(e&&e.__CANCEL__)}function hr(e,t,n){ge.call(this,e??"canceled",ge.ERR_CANCELED,t,n),this.name="CanceledError"}q.inherits(hr,ge,{__CANCEL__:!0});function a1(e,t,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):t(new ge("Request failed with status code "+n.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function cM(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function uM(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r=0,o=0,c;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),m=a[o];c||(c=f),n[r]=d,a[r]=f;let x=o,g=0;for(;x!==r;)g+=n[x++],x=x%e;if(r=(r+1)%e,r===o&&(o=(o+1)%e),f-c<t)return;const y=m&&f-m;return y?Math.round(g*1e3/y):void 0}}function dM(e,t){let n=0,a=1e3/t,r,o;const c=(f,m=Date.now())=>{n=m,r=null,o&&(clearTimeout(o),o=null),e(...f)};return[(...f)=>{const m=Date.now(),x=m-n;x>=a?c(f,m):(r=f,o||(o=setTimeout(()=>{o=null,c(r)},a-x)))},()=>r&&c(r)]}const uu=(e,t,n=3)=>{let a=0;const r=uM(50,250);return dM(o=>{const c=o.loaded,u=o.lengthComputable?o.total:void 0,d=c-a,f=r(d),m=c<=u;a=c;const x={loaded:c,total:u,progress:u?c/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&m?(u-c)/f:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(x)},n)},by=(e,t)=>{const n=e!=null;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},_y=e=>(...t)=>q.asap(()=>e(...t)),hM=Ot.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ot.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ot.origin),Ot.navigator&&/(msie|trident)/i.test(Ot.navigator.userAgent)):()=>!0,fM=Ot.hasStandardBrowserEnv?{write(e,t,n,a,r,o){const c=[e+"="+encodeURIComponent(t)];q.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),q.isString(a)&&c.push("path="+a),q.isString(r)&&c.push("domain="+r),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function mM(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function pM(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function s1(e,t,n){let a=!mM(t);return e&&(a||n==!1)?pM(e,t):t}const wy=e=>e instanceof nn?{...e}:e;function Ys(e,t){t=t||{};const n={};function a(f,m,x,g){return q.isPlainObject(f)&&q.isPlainObject(m)?q.merge.call({caseless:g},f,m):q.isPlainObject(m)?q.merge({},m):q.isArray(m)?m.slice():m}function r(f,m,x,g){if(q.isUndefined(m)){if(!q.isUndefined(f))return a(void 0,f,x,g)}else return a(f,m,x,g)}function o(f,m){if(!q.isUndefined(m))return a(void 0,m)}function c(f,m){if(q.isUndefined(m)){if(!q.isUndefined(f))return a(void 0,f)}else return a(void 0,m)}function u(f,m,x){if(x in t)return a(f,m);if(x in e)return a(void 0,f)}const d={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(f,m,x)=>r(wy(f),wy(m),x,!0)};return q.forEach(Object.keys({...e,...t}),function(m){const x=d[m]||r,g=x(e[m],t[m],m);q.isUndefined(g)&&x!==u||(n[m]=g)}),n}const i1=e=>{const t=Ys({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:o,headers:c,auth:u}=t;if(t.headers=c=nn.from(c),t.url=J_(s1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),q.isFormData(n)){if(Ot.hasStandardBrowserEnv||Ot.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(q.isFunction(n.getHeaders)){const d=n.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([m,x])=>{f.includes(m.toLowerCase())&&c.set(m,x)})}}if(Ot.hasStandardBrowserEnv&&(a&&q.isFunction(a)&&(a=a(t)),a||a!==!1&&hM(t.url))){const d=r&&o&&fM.read(o);d&&c.set(r,d)}return t},gM=typeof XMLHttpRequest<"u",xM=gM&&function(e){return new Promise(function(n,a){const r=i1(e);let o=r.data;const c=nn.from(r.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=r,m,x,g,y,j;function S(){y&&y(),j&&j(),r.cancelToken&&r.cancelToken.unsubscribe(m),r.signal&&r.signal.removeEventListener("abort",m)}let T=new XMLHttpRequest;T.open(r.method.toUpperCase(),r.url,!0),T.timeout=r.timeout;function b(){if(!T)return;const N=nn.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),E={data:!u||u==="text"||u==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:N,config:e,request:T};a1(function(M){n(M),S()},function(M){a(M),S()},E),T=null}"onloadend"in T?T.onloadend=b:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(b)},T.onabort=function(){T&&(a(new ge("Request aborted",ge.ECONNABORTED,e,T)),T=null)},T.onerror=function(C){const E=C&&C.message?C.message:"Network Error",P=new ge(E,ge.ERR_NETWORK,e,T);P.event=C||null,a(P),T=null},T.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const E=r.transitional||e1;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),a(new ge(C,E.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,e,T)),T=null},o===void 0&&c.setContentType(null),"setRequestHeader"in T&&q.forEach(c.toJSON(),function(C,E){T.setRequestHeader(E,C)}),q.isUndefined(r.withCredentials)||(T.withCredentials=!!r.withCredentials),u&&u!=="json"&&(T.responseType=r.responseType),f&&([g,j]=uu(f,!0),T.addEventListener("progress",g)),d&&T.upload&&([x,y]=uu(d),T.upload.addEventListener("progress",x),T.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(m=N=>{T&&(a(!N||N.type?new hr(null,e,T):N),T.abort(),T=null)},r.cancelToken&&r.cancelToken.subscribe(m),r.signal&&(r.signal.aborted?m():r.signal.addEventListener("abort",m)));const _=cM(r.url);if(_&&Ot.protocols.indexOf(_)===-1){a(new ge("Unsupported protocol "+_+":",ge.ERR_BAD_REQUEST,e));return}T.send(o||null)})},yM=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let a=new AbortController,r;const o=function(f){if(!r){r=!0,u();const m=f instanceof Error?f:this.reason;a.abort(m instanceof ge?m:new hr(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,o(new ge(`timeout ${t} of ms exceeded`,ge.ETIMEDOUT))},t);const u=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),e=null)};e.forEach(f=>f.addEventListener("abort",o));const{signal:d}=a;return d.unsubscribe=()=>q.asap(u),d}},vM=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let a=0,r;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},bM=async function*(e,t){for await(const n of _M(e))yield*vM(n,t)},_M=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:a}=await t.read();if(n)break;yield a}}finally{await t.cancel()}},jy=(e,t,n,a)=>{const r=bM(e,t);let o=0,c,u=d=>{c||(c=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:f,value:m}=await r.next();if(f){u(),d.close();return}let x=m.byteLength;if(n){let g=o+=x;n(g)}d.enqueue(new Uint8Array(m))}catch(f){throw u(f),f}},cancel(d){return u(d),r.return()}},{highWaterMark:2})},Ny=64*1024,{isFunction:Kl}=q,wM=(({Request:e,Response:t})=>({Request:e,Response:t}))(q.global),{ReadableStream:Sy,TextEncoder:Ty}=q.global,Ay=(e,...t)=>{try{return!!e(...t)}catch{return!1}},jM=e=>{e=q.merge.call({skipUndefined:!0},wM,e);const{fetch:t,Request:n,Response:a}=e,r=t?Kl(t):typeof fetch=="function",o=Kl(n),c=Kl(a);if(!r)return!1;const u=r&&Kl(Sy),d=r&&(typeof Ty=="function"?(j=>S=>j.encode(S))(new Ty):async j=>new Uint8Array(await new n(j).arrayBuffer())),f=o&&u&&Ay(()=>{let j=!1;const S=new n(Ot.origin,{body:new Sy,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!S}),m=c&&u&&Ay(()=>q.isReadableStream(new a("").body)),x={stream:m&&(j=>j.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!x[j]&&(x[j]=(S,T)=>{let b=S&&S[j];if(b)return b.call(S);throw new ge(`Response type '${j}' is not supported`,ge.ERR_NOT_SUPPORT,T)})});const g=async j=>{if(j==null)return 0;if(q.isBlob(j))return j.size;if(q.isSpecCompliantForm(j))return(await new n(Ot.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(q.isArrayBufferView(j)||q.isArrayBuffer(j))return j.byteLength;if(q.isURLSearchParams(j)&&(j=j+""),q.isString(j))return(await d(j)).byteLength},y=async(j,S)=>{const T=q.toFiniteNumber(j.getContentLength());return T??g(S)};return async j=>{let{url:S,method:T,data:b,signal:_,cancelToken:N,timeout:C,onDownloadProgress:E,onUploadProgress:P,responseType:M,headers:H,withCredentials:J="same-origin",fetchOptions:$}=i1(j),K=t||fetch;M=M?(M+"").toLowerCase():"text";let z=yM([_,N&&N.toAbortSignal()],C),X=null;const Y=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let ne;try{if(P&&f&&T!=="get"&&T!=="head"&&(ne=await y(H,b))!==0){let ee=new n(S,{method:"POST",body:b,duplex:"half"}),Q;if(q.isFormData(b)&&(Q=ee.headers.get("content-type"))&&H.setContentType(Q),ee.body){const[ae,oe]=by(ne,uu(_y(P)));b=jy(ee.body,Ny,ae,oe)}}q.isString(J)||(J=J?"include":"omit");const U=o&&"credentials"in n.prototype,V={...$,signal:z,method:T.toUpperCase(),headers:H.normalize().toJSON(),body:b,duplex:"half",credentials:U?J:void 0};X=o&&new n(S,V);let R=await(o?K(X,$):K(S,V));const Z=m&&(M==="stream"||M==="response");if(m&&(E||Z&&Y)){const ee={};["status","statusText","headers"].forEach(ce=>{ee[ce]=R[ce]});const Q=q.toFiniteNumber(R.headers.get("content-length")),[ae,oe]=E&&by(Q,uu(_y(E),!0))||[];R=new a(jy(R.body,Ny,ae,()=>{oe&&oe(),Y&&Y()}),ee)}M=M||"text";let I=await x[q.findKey(x,M)||"text"](R,j);return!Z&&Y&&Y(),await new Promise((ee,Q)=>{a1(ee,Q,{data:I,headers:nn.from(R.headers),status:R.status,statusText:R.statusText,config:j,request:X})})}catch(U){throw Y&&Y(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new ge("Network Error",ge.ERR_NETWORK,j,X),{cause:U.cause||U}):ge.from(U,U&&U.code,j,X)}}},NM=new Map,r1=e=>{let t=e?e.env:{};const{fetch:n,Request:a,Response:r}=t,o=[a,r,n];let c=o.length,u=c,d,f,m=NM;for(;u--;)d=o[u],f=m.get(d),f===void 0&&m.set(d,f=u?new Map:jM(t)),m=f;return f};r1();const Mf={http:I3,xhr:xM,fetch:{get:r1}};q.forEach(Mf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ky=e=>`- ${e}`,SM=e=>q.isFunction(e)||e===null||e===!1,o1={getAdapter:(e,t)=>{e=q.isArray(e)?e:[e];const{length:n}=e;let a,r;const o={};for(let c=0;c<n;c++){a=e[c];let u;if(r=a,!SM(a)&&(r=Mf[(u=String(a)).toLowerCase()],r===void 0))throw new ge(`Unknown adapter '${u}'`);if(r&&(q.isFunction(r)||(r=r.get(t))))break;o[u||"#"+c]=r}if(!r){const c=Object.entries(o).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=n?c.length>1?`since :
`+c.map(ky).join(`
`):" "+ky(c[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:Mf};function sh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new hr(null,e)}function Cy(e){return sh(e),e.headers=nn.from(e.headers),e.data=ah.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),o1.getAdapter(e.adapter||tl.adapter,e)(e).then(function(a){return sh(e),a.data=ah.call(e,e.transformResponse,a),a.headers=nn.from(a.headers),a},function(a){return n1(a)||(sh(e),a&&a.response&&(a.response.data=ah.call(e,e.transformResponse,a.response),a.response.headers=nn.from(a.response.headers))),Promise.reject(a)})}const l1="1.12.2",Uu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Uu[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const Ey={};Uu.transitional=function(t,n,a){function r(o,c){return"[Axios v"+l1+"] Transitional option '"+o+"'"+c+(a?". "+a:"")}return(o,c,u)=>{if(t===!1)throw new ge(r(c," has been removed"+(n?" in "+n:"")),ge.ERR_DEPRECATED);return n&&!Ey[c]&&(Ey[c]=!0,console.warn(r(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,c,u):!0}};Uu.spelling=function(t){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function TM(e,t,n){if(typeof e!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const o=a[r],c=t[o];if(c){const u=e[o],d=u===void 0||c(u,o,e);if(d!==!0)throw new ge("option "+o+" must be "+d,ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ge("Unknown option "+o,ge.ERR_BAD_OPTION)}}const bc={assertOptions:TM,validators:Uu},Qn=bc.validators;let Bs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new yy,response:new yy}}async request(t,n){try{return await this._request(t,n)}catch(a){if(a instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ys(this.defaults,n);const{transitional:a,paramsSerializer:r,headers:o}=n;a!==void 0&&bc.assertOptions(a,{silentJSONParsing:Qn.transitional(Qn.boolean),forcedJSONParsing:Qn.transitional(Qn.boolean),clarifyTimeoutError:Qn.transitional(Qn.boolean)},!1),r!=null&&(q.isFunction(r)?n.paramsSerializer={serialize:r}:bc.assertOptions(r,{encode:Qn.function,serialize:Qn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),bc.assertOptions(n,{baseUrl:Qn.spelling("baseURL"),withXsrfToken:Qn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=o&&q.merge(o.common,o[n.method]);o&&q.forEach(["delete","get","head","post","put","patch","common"],j=>{delete o[j]}),n.headers=nn.concat(c,o);const u=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(d=d&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const f=[];this.interceptors.response.forEach(function(S){f.push(S.fulfilled,S.rejected)});let m,x=0,g;if(!d){const j=[Cy.bind(this),void 0];for(j.unshift(...u),j.push(...f),g=j.length,m=Promise.resolve(n);x<g;)m=m.then(j[x++],j[x++]);return m}g=u.length;let y=n;for(;x<g;){const j=u[x++],S=u[x++];try{y=j(y)}catch(T){S.call(this,T);break}}try{m=Cy.call(this,y)}catch(j){return Promise.reject(j)}for(x=0,g=f.length;x<g;)m=m.then(f[x++],f[x++]);return m}getUri(t){t=Ys(this.defaults,t);const n=s1(t.baseURL,t.url,t.allowAbsoluteUrls);return J_(n,t.params,t.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(t){Bs.prototype[t]=function(n,a){return this.request(Ys(a||{},{method:t,url:n,data:(a||{}).data}))}});q.forEach(["post","put","patch"],function(t){function n(a){return function(o,c,u){return this.request(Ys(u||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}Bs.prototype[t]=n(),Bs.prototype[t+"Form"]=n(!0)});let AM=class c1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const a=this;this.promise.then(r=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](r);a._listeners=null}),this.promise.then=r=>{let o;const c=new Promise(u=>{a.subscribe(u),o=u}).then(r);return c.cancel=function(){a.unsubscribe(o)},c},t(function(o,c,u){a.reason||(a.reason=new hr(o,c,u),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=a=>{t.abort(a)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new c1(function(r){t=r}),cancel:t}}};function kM(e){return function(n){return e.apply(null,n)}}function CM(e){return q.isObject(e)&&e.isAxiosError===!0}const Pf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pf).forEach(([e,t])=>{Pf[t]=e});function u1(e){const t=new Bs(e),n=I_(Bs.prototype.request,t);return q.extend(n,Bs.prototype,t,{allOwnKeys:!0}),q.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return u1(Ys(e,r))},n}const ht=u1(tl);ht.Axios=Bs;ht.CanceledError=hr;ht.CancelToken=AM;ht.isCancel=n1;ht.VERSION=l1;ht.toFormData=Ou;ht.AxiosError=ge;ht.Cancel=ht.CanceledError;ht.all=function(t){return Promise.all(t)};ht.spread=kM;ht.isAxiosError=CM;ht.mergeConfig=Ys;ht.AxiosHeaders=nn;ht.formToJSON=e=>t1(q.isHTMLForm(e)?new FormData(e):e);ht.getAdapter=o1.getAdapter;ht.HttpStatusCode=Pf;ht.default=ht;const{Axios:lL,AxiosError:cL,CanceledError:uL,isCancel:dL,CancelToken:hL,VERSION:fL,all:mL,Cancel:pL,isAxiosError:gL,spread:xL,toFormData:yL,AxiosHeaders:vL,HttpStatusCode:bL,formToJSON:_L,getAdapter:wL,mergeConfig:jL}=ht;var EM={};const je=ht.create({baseURL:EM.REACT_APP_API_URL||"https://upaj-flask-backend-liart.vercel.app/api",timeout:1e4,headers:{"Content-Type":"application/json"}});je.interceptors.request.use(e=>{var n;const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.data instanceof FormData&&delete e.headers["Content-Type"],console.log(" API Request Starting..."),console.log(" Method:",(n=e.method)==null?void 0:n.toUpperCase()),console.log(" URL:",e.url),console.log(" Base URL:",e.baseURL),console.log(" Full URL:",e.baseURL+e.url),console.log(" Headers:",e.headers),console.log(" Data:",e.data),console.log(" Is FormData:",e.data instanceof FormData),console.log(" Has Auth Token:",!!t),e},e=>(console.error(" Request interceptor error:",e),Promise.reject(e)));je.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),!window.location.pathname.includes("/login")&&!window.location.pathname.includes("/signup")&&(window.location.href="/login")),Promise.reject(e)});const er={signup:async e=>{var t,n,a,r;try{console.log(" Starting signup..."),console.log(" Signup data:",e);const o=await je.post("/auth/signup",e);return console.log(" Signup response:",o),console.log(" Signup response data:",o.data),console.log(" Signup response status:",o.status),{success:!0,data:o.data}}catch(o){return console.error(" Signup error:",o),console.error(" Error response:",o.response),console.error(" Error status:",(t=o.response)==null?void 0:t.status),console.error(" Error data:",(n=o.response)==null?void 0:n.data),{success:!1,error:((r=(a=o.response)==null?void 0:a.data)==null?void 0:r.message)||o.message||"Signup failed"}}},verifyOTP:async(e,t,n)=>{var a,r,o,c,u;try{console.log(" Starting OTP verification..."),console.log(" Email:",e),console.log(" OTP:",t),console.log(" User ID:",n);const d={userId:n,otp:t};console.log(" Sending request data:",d);const f=await je.post("/auth/verify-otp",d);console.log(" Raw response:",f),console.log(" Response status:",f.status),console.log(" Response data:",f.data);const m=f.data||{},x=m.user||m.data||m,g=m.token||((a=m.data)==null?void 0:a.token)||m.authToken||m.accessToken||null;return console.log(" Parsed user:",x),console.log(" Parsed token:",g?"Present":"Not found"),{success:!0,data:{user:x,token:g}}}catch(d){return console.error(" OTP verification error:",d),console.error(" Error response:",d.response),console.error(" Error status:",(r=d.response)==null?void 0:r.status),console.error(" Error data:",(o=d.response)==null?void 0:o.data),console.error(" Error message:",d.message),{success:!1,error:((u=(c=d.response)==null?void 0:c.data)==null?void 0:u.message)||d.message||"OTP verification failed"}}},resendOTP:async(e,t)=>{var n,a;try{return console.log("Resending OTP for user:",t),{success:!0,data:(await je.post("/auth/resend-otp",{userId:t})).data}}catch(r){return console.error("Resend OTP error:",r),{success:!1,error:((a=(n=r.response)==null?void 0:n.data)==null?void 0:a.message)||r.message||"Failed to resend OTP"}}},login:async(e,t)=>{var n,a,r,o,c,u,d,f,m,x,g;try{const y=await je.post("/auth/login",{email:e,password:t}),j=y.data||{},S=j.user||((n=j.data)==null?void 0:n.user)||j,T=j.token||((a=j.data)==null?void 0:a.token)||j.authToken||j.accessToken,b=((r=y.headers)==null?void 0:r.authorization)||((o=y.headers)==null?void 0:o.Authorization)||((c=y.headers)==null?void 0:c["x-auth-token"]),_=T||(b?b.replace(/^Bearer\s+/i,""):null);return{success:!0,data:{user:S,token:_}}}catch(y){console.error(" Login error:",y),console.error(" Error response:",y.response),console.error(" Error status:",(u=y.response)==null?void 0:u.status),console.error(" Error data:",(d=y.response)==null?void 0:d.data);const j=((m=(f=y.response)==null?void 0:f.data)==null?void 0:m.message)||y.message||"Login failed";let S=null;if((x=y.response)!=null&&x.data){const T=y.response.data;S=T.user||((g=T.data)==null?void 0:g.user)||T,console.log(" Extracted user data from error response:",S)}return{success:!1,error:j,data:S?{user:S}:void 0}}},getProfile:async()=>{var e,t;try{return{success:!0,data:(await je.get("/auth/profile")).data}}catch(n){return console.error("Get profile error:",n),{success:!1,error:((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||n.message||"Failed to get profile"}}},forgotPassword:async e=>{var t,n;try{return{success:!0,data:(await je.post("/auth/forgot-password",{email:e})).data}}catch(a){return console.error("Forgot password error:",a),{success:!1,error:((n=(t=a.response)==null?void 0:t.data)==null?void 0:n.message)||a.message||"Failed to send reset email"}}},resetPassword:async(e,t)=>{var n,a,r,o;try{console.log(" Starting password reset..."),console.log(" Reset token:",e),console.log(" New password length:",t==null?void 0:t.length);const c=await je.post("/auth/reset-password",{token:e,newPassword:t});return console.log(" Reset password response:",c),console.log(" Reset password response data:",c.data),console.log(" Reset password response status:",c.status),{success:!0,data:c.data}}catch(c){return console.error(" Reset password error:",c),console.error(" Error response:",c.response),console.error(" Error status:",(n=c.response)==null?void 0:n.status),console.error(" Error data:",(a=c.response)==null?void 0:a.data),{success:!1,error:((o=(r=c.response)==null?void 0:r.data)==null?void 0:o.message)||c.message||"Password reset failed"}}}},sa={createPrediction:async e=>{var t,n,a,r;try{console.log(" Starting crop prediction..."),console.log(" Prediction data:",e);const o=await je.post("/predict",e);console.log(" Prediction response:",o),console.log(" Prediction response data:",o.data),console.log(" Prediction response status:",o.status);const c=o.data;return c&&c.status&&(c.diseaseName=c.status,console.log(" Disease name extracted from status:",c.diseaseName)),{success:!0,data:c}}catch(o){return console.error(" Prediction error:",o),console.error(" Error response:",o.response),console.error(" Error status:",(t=o.response)==null?void 0:t.status),console.error(" Error data:",(n=o.response)==null?void 0:n.data),{success:!1,error:((r=(a=o.response)==null?void 0:a.data)==null?void 0:r.message)||o.message||"Prediction failed"}}},getUserPredictions:async e=>{var t,n,a,r;try{if(console.log(" predictionAPI: Starting getUserPredictions..."),console.log(" predictionAPI: userId parameter:",e),console.log(" predictionAPI: typeof userId:",typeof e),console.log(" predictionAPI: userId is truthy:",!!e),!e)return console.log(" predictionAPI: No userId provided, aborting request"),{success:!1,error:"User ID is required"};console.log(" predictionAPI: Making GET request to /predictions/"+e);const o=await je.get(`/predictions/${e}`);console.log(" predictionAPI: Response received"),console.log(" predictionAPI: Response status:",o.status),console.log(" predictionAPI: Response headers:",o.headers),console.log(" predictionAPI: Raw response data:",o.data);const c=o.data;let u=[];if(Array.isArray(c))u=c;else if(c&&Array.isArray(c.data))u=c.data;else if(c&&Array.isArray(c.predictions))u=c.predictions;else if(c&&Array.isArray(c.results))u=c.results;else if(c&&typeof c=="object"){for(const d of Object.keys(c))if(Array.isArray(c[d])){u=c[d];break}}return Array.isArray(u)&&(u=u.map(d=>(d&&d.status&&!d.diseaseName&&(d.diseaseName=d.status,console.log(" Disease name extracted from status for prediction:",d.diseaseName)),d))),console.log(" predictionAPI: Normalized predictions array length:",u.length),{success:!0,data:u}}catch(o){return console.error(" predictionAPI: getUserPredictions error occurred"),console.error(" predictionAPI: Error object:",o),console.error(" predictionAPI: Error name:",o.name),console.error(" predictionAPI: Error message:",o.message),console.error(" predictionAPI: Error response:",o.response),console.error(" predictionAPI: Error response status:",(t=o.response)==null?void 0:t.status),console.error(" predictionAPI: Error response data:",(n=o.response)==null?void 0:n.data),console.error(" predictionAPI: Error code:",o.code),{success:!1,error:((r=(a=o.response)==null?void 0:a.data)==null?void 0:r.message)||o.message||"Failed to get predictions"}}},getPredictionById:async e=>{var t,n;try{console.log(" Fetching prediction details for ID:",e);const a=await je.get(`/prediction/${e}`);console.log(" Prediction details response:",a.data);const r=a.data;return r&&r.status&&!r.diseaseName&&(r.diseaseName=r.status,console.log(" Disease name extracted from status for single prediction:",r.diseaseName)),{success:!0,data:r}}catch(a){return console.error(" Get prediction details error:",a),console.error(" Error response:",a.response),{success:!1,error:((n=(t=a.response)==null?void 0:t.data)==null?void 0:n.message)||a.message||"Failed to get prediction details"}}},downloadPredictionReport:async e=>{var t,n;try{console.log(" Downloading prediction report for ID:",e);const a=await je.get(`/prediction/${e}/report`,{responseType:"blob"}),r=window.URL.createObjectURL(new Blob([a.data])),o=document.createElement("a");return o.href=r,o.setAttribute("download",`prediction-report-${e}.pdf`),document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(r),{success:!0,message:"Report downloaded successfully"}}catch(a){return console.error(" Download report error:",a),console.error(" Error response:",a.response),{success:!1,error:((n=(t=a.response)==null?void 0:t.data)==null?void 0:n.message)||a.message||"Failed to download report"}}},predictDisease:async e=>{var t;try{if(console.log(" Starting disease prediction..."),console.log(" Image file:",e),console.log(" Image file name:",e==null?void 0:e.name),console.log(" Image file type:",e==null?void 0:e.type),console.log(" Image file size:",e==null?void 0:e.size),!e)throw new Error("No image file provided");if(!["image/jpeg","image/jpg","image/png"].includes(e.type))throw new Error("Invalid file format. Please upload JPG, JPEG, or PNG images only.");const a=10*1024*1024;if(e.size>a)throw new Error("File size too large. Please upload an image smaller than 10MB.");const r=new FormData;r.append("image",e),console.log(" FormData created, making request..."),console.log(" FormData entries:");for(let u of r.entries())console.log(" FormData key:",u[0],"value:",u[1]);const o=await je.post("/disease/predict",r,{headers:{},timeout:6e4});console.log(" Disease prediction response:",o.data);const c=o.data;return c&&c.diseaseData&&c.diseaseData.status?(c.diseaseName=c.diseaseData.status,console.log(" Disease name extracted from diseaseData.status:",c.diseaseName)):c&&c.status&&!c.diseaseName&&(c.diseaseName=c.status,console.log(" Disease name extracted from status:",c.diseaseName)),{success:!0,data:c}}catch(n){console.error(" Disease prediction error:",n),console.error(" Error response:",n.response);let a="Disease prediction failed";return n.response?a=((t=n.response.data)==null?void 0:t.message)||a:n.request?n.code==="ECONNREFUSED"?a="Disease prediction service is currently unavailable. Please try again later.":n.code==="TIMEOUT"?a="Disease prediction request timed out. Please try again with a smaller image.":a="Network error. Please check your connection and try again.":a=n.message||a,{success:!1,error:a}}},checkDiseaseServiceHealth:async()=>{var e;try{console.log(" Checking disease prediction service health...");const t=await je.get("/disease/health",{timeout:1e4});return console.log(" Health check response:",t.data),{success:!0,data:t.data}}catch(t){console.error(" Health check error:",t),console.error(" Error response:",t.response);let n="Health check failed";return t.response?n=((e=t.response.data)==null?void 0:e.message)||"Disease prediction service is unhealthy":t.request?t.code==="ECONNREFUSED"?n="Disease prediction service is not responding":t.code==="TIMEOUT"?n="Health check timed out":n="Network error during health check":n=t.message||n,{success:!1,error:n}}}},d1={updateProfile:async e=>{var t,n,a,r;try{console.log(" Starting profile update..."),console.log(" Profile data:",e);const o=await je.put("/user/profile",e);return console.log(" Profile update response:",o),console.log(" Profile update response data:",o.data),console.log(" Profile update response status:",o.status),{success:!0,data:o.data}}catch(o){return console.error(" Profile update error:",o),console.error(" Error response:",o.response),console.error(" Error status:",(t=o.response)==null?void 0:t.status),console.error(" Error data:",(n=o.response)==null?void 0:n.data),{success:!1,error:((r=(a=o.response)==null?void 0:a.data)==null?void 0:r.message)||o.message||"Profile update failed"}}},updateFarmDetails:async e=>{var t,n;try{console.log(" Starting farm details update..."),console.log(" Farm data:",e);const a={farmDetails:e};console.log(" Sending payload:",a);const r=await je.put("/user/farm-details",a);return console.log(" Farm details update response:",r),console.log(" Farm details update response data:",r.data),{success:!0,data:r.data}}catch(a){return console.error(" Farm details update error:",a),console.error(" Error response:",a.response),{success:!1,error:((n=(t=a.response)==null?void 0:t.data)==null?void 0:n.message)||a.message||"Farm details update failed"}}},getProfile:async e=>{var t,n;try{console.log(" Fetching user profile for userId:",e);const a=await je.get(`/user/profile/${e}`);return console.log(" User profile response:",a.data),{success:!0,data:a.data}}catch(a){return console.error(" Get profile error:",a),console.error(" Error response:",a.response),{success:!1,error:((n=(t=a.response)==null?void 0:t.data)==null?void 0:n.message)||a.message||"Failed to get profile"}}}},ki={askQuestion:async(e,t={})=>{let a=0;const r=async()=>{var o,c;a+=1;try{return{success:!0,data:(await je.post("/chatbot/ask",{question:e,context:t},{timeout:3e4})).data}}catch(u){console.error(" Chatbot ask error (attempt "+a+"):",(u==null?void 0:u.message)||u);const d=(u==null?void 0:u.code)==="ECONNABORTED"||/timeout/i.test((u==null?void 0:u.message)||""),f=!(u!=null&&u.response);if((d||f)&&a<=1){const m=500*a;return console.warn(` Retrying chatbot request after ${m}ms (attempt ${a} of 1)`),await new Promise(x=>setTimeout(x,m)),r()}return{success:!1,error:((c=(o=u.response)==null?void 0:o.data)==null?void 0:c.message)||u.message||"Failed to ask question"}}};return r()},getChatHistory:async()=>{var e,t;try{return{success:!0,data:(await je.get("/chatbot/history")).data}}catch(n){return console.error(" Get chat history error:",n),{success:!1,error:((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||n.message||"Failed to get chat history"}}},clearChatHistory:async()=>{var e,t;try{return{success:!0,data:(await je.delete("/chatbot/history")).data}}catch(n){return console.error(" Clear chat history error:",n),{success:!1,error:((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||n.message||"Failed to clear chat history"}}},getSuggestedQuestions:async()=>{var e,t;try{return{success:!0,data:(await je.get("/chatbot/suggestions")).data}}catch(n){return console.error(" Get suggestions error:",n),{success:!1,error:((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||n.message||"Failed to get suggestions"}}},checkHealth:async()=>{var e,t;try{return{success:!0,data:(await je.get("/chatbot/health")).data}}catch(n){return console.error(" Chatbot health check error:",n),{success:!1,error:((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||n.message||"Failed to check health"}}}},us={validateStateDistrictMapping:(e,t)=>{const n={amritsar:"Punjab",ludhiana:"Punjab",chandigarh:"Punjab",jalandhar:"Punjab",patiala:"Punjab",bathinda:"Punjab",mohali:"Punjab",ahmedabad:"Gujarat",surat:"Gujarat",vadodara:"Gujarat",baroda:"Gujarat",rajkot:"Gujarat",bhavnagar:"Gujarat",jamnagar:"Gujarat",junagadh:"Gujarat",gandhinagar:"Gujarat",anand:"Gujarat"},a=t==null?void 0:t.toLowerCase().trim(),r=n[a];return r&&e&&e.toLowerCase()!==r.toLowerCase()?(console.warn(`  FIXED: Correcting state-district mapping: ${t} is in ${r}, not ${e}`),{state:r,district:t}):(r&&console.log(` State-district mapping validated: ${t} in ${r}`),{state:e,district:t})},getWeatherData:async(e,t)=>{var n,a;try{const o=((m,x)=>{let g=m||"",y=x||"";if(console.log(" Normalizing location input:",{originalState:m,originalDistrict:x}),typeof y=="string"&&y.includes(",")){const j=y.split(",").map(S=>S.trim()).filter(Boolean);if(console.log(" District contains comma, parts:",j),j.length>=2)if(g&&j[0].toLowerCase()===g.toLowerCase())y=j.slice(1).join(", "),console.log(" First part matches state, using remaining:",y);else{const S=j[0].toLowerCase();["punjab","gujarat","maharashtra","karnataka","tamil nadu","rajasthan","uttar pradesh"].includes(S)?(g=j[0],y=j.slice(1).join(", "),console.log(" First part is a known state, correcting:",{state:g,district:y})):(y=j[j.length-1],console.log(" Using last part as district:",y))}}if(typeof y=="string"&&(y.includes("/")||y.includes(" - "))&&(y=y.split(/\/| - /).map(j=>j.trim()).filter(Boolean).pop(),console.log(" Handled separators, district now:",y)),g&&typeof y=="string"&&y.toLowerCase().startsWith(g.toLowerCase())){const j=y.slice(g.length).replace(/^[,\s:-]+/,"").trim();j&&(y=j,console.log(" Stripped state prefix from district:",y))}return console.log(" Normalized location result:",{state:g,district:y}),{state:g,district:y}})(e,t),c=us.validateStateDistrictMapping(o.state,o.district),{state:u,district:d}=c;console.log(" Fetching weather data for:",{original:{state:e,district:t},normalized:o,corrected:{state:u,district:d}});const f=await je.post("/location/weather",{state:u,district:d});return console.log(" Weather data response:",f.data),{success:!0,data:f.data}}catch(r){return console.error(" Weather data fetch error:",r),{success:!1,error:((a=(n=r.response)==null?void 0:n.data)==null?void 0:a.message)||r.message||"Failed to fetch weather data"}}},getSoilData:async(e,t)=>{var n,a;try{const o=((m,x)=>{let g=m||"",y=x||"";if(console.log(" Soil API - Normalizing location input:",{originalState:m,originalDistrict:x}),typeof y=="string"&&y.includes(",")){const j=y.split(",").map(S=>S.trim()).filter(Boolean);if(console.log(" Soil API - District contains comma, parts:",j),j.length>=2)if(g&&j[0].toLowerCase()===g.toLowerCase())y=j.slice(1).join(", "),console.log(" Soil API - First part matches state, using remaining:",y);else{const S=j[0].toLowerCase();["punjab","gujarat","maharashtra","karnataka","tamil nadu","rajasthan","uttar pradesh"].includes(S)?(g=j[0],y=j.slice(1).join(", "),console.log(" Soil API - First part is a known state, correcting:",{state:g,district:y})):(y=j[j.length-1],console.log(" Soil API - Using last part as district:",y))}}if(typeof y=="string"&&(y.includes("/")||y.includes(" - "))&&(y=y.split(/\/| - /).map(j=>j.trim()).filter(Boolean).pop(),console.log(" Soil API - Handled separators, district now:",y)),g&&typeof y=="string"&&y.toLowerCase().startsWith(g.toLowerCase())){const j=y.slice(g.length).replace(/^[,\s:-]+/,"").trim();j&&(y=j,console.log(" Soil API - Stripped state prefix from district:",y))}return console.log(" Soil API - Normalized location result:",{state:g,district:y}),{state:g,district:y}})(e,t),c=us.validateStateDistrictMapping(o.state,o.district),{state:u,district:d}=c;console.log(" Fetching soil data for:",{original:{state:e,district:t},normalized:o,corrected:{state:u,district:d}});const f=await je.post("/soil-data",{state:u,district:d});return console.log(" Soil data response:",f.data),{success:!0,data:f.data}}catch(r){return console.error(" Soil data fetch error:",r),{success:!1,error:((a=(n=r.response)==null?void 0:n.data)==null?void 0:a.message)||r.message||"Failed to fetch soil data"}}},getLocationData:async(e,t)=>{var n,a;try{const r=(d,f)=>{let m=d||"",x=f||"";if(typeof x=="string"&&x.includes(",")){const g=x.split(",").map(y=>y.trim()).filter(Boolean);g.length>1&&m&&g[0].toLowerCase()===m.toLowerCase()?x=g.slice(1).join(", "):x=g[g.length-1]}if(typeof x=="string"&&(x.includes("/")||x.includes(" - "))&&(x=x.split(/\/| - /).map(g=>g.trim()).filter(Boolean).pop()),m&&typeof x=="string"&&x.toLowerCase().startsWith(m.toLowerCase())){const g=x.slice(m.length).replace(/^[,\s:-]+/,"").trim();g&&(x=g)}return{state:m,district:x}},{state:o,district:c}=r(e,t);console.log(" Fetching combined location data for:",{state:o,district:c});const u=await je.post("/location/data",{state:o,district:c});return console.log(" Location data response:",u.data),{success:!0,data:u.data}}catch(r){return console.error(" Location data fetch error:",r),{success:!1,error:((a=(n=r.response)==null?void 0:n.data)==null?void 0:a.message)||r.message||"Failed to fetch location data"}}},getSoilData:async(e,t)=>{var n,a;try{return{success:!0,data:(await je.post("/soil-data",{state:e,district:t})).data}}catch(r){return console.error(" Soil data fetch error:",r),{success:!1,error:((a=(n=r.response)==null?void 0:n.data)==null?void 0:a.message)||r.message||"Failed to fetch soil data"}}},getSoilData:async(e,t)=>{var n,a;try{return{success:!0,data:(await je.post("/soil-data",{state:e,district:t})).data}}catch(r){return console.error(" Soil data fetch error:",r),{success:!1,error:((a=(n=r.response)==null?void 0:n.data)==null?void 0:a.message)||r.message||"Failed to fetch soil data"}}},testLocationValidation:()=>{console.log(" Testing location validation..."),[{state:"Gujarat",district:"Amritsar",expected:{state:"Punjab",district:"Amritsar"}},{state:"Punjab",district:"Baroda",expected:{state:"Gujarat",district:"Baroda"}},{state:"Gujarat",district:"Vadodara",expected:{state:"Gujarat",district:"Vadodara"}},{state:"Punjab",district:"Ludhiana",expected:{state:"Punjab",district:"Ludhiana"}}].forEach((t,n)=>{const a=us.validateStateDistrictMapping(t.state,t.district),r=a.state===t.expected.state&&a.district===t.expected.district;console.log(`Test ${n+1}: ${r?" PASS":" FAIL"}`,{input:t,result:a,expected:t.expected})})}},Ir={getMarketPrices:async(e={})=>{try{console.log(" Fetching market prices with params:",e);const t=new URLSearchParams;e.crop&&t.append("crop",e.crop),e.state&&t.append("state",e.state),e.district&&t.append("district",e.district),e.search&&t.append("search",e.search),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.language&&t.append("language",e.language);const n=await je.get(`/market/prices?${t.toString()}`);return console.log(" Market prices fetched successfully:",n.data),n.data}catch(t){throw console.error(" Error fetching market prices:",t),t}},getMarketStats:async(e="en")=>{try{console.log(" Fetching market statistics");const t=await je.get(`/market/stats?language=${e}`);return console.log(" Market stats fetched successfully:",t.data),t.data}catch(t){throw console.error(" Error fetching market stats:",t),t}},getAvailableCrops:async(e="en")=>{try{console.log(" Fetching available crops");const t=await je.get(`/market/crops?language=${e}`);return console.log(" Available crops fetched successfully:",t.data),t.data}catch(t){throw console.error(" Error fetching available crops:",t),t}},getAvailableStates:async(e="en")=>{try{console.log(" Fetching available states");const t=await je.get(`/market/states?language=${e}`);return console.log(" Available states fetched successfully:",t.data),t.data}catch(t){throw console.error(" Error fetching available states:",t),t}},getAvailableDistricts:async(e,t="en")=>{try{console.log(` Fetching available districts for state: ${e} in language: ${t}`);const n=await je.get(`/market/districts?state=${encodeURIComponent(e)}&language=${t}`);return console.log(" Available districts fetched successfully:",n.data),n.data}catch(n){throw console.error(" Error fetching available districts:",n),n}},getCropTrend:async e=>{try{console.log(` Fetching price trend for ${e}`);const t=await je.get(`/market/trend/${e}`);return console.log(" Crop trend fetched successfully:",t.data),t.data}catch(t){throw console.error(" Error fetching crop trend:",t),t}}},MM={getRecentDiseasePredictions:async(e,t=10)=>{var n,a;try{if(console.log(" diseaseAPI: Starting getRecentDiseasePredictions..."),console.log(" diseaseAPI: userId:",e,"limit:",t),!e)return console.log(" diseaseAPI: No userId provided"),{success:!1,error:"User ID is required"};console.log(" diseaseAPI: Making GET request to /diseases/recent/"+e);const r=await je.get(`/diseases/recent/${e}`,{params:{limit:t}});console.log(" diseaseAPI: Response received:",r.data);const o=r.data;let c=[];Array.isArray(o)?c=o:o&&Array.isArray(o.data)?c=o.data:o&&Array.isArray(o.diseases)?c=o.diseases:o&&Array.isArray(o.predictions)&&(c=o.predictions);const u=c.map(d=>{var f,m,x,g,y,j,S,T;return{id:d.id||d._id,crop:d.crop||d.cropType||((f=d.diseaseData)==null?void 0:f.crop)||"Unknown",date:d.createdAt||d.date||new Date().toISOString(),disease:((m=d.diseaseData)==null?void 0:m.status)||d.predictedDisease||d.disease||d.diseaseName||d.status||"Unknown Disease",confidence:((x=d.diseaseData)==null?void 0:x.confidence)||d.confidence||Math.random()*100,location:typeof d.location=="string"?d.location:(g=d.location)!=null&&g.district&&((y=d.location)!=null&&y.state)?`${d.location.district}, ${d.location.state}`:((j=d.location)==null?void 0:j.state)||"Unknown Location",imageUrl:((S=d.diseaseData)==null?void 0:S.uploaded_image_url)||((T=d.diseaseData)==null?void 0:T.predicted_image_url)||d.imageUrl||d.image,recommendations:d.recommendations||[],processingTime:d.processingTime||0,detectedDisease:d.detectedDisease,flaskApiResponse:d.flaskApiResponse}});return console.log(" diseaseAPI: Normalized disease data:",u),{success:!0,data:u}}catch(r){return console.error(" diseaseAPI: getRecentDiseasePredictions error:",r),console.error(" diseaseAPI: Error response:",r.response),{success:!1,error:((a=(n=r.response)==null?void 0:n.data)==null?void 0:a.message)||r.message||"Failed to get recent disease predictions"}}},getUserDiseasePredictions:async e=>{var t,n;try{if(console.log(" diseaseAPI: Starting getUserDiseasePredictions..."),console.log(" diseaseAPI: userId:",e),!e)return console.log(" diseaseAPI: No userId provided"),{success:!1,error:"User ID is required"};console.log(" diseaseAPI: Making GET request to /diseases/"+e);const a=await je.get(`/diseases/${e}`);console.log(" diseaseAPI: Response received:",a.data);const r=a.data;let o=[];Array.isArray(r)?o=r:r&&Array.isArray(r.data)?o=r.data:r&&Array.isArray(r.diseases)?o=r.diseases:r&&Array.isArray(r.predictions)&&(o=r.predictions);const c=o.map(u=>{var d,f,m,x,g,y,j,S;return{id:u.id||u._id,crop:u.crop||u.cropType||((d=u.diseaseData)==null?void 0:d.crop)||"Unknown",date:u.createdAt||u.date||new Date().toISOString(),disease:((f=u.diseaseData)==null?void 0:f.status)||u.predictedDisease||u.disease||u.diseaseName||u.status||"Unknown Disease",confidence:((m=u.diseaseData)==null?void 0:m.confidence)||u.confidence||Math.random()*100,location:typeof u.location=="string"?u.location:(x=u.location)!=null&&x.district&&((g=u.location)!=null&&g.state)?`${u.location.district}, ${u.location.state}`:((y=u.location)==null?void 0:y.state)||"Unknown Location",imageUrl:((j=u.diseaseData)==null?void 0:j.uploaded_image_url)||((S=u.diseaseData)==null?void 0:S.predicted_image_url)||u.imageUrl||u.image,recommendations:u.recommendations||[],processingTime:u.processingTime||0,detectedDisease:u.detectedDisease,flaskApiResponse:u.flaskApiResponse}});return console.log(" diseaseAPI: Normalized disease data:",c),{success:!0,data:c}}catch(a){return console.error(" diseaseAPI: getUserDiseasePredictions error:",a),console.error(" diseaseAPI: Error response:",a.response),{success:!1,error:((n=(t=a.response)==null?void 0:t.data)==null?void 0:n.message)||a.message||"Failed to get user disease predictions"}}},getDiseasePredictionById:async e=>{var t,n,a,r,o,c,u,d,f,m;try{if(console.log(" diseaseAPI: Starting getDiseasePredictionById..."),console.log(" diseaseAPI: predictionId:",e),!e)return console.log(" diseaseAPI: No predictionId provided"),{success:!1,error:"Prediction ID is required"};console.log(" diseaseAPI: Making GET request to /diseases/prediction/"+e);const x=await je.get(`/diseases/prediction/${e}`);console.log(" diseaseAPI: Response received:",x.data);const g=x.data,y={id:g.id||g._id,crop:g.crop||g.cropType||((t=g.diseaseData)==null?void 0:t.crop)||"Unknown",date:g.createdAt||g.date||new Date().toISOString(),disease:((n=g.diseaseData)==null?void 0:n.status)||g.predictedDisease||g.disease||g.diseaseName||g.status||"Unknown Disease",confidence:((a=g.diseaseData)==null?void 0:a.confidence)||g.confidence||0,location:typeof g.location=="string"?g.location:(r=g.location)!=null&&r.district&&((o=g.location)!=null&&o.state)?`${g.location.district}, ${g.location.state}`:((c=g.location)==null?void 0:c.state)||"Unknown Location",imageUrl:((u=g.diseaseData)==null?void 0:u.uploaded_image_url)||((d=g.diseaseData)==null?void 0:d.predicted_image_url)||g.imageUrl||g.image,description:g.description,recommendations:g.recommendations||g.treatment||[],processingTime:g.processingTime||0,detectedDisease:g.detectedDisease,flaskApiResponse:g.flaskApiResponse};return console.log(" diseaseAPI: Normalized disease data:",y),{success:!0,data:y}}catch(x){return console.error(" diseaseAPI: getDiseasePredictionById error:",x),console.error(" diseaseAPI: Error response:",x.response),{success:!1,error:((m=(f=x.response)==null?void 0:f.data)==null?void 0:m.message)||x.message||"Failed to get disease prediction details"}}}},Fr=[{year:2019,yield:92,avgTemp:24.5,rainfall:850,cropType:"Rice"},{year:2020,yield:128,avgTemp:23.8,rainfall:920,cropType:"Rice"},{year:2021,yield:87,avgTemp:26.2,rainfall:680,cropType:"Rice"},{year:2022,yield:142,avgTemp:24.1,rainfall:980,cropType:"Rice"},{year:2023,yield:108,avgTemp:25.3,rainfall:750,cropType:"Rice"},{year:2024,yield:156,avgTemp:23.9,rainfall:1020,cropType:"Rice"}],PM=(e=[])=>{const t=e.map(n=>{var x,g,y,j,S,T,b,_,N,C,E,P,M,H,J;const a=(g=(x=n.externalData)==null?void 0:x.mlInput)==null?void 0:g.Year,r=n.createdAt||n.date||n.timestamp||n.createdAt&&n.createdAt.$date||null;let o=null;a?o=Number(a):r?o=new Date(r).getFullYear():n.year?o=Number(n.year):o=new Date().getFullYear();let c=null;const u=((j=(y=n.externalData)==null?void 0:y.mlResponse)==null?void 0:j.yield_kg_ha)??null;if(u!=null&&!Number.isNaN(Number(u)))c=Number(u)/1e3;else if(n.yieldPerHectare!=null&&!Number.isNaN(Number(n.yieldPerHectare)))c=Number(n.yieldPerHectare);else if(n.yield_per_hectare!=null&&!Number.isNaN(Number(n.yield_per_hectare)))c=Number(n.yield_per_hectare);else if(n.predictedYield!=null&&!Number.isNaN(Number(n.predictedYield))){let $=Number(n.predictedYield);const K=Number(n.landArea)||1;let z=$;K>0&&z>1e4&&(z=z/K),z>1e3&&(z=z/1e3),c=z}const d=((T=(S=n.weather)==null?void 0:S.main)==null?void 0:T.temp)??((b=n.weather)==null?void 0:b.temperature)??(((N=(_=n.externalData)==null?void 0:_.mlInput)==null?void 0:N.Avg_Temp_C)!=null?Number(n.externalData.mlInput.Avg_Temp_C):n.avgTemp),f=((E=(C=n.externalData)==null?void 0:C.mlInput)==null?void 0:E.Avg_Rainfall_mm)!=null&&!Number.isNaN(Number(n.externalData.mlInput.Avg_Rainfall_mm))?Number(n.externalData.mlInput.Avg_Rainfall_mm):((P=n.weather)==null?void 0:P.rainfall)??n.rainfall??null,m=n.cropType||((M=n.input)==null?void 0:M.cropType)||((J=(H=n.externalData)==null?void 0:H.mlInput)==null?void 0:J.Crop)||"Crop";return{year:Number(o),yield:c!=null&&!Number.isNaN(Number(c))?Math.round(Number(c)*100)/100:null,avgTemp:d!=null&&!Number.isNaN(Number(d))?Number(d):null,rainfall:f!=null&&!Number.isNaN(Number(f))?Number(f):null,cropType:m}}).filter(n=>n.yield!==null&&!Number.isNaN(n.yield));return t.sort((n,a)=>n.year-a.year),t},LM=()=>{const e=A.useRef(),{user:t,isLoading:n}=t3(),[a,r]=A.useState(null),[o,c]=A.useState(!0),[u,d]=A.useState(Fr),[f,m]=A.useState(null),[x,g]=A.useState("line"),[y]=A.useState(!1),[j,S]=A.useState("year"),[T,b]=A.useState("yield");A.useEffect(()=>{let M=!0;return n||(async()=>{var J,$,K,z;c(!0),m(null);try{if(!(t!=null&&t.id)&&!(t!=null&&t._id)){d(Fr),c(!1);return}const X=t.id||t._id,Y=await sa.getUserPredictions(X);if(console.log("YieldTrendChart fetch result:",Y),!M)return;console.debug("YieldTrendChart fetch raw resp:",Y);let ne=[];if(Y&&(Array.isArray(Y.data)?ne=Y.data:Array.isArray((J=Y.data)==null?void 0:J.data)?ne=Y.data.data:Array.isArray((K=($=Y.data)==null?void 0:$.data)==null?void 0:K.data)?ne=Y.data.data.data:Array.isArray(Y)?ne=Y:Array.isArray((z=Y==null?void 0:Y.data)==null?void 0:z.predictions)&&(ne=Y.data.predictions)),ne.length>0){const U=PM(ne);U.length>0?d(U):d(Fr)}else m(Y.error||"Failed to fetch predictions (no array found)"),d(Fr)}catch(X){console.error("YieldTrendChart fetch error:",X),m(X.message||"Failed to fetch predictions"),d(Fr)}finally{M&&c(!1)}})(),()=>{M=!1}},[t,n]);const _=A.useCallback((M,H,J,$)=>{r(H);const K=u.indexOf(H);Ur(J.nodes()[K]).transition().duration(200).attr("r",10).attr("stroke-width",3),$.transition().duration(200).style("opacity",1),$.html(`
      <div style="color: #50FF9F; font-weight: bold; margin-bottom: 6px;">${H.year}</div>
      <div style="color: #e5e5e5; margin-bottom: 4px;">Yield: ${H.yield} t/ha</div>
      <div style="color: #a0a0a0; font-size: 11px; margin-bottom: 2px;">Avg Temp: ${H.avgTemp??"-"}C</div>
      <div style="color: #a0a0a0; font-size: 11px; margin-bottom: 2px;">Rainfall: ${H.rainfall??"-"}mm</div>
      <div style="color: #a0a0a0; font-size: 11px;">Crop: ${H.cropType}</div>
    `).style("left",M.pageX+10+"px").style("top",M.pageY-10+"px")},[u]),N=A.useCallback((M,H)=>{H.style("left",M.pageX+10+"px").style("top",M.pageY-10+"px")},[]),C=A.useCallback((M,H,J,$)=>{r(null);const K=u.indexOf(H);Ur(J.nodes()[K]).transition().duration(200).attr("r",6).attr("stroke-width",2),$.transition().duration(200).style("opacity",0)},[u]),E=A.useMemo(()=>{if(y&&Array.isArray(u)&&u.length===1){const M=u[0],H=Number(M.year)||new Date().getFullYear(),J=Number(M.yield)||0,$={...M,year:H-1,yield:+(J*.92).toFixed(2),synthetic:!0},K={...M,year:H+1,yield:+(J*1.08).toFixed(2),synthetic:!0};return[$,{...M,synthetic:!1},K]}return Array.isArray(u)?[...u].sort((M,H)=>M.year-H.year):u},[u,y]),P=A.useMemo(()=>[{key:"year",label:i.jsx(w,{children:"Year"})},{key:"cropType",label:i.jsx(w,{children:"Crop"})},{key:"rainfall",label:i.jsx(w,{children:"Rainfall (mm)"})},{key:"avgTemp",label:i.jsx(w,{children:"Avg Temp (C)"})},{key:"yield",label:i.jsx(w,{children:"Yield (t/ha)"})}],[]);return A.useEffect(()=>{c(!0);const M=Ur(e.current);M.selectAll("*").remove();const H={top:20,right:30,bottom:40,left:50},J=640-H.left-H.right,$=300-H.bottom-H.top,z=M.attr("width",J+H.left+H.right).attr("height",$+H.top+H.bottom).append("g").attr("transform",`translate(${H.left},${H.top})`),X=E.map(le=>le[j]),Y=X.map(le=>le==null?NaN:Number(le)),ne=Y.every(le=>!Number.isNaN(le));let U;if(ne)U=Af().domain(OA(Y)).range([0,J]);else{const le=Array.from(new Set(X.map(ft=>String(ft))));U=P_().domain(le).range([0,J]).padding(.2)}const V=E.map(le=>Number(le[T]??0)),R=GA(V),Z=Af().domain([0,(R||0)+30]).range([$,0]),I=Jd(U).tickSize(-$).tickFormat("").ticks(6),ee=qx(Z).tickSize(-J).tickFormat("").ticks(5);z.append("g").attr("class","grid").attr("transform",`translate(0,${$})`).call(I).selectAll("line").style("stroke","#333C37").style("stroke-opacity",.3).style("stroke-width",1),z.append("g").attr("class","grid").call(ee).selectAll("line").style("stroke","#333C37").style("stroke-opacity",.3).style("stroke-width",1);const Q=B_().x(le=>ne?U(Number(le[j])):U(String(le[j]))+U.bandwidth()/2).y(le=>Z(Number(le[T]??0))).curve(my.tension(.3)),ae=e3().x(le=>ne?U(Number(le[j])):U(String(le[j]))+U.bandwidth()/2).y0($).y1(le=>Z(Number(le[T]??0))).curve(my.tension(.3)),ce=M.append("defs").append("linearGradient").attr("id","yieldGradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",$);ce.append("stop").attr("offset","0%").attr("stop-color","#50FF9F").attr("stop-opacity",.3),ce.append("stop").attr("offset","100%").attr("stop-color","#50FF9F").attr("stop-opacity",.05);const re=z.append("path").datum(E).attr("fill","url(#yieldGradient)").attr("d",ae).style("opacity",0),te=z.append("path").datum(E).attr("fill","none").attr("stroke","#50FF9F").attr("stroke-width",3).attr("stroke-linecap","round").attr("d",Q).style("filter","drop-shadow(0px 2px 4px rgba(80, 255, 159, 0.3))").style("opacity",0),ot=x==="line"&&te.node()?te.node().getTotalLength():0;te.attr("stroke-dasharray",ot+" "+ot).attr("stroke-dashoffset",ot),te.transition().duration(1200).ease(iy).attr("stroke-dashoffset",0).style("opacity",1).on("end",()=>{re.transition().duration(600).ease(iy).style("opacity",1).on("end",()=>c(!1))});const Ht=z.selectAll(".dot").data(E).enter().append("circle").attr("class","dot").attr("cx",le=>ne?U(Number(le[j])):U(String(le[j]))+U.bandwidth()/2).attr("cy",le=>Z(Number(le[T]??0))).attr("r",0).attr("fill","#50FF9F").attr("stroke","#111814").attr("stroke-width",2).style("cursor","pointer").style("filter","drop-shadow(0px 2px 4px rgba(80, 255, 159, 0.4))");Ht.transition().duration(400).delay((le,ft)=>800+ft*80).ease(TE).attr("r",6);const Pn=z.selectAll(".hover-dot").data(E).enter().append("circle").attr("class","hover-dot").attr("cx",le=>ne?U(Number(le[j])):U(String(le[j]))+U.bandwidth()/2).attr("cy",le=>Z(Number(le[T]??0))).attr("r",15).attr("fill","transparent").style("cursor","pointer");let jt=Ur(".yield-tooltip");jt.empty()&&(jt=Ur("body").append("div").attr("class","yield-tooltip").style("position","absolute").style("background","#1a1f1d").style("border","1px solid #333C37").style("border-radius","8px").style("padding","12px").style("font-size","12px").style("box-shadow","0 4px 12px rgba(0, 0, 0, 0.4)").style("pointer-events","none").style("opacity",0).style("z-index","1000")),Pn.on("mouseover",function(le,ft){_(le,ft,Ht,jt)}).on("mousemove",function(le){N(le,jt)}).on("mouseout",function(le,ft){C(le,ft,Ht,jt)});let Gt;ne?Gt=Jd(U).tickFormat(le=>le).ticks(Math.min(6,E.length)):Gt=Jd(U).tickFormat(le=>le),z.append("g").attr("transform",`translate(0,${$})`).call(Gt).selectAll("text").style("fill","#A0A0A0").style("font-size","12px").style("font-weight","500");const xn=qx(Z).tickFormat(le=>le+" t/ha").ticks(5);if(z.append("g").call(xn).selectAll("text").style("fill","#A0A0A0").style("font-size","11px"),z.selectAll(".domain, .tick line").style("stroke","#333C37").style("stroke-width",1),x==="bar"){const le=typeof U.bandwidth=="function",ft=le?U.bandwidth():Math.max(10,J/Math.max(1,E.length)*.6);z.selectAll(".bar").data(E).enter().append("rect").attr("class","bar").attr("x",Nt=>le?U(String(Nt[j])):U(Number(Nt[j]))-ft/2).attr("y",Nt=>Z(Number(Nt[T]??0))).attr("width",ft).attr("height",Nt=>Math.max(0,$-Z(Number(Nt[T]??0)))).attr("fill",Nt=>Nt.synthetic?"rgba(80,255,159,0.25)":"#50FF9F")}return()=>{const le=RC(".yield-tooltip");le.size()>1&&le.remove()}},[E,x,N,C,_,j,T]),i.jsxs("div",{className:"bg-background-card p-6 rounded-lg border border-border",children:[i.jsx("div",{className:"mb-3",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary truncate",children:i.jsx(w,{children:"Yield Trend Analysis"})}),i.jsx("div",{className:"mt-1 text-text-secondary text-xs truncate",children:o?i.jsx(w,{children:"Loading yield data..."}):a?`${a[j]??a.year}: ${a[T]??"-"} ${T==="yield"?"t/ha":""}`:f?`Using fallback data  ${f}`:i.jsx(w,{children:"Historical Yield Data - hover points for details"})}),i.jsx("div",{className:"mt-2 text-text-secondary text-xs flex items-center space-x-3",children:o?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 border-2 border-primary border-t-transparent rounded-full animate-spin"}),i.jsx("span",{className:"text-primary text-xs",children:i.jsx(w,{children:"Loading..."})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),i.jsx("span",{className:"text-primary text-xs font-medium",children:u.length>1?`${((u[u.length-1][T]-u[0][T])/Math.max(1,u[0][T])*100).toFixed(1)}%`:"+0%"}),i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"trend"})})]}),i.jsxs("div",{children:[i.jsx(w,{children:"Avg"}),": ",(u.reduce((M,H)=>M+Number(H[T]||0),0)/Math.max(1,u.length)).toFixed(1)," ",T==="yield"?"t/ha":""]})]})})]}),i.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[i.jsxs("select",{value:x,onChange:M=>g(M.target.value),className:"text-sm p-1 rounded border bg-background-card",title:"Visualization mode","aria-label":"Visualization mode",children:[i.jsx("option",{value:"line",children:i.jsx(w,{children:"Line"})}),i.jsx("option",{value:"bar",children:i.jsx(w,{children:"Bar"})})]}),i.jsx("select",{value:j,onChange:M=>S(M.target.value),className:"text-sm p-1 rounded border bg-background-card",title:"X axis field","aria-label":"X axis field",children:P.map(M=>i.jsx("option",{value:M.key,children:M.label},M.key))}),i.jsx("select",{value:T,onChange:M=>b(M.target.value),className:"text-sm p-1 rounded border bg-background-card",title:"Y axis field","aria-label":"Y axis field",children:P.map(M=>i.jsx("option",{value:M.key,children:M.label},M.key))})]})]})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsx("svg",{ref:e,className:"w-full"})})]})},My=()=>{const{user:e,backendAvailable:t}=Pt(),[n,a]=A.useState(null),[r,o]=A.useState(!1),[c,u]=A.useState(null),d=A.useCallback(async()=>{try{const x=await sa.getUserPredictions(e.id||e._id);x.success&&console.log("Past predictions loaded:",x.data.predictions||[])}catch(x){console.error("Failed to load past predictions:",x)}},[e]);A.useEffect(()=>{e&&t&&d()},[e,t,d]);const f=async x=>{o(!0),u(null),a(null),console.log(" Starting prediction submission..."),console.log(" Form data received:",x);try{const g={cropType:x.cropType,farmSize:x.farmSize,soilType:x.soilType,rainfall:x.rainfall,temperature:x.temperature,humidity:x.humidity,season:x.season,location:x.location,fetchedFromAPIs:x.fetchedFromAPIs,plantingDate:x.date};console.log(" Sending prediction data to backend (matching API format):",g);const y=await sa.createPrediction(g);console.log(" Prediction API result:",y),y.success?(console.log(" Prediction successful"),a(y),d()):(console.log(" Prediction failed:",y.error),u(y.error))}catch(g){console.error(" Unexpected prediction error:",g),u("Failed to generate prediction. Please try again.")}o(!1)},m=()=>{a(null)};return i.jsxs("div",{className:"min-h-screen bg-background",children:[c&&i.jsx("div",{className:"bg-status-error/10 border-b border-status-error/20 px-6 py-3",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("p",{className:"text-status-error text-sm text-center",children:[" ",c]})})}),i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"xl:col-span-1 space-y-6",children:[i.jsx(CA,{onSubmit:f,isLoading:r,error:c}),i.jsx("div",{className:"bg-background-card p-4 rounded-lg border border-border",children:i.jsx("button",{onClick:m,className:"w-full bg-border hover:bg-text-secondary text-text-primary text-sm font-medium px-3 py-2 rounded transition-colors",children:i.jsx(w,{children:"Clear Prediction"})})}),i.jsxs("div",{className:"bg-background-card p-6 rounded-lg border border-border",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:i.jsx(w,{children:"How It Works"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-6 h-6 bg-primary rounded-full flex items-center justify-center text-primary-foreground text-sm font-bold",children:"1"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-text-primary",children:i.jsx(w,{children:"Enter Farm Details"})}),i.jsx("div",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"Provide crop type, location, and soil information"})})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-6 h-6 bg-primary rounded-full flex items-center justify-center text-primary-foreground text-sm font-bold",children:"2"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-text-primary",children:i.jsx(w,{children:"AI Analysis"})}),i.jsx("div",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"Our AI analyzes weather, soil, and historical data"})})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-6 h-6 bg-primary rounded-full flex items-center justify-center text-primary-foreground text-sm font-bold",children:"3"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-text-primary",children:i.jsx(w,{children:"Get Predictions"})}),i.jsx("div",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"Receive detailed yield forecasts and recommendations"})})]})]})]})]})]}),i.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[r&&i.jsx("div",{className:"bg-background-card p-8 rounded-lg border border-border",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:i.jsx(yT,{size:32,className:"text-primary animate-pulse"})}),i.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:i.jsx(w,{children:"Analyzing Your Data..."})}),i.jsx("p",{className:"text-text-secondary text-sm",children:i.jsx(w,{children:"Our AI is processing weather patterns, soil conditions, and historical data to generate your prediction."})}),i.jsx("div",{className:"mt-4 w-64 mx-auto bg-border rounded-full h-2",children:i.jsx("div",{className:"bg-primary h-2 rounded-full animate-pulse",style:{width:"60%"}})})]})}),!r&&i.jsx(MA,{prediction:n}),i.jsx(LM,{})]})]})})]})};function h1(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=h1(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function DM(){for(var e,t,n=0,a="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=h1(e))&&(a&&(a+=" "),a+=t);return a}const f1=({children:e,className:t,variant:n="warning"})=>{const a={warning:"bg-status-warning/10 border-status-warning/20 text-status-warning",success:"bg-status-success/10 border-status-success/20 text-status-success",error:"bg-status-error/10 border-status-error/20 text-status-error",info:"bg-primary/10 border-primary/20 text-primary"};return i.jsx("div",{className:DM("rounded-lg border px-4 py-3 text-sm",a[n],t),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"mt-1 inline-block h-2 w-2 rounded-full bg-current opacity-80","aria-hidden":!0}),i.jsx("div",{className:"text-text-primary",children:e})]})})},RM={en:{title:"Heat Advisory",messages:["High temperatures expected today. Water crops early morning and late evening.","Avoid applying pesticides during peak heat hours."]},hi:{title:"  ",messages:["              ","      "]}},zM={en:{title:"Rain Alert",messages:["Rain expected  secure young plants and avoid fieldwork during heavy showers.","Check drainage in low-lying areas to prevent waterlogging."]},hi:{title:"  ",messages:["                 ","         "]}},OM={en:{title:"Storm / Wind Warning",messages:["Strong winds or storm predicted  stake vulnerable plants and secure structures.","Stay indoors during severe conditions."]},hi:{title:"/ ",messages:["               ","      "]}},UM={en:{title:"Frost Advisory",messages:["Low overnight temperatures expected  protect sensitive crops with covers.","Delay planting of frost-sensitive varieties."]},hi:{title:"/  ",messages:["            ","-    "]}},BM={en:{title:"Flood Risk",messages:["Heavy/continuous rainfall may cause flooding  move equipment and livestock to higher ground.","Monitor water levels and follow local authority guidance."]},hi:{title:"  ",messages:["/              ","            "]}},HM={en:{title:"Dry / Drought Alert",messages:["Low rainfall expected  prioritize irrigation for young and high-value crops.","Conserve soil moisture with mulching."]},hi:{title:" ",messages:["              ","      "]}},IM={heat:RM,rain:zM,storm:OM,frost:UM,flood:BM,dry:HM};function FM(e){if(!e)return[];const t=new Set,n=Number(e.tempC??e.temp??e.temperature??NaN);Number(e.humidity??NaN);const a=Number(e.windSpeed??e.wind??NaN),r=Number(e.precipitation??e.rain??e.precipProbability??0),o=(e.summary||e.description||"").toLowerCase();return(!Number.isNaN(n)&&n>=40||!Number.isNaN(n)&&n>=35)&&t.add("heat"),!Number.isNaN(r)&&r>.2&&t.add("rain"),(o.includes("rain")||o.includes("shower")||o.includes("drizzle"))&&t.add("rain"),!Number.isNaN(a)&&a>=50&&t.add("storm"),(o.includes("storm")||o.includes("wind")||o.includes("squall"))&&t.add("storm"),!Number.isNaN(n)&&n<=2&&t.add("frost"),!Number.isNaN(r)&&r>=.7&&t.add("flood"),(o.includes("flood")||o.includes("waterlogging")||o.includes("inundation"))&&t.add("flood"),!Number.isNaN(r)&&r<.05&&!Number.isNaN(n)&&n>=35&&t.add("dry"),(o.includes("dry")||o.includes("drought"))&&t.add("dry"),Array.from(t)}function qM(e,t="en"){const n=FM(e),a=[];return n.forEach(r=>{const o=IM[r];if(!o)return;const c=o[t]||o.en||{};a.push({key:r,title:c.title||"",messages:c.messages||[]})}),a}const ZM=()=>{const{user:e,isAuthenticated:t,backendAvailable:n}=Pt(),[a,r]=A.useState(!1),[o,c]=A.useState(null),[u,d]=A.useState(null),f={tempC:"--",temp:"--",humidity:"--",wind:"--",summary:"N/A",description:""},m=o||f;return A.useEffect(()=>{window.testWeatherDisplay=()=>{const x={success:!0,data:{success:!0,weather:{location:"Amritsar",temperature:30,feelsLike:37,humidity:79,precipitation:0,windSpeed:4,windDirection:0,pressure:1005,visibility:4,condition:"Mist",description:"mist",icon:"50n",cloudiness:40,sunrise:"6:12:43 am",sunset:"6:41:15 pm"}}};console.log(" Testing weather display with:",x);let g=x.data;g.weather&&(g=g.weather);const y={...g,temp:g.temperature||g.temp,tempC:g.temperature||g.tempC||g.temp,summary:g.condition||g.summary,description:g.description||g.summary,wind:g.windSpeed||g.wind,windSpeed:g.windSpeed||g.wind};console.log(" Normalized test weather:",y),c(y)},console.log(" Weather test function available: window.testWeatherDisplay()")},[]),A.useEffect(()=>{(async()=>{console.log(" WeatherCard useEffect triggered"),console.log(" User:",e),console.log(" isAuthenticated:",t),console.log(" backendAvailable:",n),r(!0),d(null);try{let g=null,y=null;if(console.log(" WeatherCard: Starting location extraction from user:",e),e!=null&&e.farmDetails){if(g=e.farmDetails.state||e.farmDetails.region,y=e.farmDetails.district,!y&&e.farmDetails.location){const b=e.farmDetails.location.split(",").map(_=>_.trim());if(b.length>=2){const _=b[0].toLowerCase();["punjab","gujarat","maharashtra","karnataka","tamil nadu","rajasthan","uttar pradesh"].includes(_)?(g=g||b[0],y=b.slice(1).join(", ")):(g=g||b[b.length-1],y=b[b.length-2])}else y=e.farmDetails.location}y=y||e.farmDetails.city,console.log(" WeatherCard: Location from farmDetails:",{state:g,district:y})}if(!g&&(e!=null&&e.farm)){if(g=e.farm.state||e.farm.region,y=e.farm.district,!y&&e.farm.location){const b=e.farm.location.split(",").map(_=>_.trim());if(b.length>=2){const _=b[0].toLowerCase();["punjab","gujarat","maharashtra","karnataka","tamil nadu","rajasthan","uttar pradesh"].includes(_)?(g=g||b[0],y=b.slice(1).join(", ")):(g=g||b[b.length-1],y=b[b.length-2])}else y=e.farm.location}y=y||e.farm.city,console.log(" WeatherCard: Location from farm object:",{state:g,district:y})}if(!g&&(e!=null&&e.state)){if(g=e.state,y=e.district||e.city,!y&&e.location){const b=e.location.split(",").map(_=>_.trim());if(b.length>=2){const _=b[0].toLowerCase();["punjab","gujarat","maharashtra","karnataka","tamil nadu","rajasthan","uttar pradesh"].includes(_)?(g=g||b[0],y=b.slice(1).join(", ")):(g=g||b[b.length-1],y=b[b.length-2])}else y=e.location}console.log(" WeatherCard: Location from user properties:",{state:g,district:y})}!g&&(e!=null&&e.address)&&(g=e.address.state||e.address.region,y=e.address.district||e.address.city,console.log(" WeatherCard: Location from address:",{state:g,district:y})),!g&&(e!=null&&e.location)&&(g=e.location.state||e.location.region,y=e.location.district||e.location.city,console.log(" WeatherCard: Location from location object:",{state:g,district:y}));let j=g,S=y;if(!j&&S){const b=S.toLowerCase();["amritsar","ludhiana","chandigarh","jalandhar","patiala","bathinda","mohali"].includes(b)?j="Punjab":["ahmedabad","surat","vadodara","baroda","rajkot","bhavnagar","jamnagar"].includes(b)&&(j="Gujarat")}j=j||"Gujarat",S=S||"Baroda",console.log(" WeatherCard: Final location before API call:",{originalState:g,originalDistrict:y,finalState:j,finalDistrict:S}),console.log("WeatherCard: Fetching weather for:",{finalState:j,finalDistrict:S});const T=await us.getWeatherData(j,S);if(console.log(" WeatherCard: API result received:",T),T.success){console.log(" WeatherCard: Setting weather data:",T.data);let b=T.data;b.weather&&(b=b.weather);const _={...b,temp:b.temperature||b.temp,tempC:b.temperature||b.tempC||b.temp,summary:b.condition||b.summary,description:b.description||b.summary,wind:b.windSpeed||b.wind,windSpeed:b.windSpeed||b.wind};console.log(" WeatherCard: Normalized weather data:",_),c(_)}else throw console.error(" WeatherCard: API error:",T.error),new Error(T.error||"Failed to fetch weather data")}catch(g){console.error("WeatherCard: Error fetching weather data:",g),g.code==="ECONNREFUSED"||g.message.includes("Network Error")?d("Backend server is not running"):d(g.message||"Failed to load weather data")}finally{r(!1)}})()},[e,n,t]),i.jsxs("div",{className:"rounded-lg border border-border bg-background-card p-4",children:[o&&(()=>{const x=((e==null?void 0:e.preferredLanguage)||(e==null?void 0:e.language)||"en").startsWith("hi")?"hi":"en",g=qM(o,x);if(g&&g.length>0){const y=g[0];return i.jsx("div",{className:"mb-3",children:i.jsxs(f1,{variant:"warning",children:[i.jsx("div",{className:"font-semibold",children:y.title||(x==="hi"?"":"Alert")}),i.jsx("ul",{className:"mt-1 list-disc pl-5 text-sm",children:y.messages.map((j,S)=>i.jsx("li",{children:j},S))})]})})}return null})(),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"text-xs text-text-secondary",children:[i.jsx(w,{children:"Weather Information"}),(m==null?void 0:m.location)&&` - ${m.location}`]}),i.jsx("p",{className:"mt-2 text-lg font-medium text-text-primary",children:a?i.jsx(w,{children:"Loading..."}):m?`${m.condition||m.summary||m.description||"Clear"}, ${m.temperature||m.tempC||m.temp||"N/A"}C`:"N/A"}),i.jsxs("div",{className:"mt-1 grid grid-cols-2 gap-2 text-xs text-text-secondary",children:[i.jsxs("div",{children:[i.jsx(w,{children:"Humidity"}),": ",a?"...":(m==null?void 0:m.humidity)||f.humidity,"%"]}),i.jsxs("div",{children:[i.jsx(w,{children:"Wind"}),": ",a?"...":(m==null?void 0:m.windSpeed)||(m==null?void 0:m.wind)||f.wind," km/h"]})]}),u&&i.jsx("div",{className:"text-status-error text-xs mt-1",children:u})]}),i.jsx("div",{className:"h-12 w-12 rounded-lg bg-background ring-1 ring-border flex items-center justify-center text-primary text-xl",children:a?"":m!=null&&m.condition?(()=>{const x=(m.condition||"").toLowerCase();return x.includes("rain")?"":x.includes("cloud")?"":x.includes("clear")?"":x.includes("mist")||x.includes("fog")?"":x.includes("snow")?"":x.includes("storm")||x.includes("thunder")?"":""})():""})]})]})},$M=()=>{const{user:e,isAuthenticated:t}=Pt(),[n,a]=A.useState(null),[r,o]=A.useState(!1),[c,u]=A.useState(null),[d,f]=A.useState(!1),m=T=>{if(!T)return null;let b=T;T.data&&(b=T.data),b.soilData&&(b=b.soilData),b.soil&&(b=b.soil),T.externalData&&T.externalData.soilData&&(b=T.externalData.soilData);const _=(...K)=>{for(const z of K)if(z!=null){if(Array.isArray(z)){let X=b;for(const Y of z){if(!X){X=null;break}X=X[Y]}if(X!=null)return X}else if(b[z]!==void 0&&b[z]!==null)return b[z]}return null},N=_(["properties","pH"],["properties","ph"],"pH","ph",["analysis","pH"]),C=_(["properties","moisture"],["properties","waterHolding"],"moisture","waterHolding",["analysis","waterHolding"],"humidity"),E=_(["properties","nitrogen"],"nitrogen","N"),P=_(["properties","phosphorus"],"phosphorus","P"),M=_(["properties","potassium"],"potassium","K"),H=_(["properties","organicCarbon"],["properties","organicMatter"],"organicMatter","om"),J=_("temperature",["properties","temperature"],["weather","temperature"]);return{ph:N??"--",pH:N??"--",moisture:C??"--",nitrogen:E??"--",phosphorus:P??"--",potassium:M??"--",organicMatter:H??"--",temperature:J??"--",_raw:b}},x=(T,b="--")=>{if(!n)return b;const N={ph:["ph","pH","Ph"],moisture:["moisture","waterContent","soilMoisture","humidity","waterHolding"],nitrogen:["nitrogen","N","n","nitrate"],phosphorus:["phosphorus","P","p","phosphate"],potassium:["potassium","K","k","potash"],organicMatter:["organicMatter","organic_matter","om","humus"],temperature:["temperature","temp","soilTemp"]}[T]||[T];for(const C of N)if(n[C]!==void 0&&n[C]!==null)return n[C];return b},g={ph:x("ph"),moisture:x("moisture"),nitrogen:x("nitrogen"),phosphorus:x("phosphorus"),potassium:x("potassium"),organicMatter:x("organicMatter"),temperature:x("temperature")},y=async()=>{var C,E;console.log(" Manual soil fetch triggered"),f(!0),u(null);let T=null,b=null;if(e!=null&&e.farmDetails){if(T=e.farmDetails.state||e.farmDetails.region,b=e.farmDetails.district,!b&&e.farmDetails.location){const P=e.farmDetails.location.split(",").map(M=>M.trim());if(P.length>=2){const M=P[0].toLowerCase();["punjab","gujarat","maharashtra","karnataka","tamil nadu","rajasthan","uttar pradesh"].includes(M)?(T=T||P[0],b=P.slice(1).join(", ")):(T=T||P[P.length-1],b=P[P.length-2])}else b=e.farmDetails.location}b=b||e.farmDetails.city,console.debug("SoilCard: Manual fetch - Location from farmDetails:",{state:T,district:b})}if(!T&&(e!=null&&e.farm)){if(T=e.farm.state||e.farm.region,b=e.farm.district,!b&&e.farm.location){const P=e.farm.location.split(",").map(M=>M.trim());if(P.length>=2){const M=P[0].toLowerCase();["punjab","gujarat","maharashtra","karnataka","tamil nadu","rajasthan","uttar pradesh"].includes(M)?(T=T||P[0],b=P.slice(1).join(", ")):(T=T||P[P.length-1],b=P[P.length-2])}else b=e.farm.location}b=b||e.farm.city,console.debug("SoilCard: Manual fetch - Location from farm object:",{state:T,district:b})}if(!T&&(e!=null&&e.state)){if(T=e.state,b=e.district||e.city,!b&&e.location){const P=e.location.split(",").map(M=>M.trim());if(P.length>=2){const M=P[0].toLowerCase();["punjab","gujarat","maharashtra","karnataka","tamil nadu","rajasthan","uttar pradesh"].includes(M)?(T=T||P[0],b=P.slice(1).join(", ")):(T=T||P[P.length-1],b=P[P.length-2])}else b=e.location}console.debug("SoilCard: Manual fetch - Location from user properties:",{state:T,district:b})}!T&&(e!=null&&e.address)&&(T=e.address.state||e.address.region,b=e.address.district||e.address.city,console.debug("SoilCard: Manual fetch - Location from address:",{state:T,district:b})),!T&&(e!=null&&e.location)&&(T=e.location.state||e.location.region,b=e.location.district||e.location.city,console.debug("SoilCard: Manual fetch - Location from location object:",{state:T,district:b}));let _=T,N=b;if(!_&&N){const P=N.toLowerCase();["amritsar","ludhiana","chandigarh","jalandhar","patiala","bathinda","mohali"].includes(P)?_="Punjab":["ahmedabad","surat","vadodara","baroda","rajkot","bhavnagar","jamnagar"].includes(P)&&(_="Gujarat")}_=_||"Gujarat",N=N||"Baroda",console.log(" Manual soil fetch: Calling API with:",{state:_,district:N});try{const P=await us.getSoilData(_,N);if(P.success){console.log(" Manual soil fetch: API response:",P.data);let M=P.data;P.data.data&&(M=P.data.data),M.soil&&(M=M.soil),M.soilData&&(M=M.soilData);const H=m(M)||m(P.data)||null;a(H),console.log(" Manual soil fetch: Success - Normalized soil data:",H,"raw:",M),u(null)}else console.error(" Manual soil fetch: API error:",P.error),u(P.error||"No soil data received")}catch(P){console.error(" Manual soil fetch: API call failed:",P),P.code==="ECONNREFUSED"||P.message.includes("Network Error")?u("Backend server is not running. Please start the server."):u(`Failed to load soil data: ${((E=(C=P.response)==null?void 0:C.data)==null?void 0:E.message)||P.message}`)}finally{f(!1)}};A.useEffect(()=>{(async()=>{u(null),console.debug("SoilCard: Complete user data from AuthContext:",e),console.debug("SoilCard: Auth state:",{isAuthenticated:t});let b=null,_=null;if(e!=null&&e.farmDetails){if(b=e.farmDetails.state||e.farmDetails.region,_=e.farmDetails.district,!_&&e.farmDetails.location){const E=e.farmDetails.location.split(",").map(P=>P.trim());if(E.length>=2){const P=E[0].toLowerCase();["punjab","gujarat","maharashtra","karnataka","tamil nadu","rajasthan","uttar pradesh"].includes(P)?(b=b||E[0],_=E.slice(1).join(", ")):(b=b||E[E.length-1],_=E[E.length-2])}else _=e.farmDetails.location}_=_||e.farmDetails.city,console.debug("SoilCard: Location from farmDetails:",{state:b,district:_})}if(!b&&(e!=null&&e.farm)){if(b=e.farm.state||e.farm.region,_=e.farm.district,!_&&e.farm.location){const E=e.farm.location.split(",").map(P=>P.trim());if(E.length>=2){const P=E[0].toLowerCase();["punjab","gujarat","maharashtra","karnataka","tamil nadu","rajasthan","uttar pradesh"].includes(P)?(b=b||E[0],_=E.slice(1).join(", ")):(b=b||E[E.length-1],_=E[E.length-2])}else _=e.farm.location}_=_||e.farm.city,console.debug("SoilCard: Location from farm object:",{state:b,district:_})}if(!b&&(e!=null&&e.state)){if(b=e.state,_=e.district||e.city,!_&&e.location){const E=e.location.split(",").map(P=>P.trim());if(E.length>=2){const P=E[0].toLowerCase();["punjab","gujarat","maharashtra","karnataka","tamil nadu","rajasthan","uttar pradesh"].includes(P)?(b=b||E[0],_=E.slice(1).join(", ")):(b=b||E[E.length-1],_=E[E.length-2])}else _=e.location}console.debug("SoilCard: Location from user properties:",{state:b,district:_})}!b&&(e!=null&&e.address)&&(b=e.address.state||e.address.region,_=e.address.district||e.address.city,console.debug("SoilCard: Location from address:",{state:b,district:_})),!b&&(e!=null&&e.location)&&(b=e.location.state||e.location.region,_=e.location.district||e.location.city,console.debug("SoilCard: Location from location object:",{state:b,district:_}));let N=b,C=_;if(!N&&C){const E=C.toLowerCase();["amritsar","ludhiana","chandigarh","jalandhar","patiala","bathinda","mohali"].includes(E)?N="Punjab":["ahmedabad","surat","vadodara","baroda","rajkot","bhavnagar","jamnagar"].includes(E)&&(N="Gujarat")}N=N||"Gujarat",C=C||"Baroda",console.debug("SoilCard: Final location for API call:",{originalState:b,originalDistrict:_,finalState:N,finalDistrict:C}),console.debug("SoilCard: Calling soil API with:",{state:N,district:C}),o(!0);try{const E=await us.getSoilData(N,C);if(E.success){console.debug("SoilCard: API response:",E.data);let P=E.data;E.data.data&&(P=E.data.data),P.soil&&(P=P.soil),P.soilData&&(P=P.soilData);const M=m(P)||m(E.data)||null;a(M),console.debug(" SoilCard: Success - Normalized soil data:",M),u(null)}else console.error(" SoilCard: API error:",E.error),u(E.error||"No soil data received")}catch(E){console.error("SoilCard: API call failed:",E),E.code==="ECONNREFUSED"||E.message.includes("Network Error")?u("Backend server is not running. Please start the server."):u(`Failed to load soil data: ${E.message}`)}finally{o(!1)}})()},[e,t]),Hs.useEffect(()=>{window.testSoilAPI=async(T="Gujarat",b="Baroda")=>{console.log(" Manual soil API test called with:",{state:T,district:b});try{const _=await us.getSoilData(T,b);return console.log(" Test result:",_),_}catch(_){return console.error(" Test failed:",_),{success:!1,error:_.message}}},console.log(" Soil API test function available: window.testSoilAPI(state, district)")},[]);const j=T=>{if(!T||T==="--")return"text-text-secondary";const b=String(T).toLowerCase();if(!isNaN(T)){const _=parseFloat(T);return b.includes("ph")||b.includes("acidity")?_>=6&&_<=7?"text-status-success":_>=5.5&&_<6||_>7&&_<=7.5?"text-status-warning":"text-status-error":_>=70?"text-status-success":_>=40?"text-status-warning":"text-status-error"}switch(b){case"high":case"good":case"optimal":case"excellent":return"text-status-success";case"medium":case"moderate":case"average":return"text-status-warning";case"low":case"poor":case"deficient":return"text-status-error";default:return"text-text-secondary"}},S=(T,b="")=>{if(!T||T==="--")return"--";const _=String(T);return isNaN(T)?b&&_.includes(b.replace("",""))?_:`${_}${b}`:`${parseFloat(T).toFixed(1)}${b}`};return i.jsx("div",{className:"rounded-lg border border-border bg-background-card p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"Soil Health"})}),i.jsx("p",{className:"mt-2 text-lg font-medium text-text-primary",children:r?i.jsx(w,{children:"Loading..."}):i.jsxs(i.Fragment,{children:["pH: ",S(g.ph),", ",i.jsx(w,{children:"Moisture"}),": ",S(g.moisture,"%")]})}),i.jsxs("div",{className:"mt-1 grid grid-cols-3 gap-2 text-xs",children:[i.jsxs("div",{children:["N: ",i.jsx("span",{className:j(g.nitrogen),children:S(g.nitrogen)})]}),i.jsxs("div",{children:["P: ",i.jsx("span",{className:j(g.phosphorus),children:S(g.phosphorus)})]}),i.jsxs("div",{children:["K: ",i.jsx("span",{className:j(g.potassium),children:S(g.potassium)})]})]}),g.organicMatter&&g.organicMatter!=="--"&&i.jsxs("div",{className:"mt-1 text-xs",children:[i.jsxs("span",{className:"text-text-secondary",children:[i.jsx(w,{children:"Organic Matter"}),": "]}),i.jsx("span",{className:j(g.organicMatter),children:S(g.organicMatter,"%")})]}),g.temperature&&g.temperature!=="--"&&i.jsxs("div",{className:"mt-1 text-xs",children:[i.jsxs("span",{className:"text-text-secondary",children:[i.jsx(w,{children:"Soil Temp"}),": "]}),i.jsx("span",{className:"text-text-primary",children:S(g.temperature,"C")})]}),c&&i.jsx("div",{className:"text-status-error text-xs mt-1",children:c}),n&&i.jsxs("div",{className:"mt-1 text-xs text-text-secondary",children:[i.jsx(w,{children:"Last updated"}),": ",new Date().toLocaleTimeString()]})]}),i.jsx("div",{className:"h-12 w-12 rounded-lg bg-background ring-1 ring-border flex items-center justify-center text-primary text-xl",children:""}),i.jsx("button",{onClick:y,disabled:d,className:"h-8 w-8 rounded-lg bg-primary/10 hover:bg-primary/20 ring-1 ring-border flex items-center justify-center text-primary disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Refresh soil data",children:i.jsx(fc,{className:`h-4 w-4 ${d?"animate-spin":""}`})})]})})};function GM(e,t){const n=A.useRef(t);A.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const YM=1;function VM(e){return Object.freeze({__version:YM,map:e})}function XM(e,t){return Object.freeze({...e,...t})}const np=A.createContext(null);function m1(){const e=A.use(np);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function KM(e){function t(n,a){const{instance:r,context:o}=e(n).current;A.useImperativeHandle(a,()=>r);const{children:c}=n;return c==null?null:Hs.createElement(np,{value:o},c)}return A.forwardRef(t)}function QM(e){function t(n,a){const{instance:r}=e(n).current;return A.useImperativeHandle(a,()=>r),null}return A.forwardRef(t)}function WM(e,t){const n=A.useRef(void 0);A.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function p1(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var Lf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,a){a(t)})(Lw,function(n){var a="1.9.4";function r(s){var l,h,p,v;for(h=1,p=arguments.length;h<p;h++){v=arguments[h];for(l in v)s[l]=v[l]}return s}var o=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function c(s,l){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var p=h.call(arguments,2);return function(){return s.apply(l,p.length?p.concat(h.call(arguments)):arguments)}}var u=0;function d(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function f(s,l,h){var p,v,k,D;return D=function(){p=!1,v&&(k.apply(h,v),v=!1)},k=function(){p?v=arguments:(s.apply(h,arguments),setTimeout(D,l),p=!0)},k}function m(s,l,h){var p=l[1],v=l[0],k=p-v;return s===p&&h?s:((s-v)%k+k)%k+v}function x(){return!1}function g(s,l){if(l===!1)return s;var h=Math.pow(10,l===void 0?6:l);return Math.round(s*h)/h}function y(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function j(s){return y(s).split(/\s+/)}function S(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var h in l)s.options[h]=l[h];return s.options}function T(s,l,h){var p=[];for(var v in s)p.push(encodeURIComponent(h?v.toUpperCase():v)+"="+encodeURIComponent(s[v]));return(!l||l.indexOf("?")===-1?"?":"&")+p.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function _(s,l){return s.replace(b,function(h,p){var v=l[p];if(v===void 0)throw new Error("No value provided for variable "+h);return typeof v=="function"&&(v=v(l)),v})}var N=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function C(s,l){for(var h=0;h<s.length;h++)if(s[h]===l)return h;return-1}var E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var M=0;function H(s){var l=+new Date,h=Math.max(0,16-(l-M));return M=l+h,window.setTimeout(s,h)}var J=window.requestAnimationFrame||P("RequestAnimationFrame")||H,$=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function K(s,l,h){if(h&&J===H)s.call(l);else return J.call(window,c(s,l))}function z(s){s&&$.call(window,s)}var X={__proto__:null,extend:r,create:o,bind:c,get lastId(){return u},stamp:d,throttle:f,wrapNum:m,falseFn:x,formatNum:g,trim:y,splitWords:j,setOptions:S,getParamString:T,template:_,isArray:N,indexOf:C,emptyImageUrl:E,requestFn:J,cancelFn:$,requestAnimFrame:K,cancelAnimFrame:z};function Y(){}Y.extend=function(s){var l=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,p=o(h);p.constructor=l,l.prototype=p;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(l[v]=this[v]);return s.statics&&r(l,s.statics),s.includes&&(ne(s.includes),r.apply(null,[p].concat(s.includes))),r(p,s),delete p.statics,delete p.includes,p.options&&(p.options=h.options?o(h.options):{},r(p.options,s.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,D=p._initHooks.length;k<D;k++)p._initHooks[k].call(this)}},l},Y.include=function(s){var l=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},Y.mergeOptions=function(s){return r(this.prototype.options,s),this},Y.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function ne(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=N(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var U={on:function(s,l,h){if(typeof s=="object")for(var p in s)this._on(p,s[p],l);else{s=j(s);for(var v=0,k=s.length;v<k;v++)this._on(s[v],l,h)}return this},off:function(s,l,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var p in s)this._off(p,s[p],l);else{s=j(s);for(var v=arguments.length===1,k=0,D=s.length;k<D;k++)v?this._off(s[k]):this._off(s[k],l,h)}return this},_on:function(s,l,h,p){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,h)===!1){h===this&&(h=void 0);var v={fn:l,ctx:h};p&&(v.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(v)}},_off:function(s,l,h){var p,v,k;if(this._events&&(p=this._events[s],!!p)){if(arguments.length===1){if(this._firingCount)for(v=0,k=p.length;v<k;v++)p[v].fn=x;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var D=this._listens(s,l,h);if(D!==!1){var B=p[D];this._firingCount&&(B.fn=x,this._events[s]=p=p.slice()),p.splice(D,1)}}},fire:function(s,l,h){if(!this.listens(s,h))return this;var p=r({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var v=this._events[s];if(v){this._firingCount=this._firingCount+1||1;for(var k=0,D=v.length;k<D;k++){var B=v[k],F=B.fn;B.once&&this.off(s,F,B.ctx),F.call(B.ctx||this,p)}this._firingCount--}}return h&&this._propagateEvent(p),this},listens:function(s,l,h,p){typeof s!="string"&&console.warn('"string" type argument expected');var v=l;typeof l!="function"&&(p=!!l,v=void 0,h=void 0);var k=this._events&&this._events[s];if(k&&k.length&&this._listens(s,v,h)!==!1)return!0;if(p){for(var D in this._eventParents)if(this._eventParents[D].listens(s,l,h,p))return!0}return!1},_listens:function(s,l,h){if(!this._events)return!1;var p=this._events[s]||[];if(!l)return!!p.length;h===this&&(h=void 0);for(var v=0,k=p.length;v<k;v++)if(p[v].fn===l&&p[v].ctx===h)return v;return!1},once:function(s,l,h){if(typeof s=="object")for(var p in s)this._on(p,s[p],l,!0);else{s=j(s);for(var v=0,k=s.length;v<k;v++)this._on(s[v],l,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[d(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[d(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};U.addEventListener=U.on,U.removeEventListener=U.clearAllEventListeners=U.off,U.addOneTimeEventListener=U.once,U.fireEvent=U.fire,U.hasEventListeners=U.listens;var V=Y.extend(U);function R(s,l,h){this.x=h?Math.round(s):s,this.y=h?Math.round(l):l}var Z=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};R.prototype={clone:function(){return new R(this.x,this.y)},add:function(s){return this.clone()._add(I(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(I(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new R(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new R(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Z(this.x),this.y=Z(this.y),this},distanceTo:function(s){s=I(s);var l=s.x-this.x,h=s.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(s){return s=I(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=I(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function I(s,l,h){return s instanceof R?s:N(s)?new R(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new R(s.x,s.y):new R(s,l,h)}function ee(s,l){if(s)for(var h=l?[s,l]:s,p=0,v=h.length;p<v;p++)this.extend(h[p])}ee.prototype={extend:function(s){var l,h;if(!s)return this;if(s instanceof R||typeof s[0]=="number"||"x"in s)l=h=I(s);else if(s=Q(s),l=s.min,h=s.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return I((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return I(this.min.x,this.max.y)},getTopRight:function(){return I(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,h;return typeof s[0]=="number"||s instanceof R?s=I(s):s=Q(s),s instanceof ee?(l=s.min,h=s.max):l=h=s,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=Q(s);var l=this.min,h=this.max,p=s.min,v=s.max,k=v.x>=l.x&&p.x<=h.x,D=v.y>=l.y&&p.y<=h.y;return k&&D},overlaps:function(s){s=Q(s);var l=this.min,h=this.max,p=s.min,v=s.max,k=v.x>l.x&&p.x<h.x,D=v.y>l.y&&p.y<h.y;return k&&D},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,h=this.max,p=Math.abs(l.x-h.x)*s,v=Math.abs(l.y-h.y)*s;return Q(I(l.x-p,l.y-v),I(h.x+p,h.y+v))},equals:function(s){return s?(s=Q(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function Q(s,l){return!s||s instanceof ee?s:new ee(s,l)}function ae(s,l){if(s)for(var h=l?[s,l]:s,p=0,v=h.length;p<v;p++)this.extend(h[p])}ae.prototype={extend:function(s){var l=this._southWest,h=this._northEast,p,v;if(s instanceof ce)p=s,v=s;else if(s instanceof ae){if(p=s._southWest,v=s._northEast,!p||!v)return this}else return s?this.extend(re(s)||oe(s)):this;return!l&&!h?(this._southWest=new ce(p.lat,p.lng),this._northEast=new ce(v.lat,v.lng)):(l.lat=Math.min(p.lat,l.lat),l.lng=Math.min(p.lng,l.lng),h.lat=Math.max(v.lat,h.lat),h.lng=Math.max(v.lng,h.lng)),this},pad:function(s){var l=this._southWest,h=this._northEast,p=Math.abs(l.lat-h.lat)*s,v=Math.abs(l.lng-h.lng)*s;return new ae(new ce(l.lat-p,l.lng-v),new ce(h.lat+p,h.lng+v))},getCenter:function(){return new ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ce||"lat"in s?s=re(s):s=oe(s);var l=this._southWest,h=this._northEast,p,v;return s instanceof ae?(p=s.getSouthWest(),v=s.getNorthEast()):p=v=s,p.lat>=l.lat&&v.lat<=h.lat&&p.lng>=l.lng&&v.lng<=h.lng},intersects:function(s){s=oe(s);var l=this._southWest,h=this._northEast,p=s.getSouthWest(),v=s.getNorthEast(),k=v.lat>=l.lat&&p.lat<=h.lat,D=v.lng>=l.lng&&p.lng<=h.lng;return k&&D},overlaps:function(s){s=oe(s);var l=this._southWest,h=this._northEast,p=s.getSouthWest(),v=s.getNorthEast(),k=v.lat>l.lat&&p.lat<h.lat,D=v.lng>l.lng&&p.lng<h.lng;return k&&D},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=oe(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function oe(s,l){return s instanceof ae?s:new ae(s,l)}function ce(s,l,h){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,h!==void 0&&(this.alt=+h)}ce.prototype={equals:function(s,l){if(!s)return!1;s=re(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+g(this.lat,s)+", "+g(this.lng,s)+")"},distanceTo:function(s){return ot.distance(this,re(s))},wrap:function(){return ot.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,h=l/Math.cos(Math.PI/180*this.lat);return oe([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new ce(this.lat,this.lng,this.alt)}};function re(s,l,h){return s instanceof ce?s:N(s)&&typeof s[0]!="object"?s.length===3?new ce(s[0],s[1],s[2]):s.length===2?new ce(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ce(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new ce(s,l,h)}var te={latLngToPoint:function(s,l){var h=this.projection.project(s),p=this.scale(l);return this.transformation._transform(h,p)},pointToLatLng:function(s,l){var h=this.scale(l),p=this.transformation.untransform(s,h);return this.projection.unproject(p)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(s),p=this.transformation.transform(l.min,h),v=this.transformation.transform(l.max,h);return new ee(p,v)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?m(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?m(s.lat,this.wrapLat,!0):s.lat,p=s.alt;return new ce(h,l,p)},wrapLatLngBounds:function(s){var l=s.getCenter(),h=this.wrapLatLng(l),p=l.lat-h.lat,v=l.lng-h.lng;if(p===0&&v===0)return s;var k=s.getSouthWest(),D=s.getNorthEast(),B=new ce(k.lat-p,k.lng-v),F=new ce(D.lat-p,D.lng-v);return new ae(B,F)}},ot=r({},te,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var h=Math.PI/180,p=s.lat*h,v=l.lat*h,k=Math.sin((l.lat-s.lat)*h/2),D=Math.sin((l.lng-s.lng)*h/2),B=k*k+Math.cos(p)*Math.cos(v)*D*D,F=2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B));return this.R*F}}),Ht=6378137,Pn={R:Ht,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,h=this.MAX_LATITUDE,p=Math.max(Math.min(h,s.lat),-h),v=Math.sin(p*l);return new R(this.R*s.lng*l,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(s){var l=180/Math.PI;return new ce((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=Ht*Math.PI;return new ee([-s,-s],[s,s])}()};function jt(s,l,h,p){if(N(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=h,this._d=p}jt.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new R((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function Gt(s,l,h,p){return new jt(s,l,h,p)}var xn=r({},ot,{code:"EPSG:3857",projection:Pn,transformation:function(){var s=.5/(Math.PI*Pn.R);return Gt(s,.5,-s,.5)}()}),le=r({},xn,{code:"EPSG:900913"});function ft(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Nt(s,l){var h="",p,v,k,D,B,F;for(p=0,k=s.length;p<k;p++){for(B=s[p],v=0,D=B.length;v<D;v++)F=B[v],h+=(v?"L":"M")+F.x+" "+F.y;h+=l?ue.svg?"z":"x":""}return h||"M0 0"}var la=document.documentElement.style,ca="ActiveXObject"in window,ke=ca&&!document.addEventListener,Se="msLaunchUri"in navigator&&!("documentMode"in document),lt=Gn("webkit"),O=Gn("android"),de=Gn("android 2")||Gn("android 3"),Ue=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ie=O&&Gn("Google")&&Ue<537&&!("AudioNode"in window),Pe=!!window.opera,Be=!Se&&Gn("chrome"),Ze=Gn("gecko")&&!lt&&!Pe&&!ca,He=!Be&&Gn("safari"),We=Gn("phantom"),Yt="OTransition"in la,yn=navigator.platform.indexOf("Win")===0,Oa=ca&&"transition"in la,Vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!de,gs="MozPerspective"in la,$e=!window.L_DISABLE_3D&&(Oa||Vt||gs)&&!Yt&&!We,Ua=typeof orientation<"u"||Gn("mobile"),nl=Ua&&lt,al=Ua&&Vt,fr=!window.PointerEvent&&window.MSPointerEvent,mr=!!(window.PointerEvent||fr),pr="ontouchstart"in window||!!window.TouchEvent,sl=!window.L_NO_TOUCH&&(pr||mr),il=Ua&&Pe,rl=Ua&&Ze,ol=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ll=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",x,l),window.removeEventListener("testPassiveEventSupport",x,l)}catch{}return s}(),cl=function(){return!!document.createElement("canvas").getContext}(),Ws=!!(document.createElementNS&&ft("svg").createSVGRect),vt=!!Ws&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ge=!Ws&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),T1=navigator.platform.indexOf("Mac")===0,A1=navigator.platform.indexOf("Linux")===0;function Gn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var ue={ie:ca,ielt9:ke,edge:Se,webkit:lt,android:O,android23:de,androidStock:ie,opera:Pe,chrome:Be,gecko:Ze,safari:He,phantom:We,opera12:Yt,win:yn,ie3d:Oa,webkit3d:Vt,gecko3d:gs,any3d:$e,mobile:Ua,mobileWebkit:nl,mobileWebkit3d:al,msPointer:fr,pointer:mr,touch:sl,touchNative:pr,mobileOpera:il,mobileGecko:rl,retina:ol,passiveEvents:ll,canvas:cl,svg:Ws,vml:Ge,inlineSvg:vt,mac:T1,linux:A1},sp=ue.msPointer?"MSPointerDown":"pointerdown",ip=ue.msPointer?"MSPointerMove":"pointermove",rp=ue.msPointer?"MSPointerUp":"pointerup",op=ue.msPointer?"MSPointerCancel":"pointercancel",Hu={touchstart:sp,touchmove:ip,touchend:rp,touchcancel:op},lp={touchstart:L1,touchmove:ul,touchend:ul,touchcancel:ul},Js={},cp=!1;function k1(s,l,h){return l==="touchstart"&&P1(),lp[l]?(h=lp[l].bind(this,h),s.addEventListener(Hu[l],h,!1),h):(console.warn("wrong event specified:",l),x)}function C1(s,l,h){if(!Hu[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(Hu[l],h,!1)}function E1(s){Js[s.pointerId]=s}function M1(s){Js[s.pointerId]&&(Js[s.pointerId]=s)}function up(s){delete Js[s.pointerId]}function P1(){cp||(document.addEventListener(sp,E1,!0),document.addEventListener(ip,M1,!0),document.addEventListener(rp,up,!0),document.addEventListener(op,up,!0),cp=!0)}function ul(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in Js)l.touches.push(Js[h]);l.changedTouches=[l],s(l)}}function L1(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Lt(l),ul(s,l)}function D1(s){var l={},h,p;for(p in s)h=s[p],l[p]=h&&h.bind?h.bind(s):h;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var R1=200;function z1(s,l){s.addEventListener("dblclick",l);var h=0,p;function v(k){if(k.detail!==1){p=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var D=pp(k);if(!(D.some(function(F){return F instanceof HTMLLabelElement&&F.attributes.for})&&!D.some(function(F){return F instanceof HTMLInputElement||F instanceof HTMLSelectElement}))){var B=Date.now();B-h<=R1?(p++,p===2&&l(D1(k))):p=1,h=B}}}return s.addEventListener("click",v),{dblclick:l,simDblclick:v}}function O1(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var Iu=fl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),gr=fl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),dp=gr==="webkitTransition"||gr==="OTransition"?gr+"End":"transitionend";function hp(s){return typeof s=="string"?document.getElementById(s):s}function xr(s,l){var h=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(s,null);h=p?p[l]:null}return h==="auto"?null:h}function Ce(s,l,h){var p=document.createElement(s);return p.className=l||"",h&&h.appendChild(p),p}function at(s){var l=s.parentNode;l&&l.removeChild(s)}function dl(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function ei(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function ti(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function Fu(s,l){if(s.classList!==void 0)return s.classList.contains(l);var h=hl(s);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function xe(s,l){if(s.classList!==void 0)for(var h=j(l),p=0,v=h.length;p<v;p++)s.classList.add(h[p]);else if(!Fu(s,l)){var k=hl(s);qu(s,(k?k+" ":"")+l)}}function ct(s,l){s.classList!==void 0?s.classList.remove(l):qu(s,y((" "+hl(s)+" ").replace(" "+l+" "," ")))}function qu(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function hl(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function vn(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&U1(s,l)}function U1(s,l){var h=!1,p="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(p)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):s.style.filter+=" progid:"+p+"(opacity="+l+")"}function fl(s){for(var l=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in l)return s[h];return!1}function xs(s,l,h){var p=l||new R(0,0);s.style[Iu]=(ue.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(h?" scale("+h+")":"")}function mt(s,l){s._leaflet_pos=l,ue.any3d?xs(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function ys(s){return s._leaflet_pos||new R(0,0)}var yr,vr,Zu;if("onselectstart"in document)yr=function(){pe(window,"selectstart",Lt)},vr=function(){Ye(window,"selectstart",Lt)};else{var br=fl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);yr=function(){if(br){var s=document.documentElement.style;Zu=s[br],s[br]="none"}},vr=function(){br&&(document.documentElement.style[br]=Zu,Zu=void 0)}}function $u(){pe(window,"dragstart",Lt)}function Gu(){Ye(window,"dragstart",Lt)}var ml,Yu;function Vu(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(pl(),ml=s,Yu=s.style.outlineStyle,s.style.outlineStyle="none",pe(window,"keydown",pl))}function pl(){ml&&(ml.style.outlineStyle=Yu,ml=void 0,Yu=void 0,Ye(window,"keydown",pl))}function fp(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Xu(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var B1={__proto__:null,TRANSFORM:Iu,TRANSITION:gr,TRANSITION_END:dp,get:hp,getStyle:xr,create:Ce,remove:at,empty:dl,toFront:ei,toBack:ti,hasClass:Fu,addClass:xe,removeClass:ct,setClass:qu,getClass:hl,setOpacity:vn,testProp:fl,setTransform:xs,setPosition:mt,getPosition:ys,get disableTextSelection(){return yr},get enableTextSelection(){return vr},disableImageDrag:$u,enableImageDrag:Gu,preventOutline:Vu,restoreOutline:pl,getSizedParentNode:fp,getScale:Xu};function pe(s,l,h,p){if(l&&typeof l=="object")for(var v in l)Qu(s,v,l[v],h);else{l=j(l);for(var k=0,D=l.length;k<D;k++)Qu(s,l[k],h,p)}return this}var Yn="_leaflet_events";function Ye(s,l,h,p){if(arguments.length===1)mp(s),delete s[Yn];else if(l&&typeof l=="object")for(var v in l)Wu(s,v,l[v],h);else if(l=j(l),arguments.length===2)mp(s,function(B){return C(l,B)!==-1});else for(var k=0,D=l.length;k<D;k++)Wu(s,l[k],h,p);return this}function mp(s,l){for(var h in s[Yn]){var p=h.split(/\d/)[0];(!l||l(p))&&Wu(s,p,null,null,h)}}var Ku={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Qu(s,l,h,p){var v=l+d(h)+(p?"_"+d(p):"");if(s[Yn]&&s[Yn][v])return this;var k=function(B){return h.call(p||s,B||window.event)},D=k;!ue.touchNative&&ue.pointer&&l.indexOf("touch")===0?k=k1(s,l,k):ue.touch&&l==="dblclick"?k=z1(s,k):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(Ku[l]||l,k,ue.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(k=function(B){B=B||window.event,ed(s,B)&&D(B)},s.addEventListener(Ku[l],k,!1)):s.addEventListener(l,D,!1):s.attachEvent("on"+l,k),s[Yn]=s[Yn]||{},s[Yn][v]=k}function Wu(s,l,h,p,v){v=v||l+d(h)+(p?"_"+d(p):"");var k=s[Yn]&&s[Yn][v];if(!k)return this;!ue.touchNative&&ue.pointer&&l.indexOf("touch")===0?C1(s,l,k):ue.touch&&l==="dblclick"?O1(s,k):"removeEventListener"in s?s.removeEventListener(Ku[l]||l,k,!1):s.detachEvent("on"+l,k),s[Yn][v]=null}function vs(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Ju(s){return Qu(s,"wheel",vs),this}function _r(s){return pe(s,"mousedown touchstart dblclick contextmenu",vs),s._leaflet_disable_click=!0,this}function Lt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function bs(s){return Lt(s),vs(s),this}function pp(s){if(s.composedPath)return s.composedPath();for(var l=[],h=s.target;h;)l.push(h),h=h.parentNode;return l}function gp(s,l){if(!l)return new R(s.clientX,s.clientY);var h=Xu(l),p=h.boundingClientRect;return new R((s.clientX-p.left)/h.x-l.clientLeft,(s.clientY-p.top)/h.y-l.clientTop)}var H1=ue.linux&&ue.chrome?window.devicePixelRatio:ue.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xp(s){return ue.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/H1:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function ed(s,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var I1={__proto__:null,on:pe,off:Ye,stopPropagation:vs,disableScrollPropagation:Ju,disableClickPropagation:_r,preventDefault:Lt,stop:bs,getPropagationPath:pp,getMousePosition:gp,getWheelDelta:xp,isExternalTarget:ed,addListener:pe,removeListener:Ye},yp=V.extend({run:function(s,l,h,p){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=ys(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var h=this._startPos.add(this._offset.multiplyBy(s));l&&h._round(),mt(this._el,h),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Te=V.extend({options:{crs:xn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=S(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(re(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=gr&&ue.any3d&&!ue.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),pe(this._proxy,dp,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(re(s),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=r({animate:h.animate},h.zoom),h.pan=r({animate:h.animate,duration:h.duration},h.pan));var p=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,h.zoom):this._tryAnimatedPan(s,h.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(ue.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(ue.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,h){var p=this.getZoomScale(l),v=this.getSize().divideBy(2),k=s instanceof R?s:this.latLngToContainerPoint(s),D=k.subtract(v).multiplyBy(1-1/p),B=this.containerPointToLatLng(v.add(D));return this.setView(B,l,{zoom:h})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():oe(s);var h=I(l.paddingTopLeft||l.padding||[0,0]),p=I(l.paddingBottomRight||l.padding||[0,0]),v=this.getBoundsZoom(s,!1,h.add(p));if(v=typeof l.maxZoom=="number"?Math.min(l.maxZoom,v):v,v===1/0)return{center:s.getCenter(),zoom:v};var k=p.subtract(h).divideBy(2),D=this.project(s.getSouthWest(),v),B=this.project(s.getNorthEast(),v),F=this.unproject(D.add(B).divideBy(2).add(k),v);return{center:F,zoom:v}},fitBounds:function(s,l){if(s=oe(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=I(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new yp,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){xe(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,h){if(h=h||{},h.animate===!1||!ue.any3d)return this.setView(s,l,h);this._stop();var p=this.project(this.getCenter()),v=this.project(s),k=this.getSize(),D=this._zoom;s=re(s),l=l===void 0?D:l;var B=Math.max(k.x,k.y),F=B*this.getZoomScale(D,l),W=v.distanceTo(p)||1,se=1.42,he=se*se;function be(pt){var Al=pt?-1:1,Cw=pt?F:B,Ew=F*F-B*B+Al*he*he*W*W,Mw=2*Cw*he*W,dd=Ew/Mw,Wp=Math.sqrt(dd*dd+1)-dd,Pw=Wp<1e-9?-18:Math.log(Wp);return Pw}function It(pt){return(Math.exp(pt)-Math.exp(-pt))/2}function St(pt){return(Math.exp(pt)+Math.exp(-pt))/2}function _n(pt){return It(pt)/St(pt)}var Xt=be(0);function oi(pt){return B*(St(Xt)/St(Xt+se*pt))}function Sw(pt){return B*(St(Xt)*_n(Xt+se*pt)-It(Xt))/he}function Tw(pt){return 1-Math.pow(1-pt,1.5)}var Aw=Date.now(),Kp=(be(1)-Xt)/se,kw=h.duration?1e3*h.duration:1e3*Kp*.8;function Qp(){var pt=(Date.now()-Aw)/kw,Al=Tw(pt)*Kp;pt<=1?(this._flyToFrame=K(Qp,this),this._move(this.unproject(p.add(v.subtract(p).multiplyBy(Sw(Al)/W)),D),this.getScaleZoom(B/oi(Al),D),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Qp.call(this),this},flyToBounds:function(s,l){var h=this._getBoundsCenterZoom(s,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(s){return s=oe(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var h=this.getCenter(),p=this._limitCenter(h,this._zoom,oe(s));return h.equals(p)||this.panTo(p,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var h=I(l.paddingTopLeft||l.padding||[0,0]),p=I(l.paddingBottomRight||l.padding||[0,0]),v=this.project(this.getCenter()),k=this.project(s),D=this.getPixelBounds(),B=Q([D.min.add(h),D.max.subtract(p)]),F=B.getSize();if(!B.contains(k)){this._enforcingBounds=!0;var W=k.subtract(B.getCenter()),se=B.extend(k).getSize().subtract(F);v.x+=W.x<0?-se.x:se.x,v.y+=W.y<0?-se.y:se.y,this.panTo(this.unproject(v),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),p=l.divideBy(2).round(),v=h.divideBy(2).round(),k=p.subtract(v);return!k.x&&!k.y?this:(s.animate&&s.pan?this.panBy(k):(s.pan&&this._rawPanBy(k),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=c(this._handleGeolocationResponse,this),h=c(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,s):navigator.geolocation.getCurrentPosition(l,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,h=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,h=s.coords.longitude,p=new ce(l,h),v=p.toBounds(s.coords.accuracy*2),k=this._locateOptions;if(k.setView){var D=this.getBoundsZoom(v);this.setView(p,k.maxZoom?Math.min(D,k.maxZoom):D)}var B={latlng:p,bounds:v,timestamp:s.timestamp};for(var F in s.coords)typeof s.coords[F]=="number"&&(B[F]=s.coords[F]);this.fire("locationfound",B)}},addHandler:function(s,l){if(!l)return this;var h=this[s]=new l(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)at(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),p=Ce("div",h,l||this._mapPane);return s&&(this._panes[s]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new ae(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,h){s=oe(s),h=I(h||[0,0]);var p=this.getZoom()||0,v=this.getMinZoom(),k=this.getMaxZoom(),D=s.getNorthWest(),B=s.getSouthEast(),F=this.getSize().subtract(h),W=Q(this.project(B,p),this.project(D,p)).getSize(),se=ue.any3d?this.options.zoomSnap:1,he=F.x/W.x,be=F.y/W.y,It=l?Math.max(he,be):Math.min(he,be);return p=this.getScaleZoom(It,p),se&&(p=Math.round(p/(se/100))*(se/100),p=l?Math.ceil(p/se)*se:Math.floor(p/se)*se),Math.max(v,Math.min(k,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var h=this._getTopLeftPoint(s,l);return new ee(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(s)/h.scale(l)},getScaleZoom:function(s,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var p=h.zoom(s*h.scale(l));return isNaN(p)?1/0:p},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(re(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(I(s),l)},layerPointToLatLng:function(s){var l=I(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(re(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(re(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(oe(s))},distance:function(s,l){return this.options.crs.distance(re(s),re(l))},containerPointToLayerPoint:function(s){return I(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return I(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(I(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(re(s)))},mouseEventToContainerPoint:function(s){return gp(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=hp(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");pe(l,"scroll",this._onScroll,this),this._containerId=d(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&ue.any3d,xe(s,"leaflet-container"+(ue.touch?" leaflet-touch":"")+(ue.retina?" leaflet-retina":"")+(ue.ielt9?" leaflet-oldie":"")+(ue.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=xr(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),mt(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xe(s.markerPane,"leaflet-zoom-hide"),xe(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,h){mt(this._mapPane,new R(0,0));var p=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var v=this._zoom!==l;this._moveStart(v,h)._move(s,l)._moveEnd(v),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,h,p){l===void 0&&(l=this._zoom);var v=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),p?h&&h.pinch&&this.fire("zoom",h):((v||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){mt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[d(this._container)]=this;var l=s?Ye:pe;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),ue.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var h=[],p,v=l==="mouseout"||l==="mouseover",k=s.target||s.srcElement,D=!1;k;){if(p=this._targets[d(k)],p&&(l==="click"||l==="preclick")&&this._draggableMoved(p)){D=!0;break}if(p&&p.listens(l,!0)&&(v&&!ed(k,s)||(h.push(p),v))||k===this._container)break;k=k.parentNode}return!h.length&&!D&&!v&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var h=s.type;h==="mousedown"&&Vu(l),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,h){if(s.type==="click"){var p=r({},s);p.type="preclick",this._fireDOMEvent(p,p.type,h)}var v=this._findEventTargets(s,l);if(h){for(var k=[],D=0;D<h.length;D++)h[D].listens(l,!0)&&k.push(h[D]);v=k.concat(v)}if(v.length){l==="contextmenu"&&Lt(s);var B=v[0],F={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var W=B.getLatLng&&(!B._radius||B._radius<=10);F.containerPoint=W?this.latLngToContainerPoint(B.getLatLng()):this.mouseEventToContainerPoint(s),F.layerPoint=this.containerPointToLayerPoint(F.containerPoint),F.latlng=W?B.getLatLng():this.layerPointToLatLng(F.layerPoint)}for(D=0;D<v.length;D++)if(v[D].fire(l,F,!0),F.originalEvent._stopped||v[D].options.bubblingMouseEvents===!1&&C(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return ys(this._mapPane)||new R(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var h=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var h=this.getSize()._divideBy(2);return this.project(s,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,h){var p=this._getNewPixelOrigin(h,l);return this.project(s,l)._subtract(p)},_latLngBoundsToNewLayerBounds:function(s,l,h){var p=this._getNewPixelOrigin(h,l);return Q([this.project(s.getSouthWest(),l)._subtract(p),this.project(s.getNorthWest(),l)._subtract(p),this.project(s.getSouthEast(),l)._subtract(p),this.project(s.getNorthEast(),l)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,h){if(!h)return s;var p=this.project(s,l),v=this.getSize().divideBy(2),k=new ee(p.subtract(v),p.add(v)),D=this._getBoundsOffset(k,h,l);return Math.abs(D.x)<=1&&Math.abs(D.y)<=1?s:this.unproject(p.add(D),l)},_limitOffset:function(s,l){if(!l)return s;var h=this.getPixelBounds(),p=new ee(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(p,l))},_getBoundsOffset:function(s,l,h){var p=Q(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),v=p.min.subtract(s.min),k=p.max.subtract(s.max),D=this._rebound(v.x,-k.x),B=this._rebound(v.y,-k.y);return new R(D,B)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),h=this.getMaxZoom(),p=ue.any3d?this.options.zoomSnap:1;return p&&(s=Math.round(s/p)*p),Math.max(l,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ct(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var h=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var s=this._proxy=Ce("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var h=Iu,p=this._proxy.style[h];xs(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),p===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();xs(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(l),v=this._getCenterOffset(s)._divideBy(1-1/p);return h.animate!==!0&&!this.getSize().contains(v)?!1:(K(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,h,p){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,xe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ct(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function F1(s,l){return new Te(s,l)}var Ln=Y.extend({options:{position:"topright"},initialize:function(s){S(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),h=this.getPosition(),p=s._controlCorners[h];return xe(l,"leaflet-control"),h.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),wr=function(s){return new Ln(s)};Te.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",h=this._controlContainer=Ce("div",l+"control-container",this._container);function p(v,k){var D=l+v+" "+l+k;s[v+k]=Ce("div",D,h)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)at(this._controlCorners[s]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var vp=Ln.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,h,p){return h<p?-1:p<h?1:0}},initialize:function(s,l,h){S(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in s)this._addLayer(s[p],p);for(p in l)this._addLayer(l[p],p,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Ln.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(d(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){xe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(xe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):ct(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ct(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=Ce("div",s),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),_r(l),Ju(l);var p=this._section=Ce("section",s+"-list");h&&(this._map.on("click",this.collapse,this),pe(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=Ce("a",s+"-toggle",l);v.href="#",v.title="Layers",v.setAttribute("role","button"),pe(v,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){Lt(k),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Ce("div",s+"-base",p),this._separator=Ce("div",s+"-separator",p),this._overlaysList=Ce("div",s+"-overlays",p),l.appendChild(p)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&d(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(c(function(p,v){return this.options.sortFunction(p.layer,v.layer,p.name,v.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;dl(this._baseLayersList),dl(this._overlaysList),this._layerControlInputs=[];var s,l,h,p,v=0;for(h=0;h<this._layers.length;h++)p=this._layers[h],this._addItem(p),l=l||p.overlay,s=s||!p.overlay,v+=p.overlay?0:1;return this.options.hideSingleBase&&(s=s&&v>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(d(s.target)),h=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(s,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=h,p.firstChild},_addItem:function(s){var l=document.createElement("label"),h=this._map.hasLayer(s.layer),p;s.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=h):p=this._createRadioElement("leaflet-base-layers_"+d(this),h),this._layerControlInputs.push(p),p.layerId=d(s.layer),pe(p,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+s.name;var k=document.createElement("span");l.appendChild(k),k.appendChild(p),k.appendChild(v);var D=s.overlay?this._overlaysList:this._baseLayersList;return D.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,h,p=[],v=[];this._handlingClick=!0;for(var k=s.length-1;k>=0;k--)l=s[k],h=this._getLayer(l.layerId).layer,l.checked?p.push(h):l.checked||v.push(h);for(k=0;k<v.length;k++)this._map.hasLayer(v[k])&&this._map.removeLayer(v[k]);for(k=0;k<p.length;k++)this._map.hasLayer(p[k])||this._map.addLayer(p[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,h,p=this._map.getZoom(),v=s.length-1;v>=0;v--)l=s[v],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&p<h.options.minZoom||h.options.maxZoom!==void 0&&p>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,pe(s,"click",Lt),this.expand();var l=this;setTimeout(function(){Ye(s,"click",Lt),l._preventClick=!1})}}),q1=function(s,l,h){return new vp(s,l,h)},td=Ln.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",h=Ce("div",l+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,h,p,v){var k=Ce("a",h,p);return k.innerHTML=s,k.href="#",k.title=l,k.setAttribute("role","button"),k.setAttribute("aria-label",l),_r(k),pe(k,"click",bs),pe(k,"click",v,this),pe(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";ct(this._zoomInButton,l),ct(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(xe(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(xe(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Te.mergeOptions({zoomControl:!0}),Te.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new td,this.addControl(this.zoomControl))});var Z1=function(s){return new td(s)},bp=Ln.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",h=Ce("div",l),p=this.options;return this._addScales(p,l+"-line",h),s.on(p.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,h){s.metric&&(this._mScale=Ce("div",l,h)),s.imperial&&(this._iScale=Ce("div",l,h))},_update:function(){var s=this._map,l=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/s)},_updateImperial:function(s){var l=s*3.2808399,h,p,v;l>5280?(h=l/5280,p=this._getRoundNum(h),this._updateScale(this._iScale,p+" mi",p/h)):(v=this._getRoundNum(l),this._updateScale(this._iScale,v+" ft",v/l))},_updateScale:function(s,l,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),h=s/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),$1=function(s){return new bp(s)},G1='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',nd=Ln.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ue.inlineSvg?G1+" ":"")+"Leaflet</a>"},initialize:function(s){S(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Ce("div","leaflet-control-attribution"),_r(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Te.mergeOptions({attributionControl:!0}),Te.addInitHook(function(){this.options.attributionControl&&new nd().addTo(this)});var Y1=function(s){return new nd(s)};Ln.Layers=vp,Ln.Zoom=td,Ln.Scale=bp,Ln.Attribution=nd,wr.layers=q1,wr.zoom=Z1,wr.scale=$1,wr.attribution=Y1;var Vn=Y.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Vn.addTo=function(s,l){return s.addHandler(l,this),this};var V1={Events:U},_p=ue.touch?"touchstart mousedown":"mousedown",Ba=V.extend({options:{clickTolerance:3},initialize:function(s,l,h,p){S(this,p),this._element=s,this._dragStartTarget=l||s,this._preventOutline=h},enable:function(){this._enabled||(pe(this._dragStartTarget,_p,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ba._dragging===this&&this.finishDrag(!0),Ye(this._dragStartTarget,_p,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Fu(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Ba._dragging===this&&this.finishDrag();return}if(!(Ba._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Ba._dragging=this,this._preventOutline&&Vu(this._element),$u(),yr(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,h=fp(this._element);this._startPoint=new R(l.clientX,l.clientY),this._startPos=ys(this._element),this._parentScale=Xu(h);var p=s.type==="mousedown";pe(document,p?"mousemove":"touchmove",this._onMove,this),pe(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,h=new R(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Lt(s),this._moved||(this.fire("dragstart"),this._moved=!0,xe(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),mt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){ct(document.body,"leaflet-dragging"),this._lastTarget&&(ct(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ye(document,"mousemove touchmove",this._onMove,this),Ye(document,"mouseup touchend touchcancel",this._onUp,this),Gu(),vr();var l=this._moved&&this._moving;this._moving=!1,Ba._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function wp(s,l,h){var p,v=[1,4,2,8],k,D,B,F,W,se,he,be;for(k=0,se=s.length;k<se;k++)s[k]._code=_s(s[k],l);for(B=0;B<4;B++){for(he=v[B],p=[],k=0,se=s.length,D=se-1;k<se;D=k++)F=s[k],W=s[D],F._code&he?W._code&he||(be=gl(W,F,he,l,h),be._code=_s(be,l),p.push(be)):(W._code&he&&(be=gl(W,F,he,l,h),be._code=_s(be,l),p.push(be)),p.push(F));s=p}return s}function jp(s,l){var h,p,v,k,D,B,F,W,se;if(!s||s.length===0)throw new Error("latlngs not passed");bn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var he=re([0,0]),be=oe(s),It=be.getNorthWest().distanceTo(be.getSouthWest())*be.getNorthEast().distanceTo(be.getNorthWest());It<1700&&(he=ad(s));var St=s.length,_n=[];for(h=0;h<St;h++){var Xt=re(s[h]);_n.push(l.project(re([Xt.lat-he.lat,Xt.lng-he.lng])))}for(B=F=W=0,h=0,p=St-1;h<St;p=h++)v=_n[h],k=_n[p],D=v.y*k.x-k.y*v.x,F+=(v.x+k.x)*D,W+=(v.y+k.y)*D,B+=D*3;B===0?se=_n[0]:se=[F/B,W/B];var oi=l.unproject(I(se));return re([oi.lat+he.lat,oi.lng+he.lng])}function ad(s){for(var l=0,h=0,p=0,v=0;v<s.length;v++){var k=re(s[v]);l+=k.lat,h+=k.lng,p++}return re([l/p,h/p])}var X1={__proto__:null,clipPolygon:wp,polygonCenter:jp,centroid:ad};function Np(s,l){if(!l||!s.length)return s.slice();var h=l*l;return s=W1(s,h),s=Q1(s,h),s}function Sp(s,l,h){return Math.sqrt(jr(s,l,h,!0))}function K1(s,l,h){return jr(s,l,h)}function Q1(s,l){var h=s.length,p=typeof Uint8Array<"u"?Uint8Array:Array,v=new p(h);v[0]=v[h-1]=1,sd(s,v,l,0,h-1);var k,D=[];for(k=0;k<h;k++)v[k]&&D.push(s[k]);return D}function sd(s,l,h,p,v){var k=0,D,B,F;for(B=p+1;B<=v-1;B++)F=jr(s[B],s[p],s[v],!0),F>k&&(D=B,k=F);k>h&&(l[D]=1,sd(s,l,h,p,D),sd(s,l,h,D,v))}function W1(s,l){for(var h=[s[0]],p=1,v=0,k=s.length;p<k;p++)J1(s[p],s[v])>l&&(h.push(s[p]),v=p);return v<k-1&&h.push(s[k-1]),h}var Tp;function Ap(s,l,h,p,v){var k=p?Tp:_s(s,h),D=_s(l,h),B,F,W;for(Tp=D;;){if(!(k|D))return[s,l];if(k&D)return!1;B=k||D,F=gl(s,l,B,h,v),W=_s(F,h),B===k?(s=F,k=W):(l=F,D=W)}}function gl(s,l,h,p,v){var k=l.x-s.x,D=l.y-s.y,B=p.min,F=p.max,W,se;return h&8?(W=s.x+k*(F.y-s.y)/D,se=F.y):h&4?(W=s.x+k*(B.y-s.y)/D,se=B.y):h&2?(W=F.x,se=s.y+D*(F.x-s.x)/k):h&1&&(W=B.x,se=s.y+D*(B.x-s.x)/k),new R(W,se,v)}function _s(s,l){var h=0;return s.x<l.min.x?h|=1:s.x>l.max.x&&(h|=2),s.y<l.min.y?h|=4:s.y>l.max.y&&(h|=8),h}function J1(s,l){var h=l.x-s.x,p=l.y-s.y;return h*h+p*p}function jr(s,l,h,p){var v=l.x,k=l.y,D=h.x-v,B=h.y-k,F=D*D+B*B,W;return F>0&&(W=((s.x-v)*D+(s.y-k)*B)/F,W>1?(v=h.x,k=h.y):W>0&&(v+=D*W,k+=B*W)),D=s.x-v,B=s.y-k,p?D*D+B*B:new R(v,k)}function bn(s){return!N(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function kp(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),bn(s)}function Cp(s,l){var h,p,v,k,D,B,F,W;if(!s||s.length===0)throw new Error("latlngs not passed");bn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var se=re([0,0]),he=oe(s),be=he.getNorthWest().distanceTo(he.getSouthWest())*he.getNorthEast().distanceTo(he.getNorthWest());be<1700&&(se=ad(s));var It=s.length,St=[];for(h=0;h<It;h++){var _n=re(s[h]);St.push(l.project(re([_n.lat-se.lat,_n.lng-se.lng])))}for(h=0,p=0;h<It-1;h++)p+=St[h].distanceTo(St[h+1])/2;if(p===0)W=St[0];else for(h=0,k=0;h<It-1;h++)if(D=St[h],B=St[h+1],v=D.distanceTo(B),k+=v,k>p){F=(k-p)/v,W=[B.x-F*(B.x-D.x),B.y-F*(B.y-D.y)];break}var Xt=l.unproject(I(W));return re([Xt.lat+se.lat,Xt.lng+se.lng])}var ew={__proto__:null,simplify:Np,pointToSegmentDistance:Sp,closestPointOnSegment:K1,clipSegment:Ap,_getEdgeIntersection:gl,_getBitCode:_s,_sqClosestPointOnSegment:jr,isFlat:bn,_flat:kp,polylineCenter:Cp},id={project:function(s){return new R(s.lng,s.lat)},unproject:function(s){return new ce(s.y,s.x)},bounds:new ee([-180,-90],[180,90])},rd={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,h=this.R,p=s.lat*l,v=this.R_MINOR/h,k=Math.sqrt(1-v*v),D=k*Math.sin(p),B=Math.tan(Math.PI/4-p/2)/Math.pow((1-D)/(1+D),k/2);return p=-h*Math.log(Math.max(B,1e-10)),new R(s.lng*l*h,p)},unproject:function(s){for(var l=180/Math.PI,h=this.R,p=this.R_MINOR/h,v=Math.sqrt(1-p*p),k=Math.exp(-s.y/h),D=Math.PI/2-2*Math.atan(k),B=0,F=.1,W;B<15&&Math.abs(F)>1e-7;B++)W=v*Math.sin(D),W=Math.pow((1-W)/(1+W),v/2),F=Math.PI/2-2*Math.atan(k*W)-D,D+=F;return new ce(D*l,s.x*l/h)}},tw={__proto__:null,LonLat:id,Mercator:rd,SphericalMercator:Pn},nw=r({},ot,{code:"EPSG:3395",projection:rd,transformation:function(){var s=.5/(Math.PI*rd.R);return Gt(s,.5,-s,.5)}()}),Ep=r({},ot,{code:"EPSG:4326",projection:id,transformation:Gt(1/180,1,-1/180,.5)}),aw=r({},te,{projection:id,transformation:Gt(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var h=l.lng-s.lng,p=l.lat-s.lat;return Math.sqrt(h*h+p*p)},infinite:!0});te.Earth=ot,te.EPSG3395=nw,te.EPSG3857=xn,te.EPSG900913=le,te.EPSG4326=Ep,te.Simple=aw;var Dn=V.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[d(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[d(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Te.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=d(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=d(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return d(s)in this._layers},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},_addLayers:function(s){s=s?N(s)?s:[s]:[];for(var l=0,h=s.length;l<h;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[d(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=d(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,h=this._getZoomSpan();for(var p in this._zoomBoundLayers){var v=this._zoomBoundLayers[p].options;s=v.minZoom===void 0?s:Math.min(s,v.minZoom),l=v.maxZoom===void 0?l:Math.max(l,v.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ni=Dn.extend({initialize:function(s,l){S(this,l),this._layers={};var h,p;if(s)for(h=0,p=s.length;h<p;h++)this.addLayer(s[h])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),h,p;for(h in this._layers)p=this._layers[h],p[s]&&p[s].apply(p,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return d(s)}}),sw=function(s,l){return new ni(s,l)},ua=ni.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ni.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ni.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ae;for(var l in this._layers){var h=this._layers[l];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),iw=function(s,l){return new ua(s,l)},ai=Y.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){S(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(p,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(s,l){var h=this.options,p=h[l+"Size"];typeof p=="number"&&(p=[p,p]);var v=I(p),k=I(l==="shadow"&&h.shadowAnchor||h.iconAnchor||v&&v.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(h.className||""),k&&(s.style.marginLeft=-k.x+"px",s.style.marginTop=-k.y+"px"),v&&(s.style.width=v.x+"px",s.style.height=v.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return ue.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function rw(s){return new ai(s)}var Nr=ai.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Nr.imagePath!="string"&&(Nr.imagePath=this._detectIconPath()),(this.options.imagePath||Nr.imagePath)+ai.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(h,p,v){var k=p.exec(h);return k&&k[v]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Ce("div","leaflet-default-icon-path",document.body),l=xr(s,"background-image")||xr(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Mp=Vn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Ba(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xe(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ct(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,h=l._map,p=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,k=ys(l._icon),D=h.getPixelBounds(),B=h.getPixelOrigin(),F=Q(D.min._subtract(B).add(v),D.max._subtract(B).subtract(v));if(!F.contains(k)){var W=I((Math.max(F.max.x,k.x)-F.max.x)/(D.max.x-F.max.x)-(Math.min(F.min.x,k.x)-F.min.x)/(D.min.x-F.min.x),(Math.max(F.max.y,k.y)-F.max.y)/(D.max.y-F.max.y)-(Math.min(F.min.y,k.y)-F.min.y)/(D.min.y-F.min.y)).multiplyBy(p);h.panBy(W,{animate:!1}),this._draggable._newPos._add(W),this._draggable._startPos._add(W),mt(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=K(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,h=l._shadow,p=ys(l._icon),v=l._map.layerPointToLatLng(p);h&&mt(h,p),l._latlng=v,s.latlng=v,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),xl=Dn.extend({options:{icon:new Nr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){S(this,l),this._latlng=re(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=re(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),p=!1;h!==this._icon&&(this._icon&&this._removeIcon(),p=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),xe(h,l),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pe(h,"focus",this._panOnFocus,this);var v=s.icon.createShadow(this._shadow),k=!1;v!==this._shadow&&(this._removeShadow(),k=!0),v&&(xe(v,l),v.alt=""),this._shadow=v,s.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&k&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ye(this._icon,"focus",this._panOnFocus,this),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&mt(this._icon,s),this._shadow&&mt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(xe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mp)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mp(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&vn(this._icon,s),this._shadow&&vn(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,h=l.iconSize?I(l.iconSize):I(0,0),p=l.iconAnchor?I(l.iconAnchor):I(0,0);s.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:h.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ow(s,l){return new xl(s,l)}var Ha=Dn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return S(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),yl=Ha.extend({options:{fill:!0,radius:10},initialize:function(s,l){S(this,l),this._latlng=re(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=re(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Ha.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,h=this._clickTolerance(),p=[s+h,l+h];this._pxBounds=new ee(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function lw(s,l){return new yl(s,l)}var od=yl.extend({initialize:function(s,l,h){if(typeof l=="number"&&(l=r({},h,{radius:l})),S(this,l),this._latlng=re(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ae(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Ha.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,h=this._map,p=h.options.crs;if(p.distance===ot.distance){var v=Math.PI/180,k=this._mRadius/ot.R/v,D=h.project([l+k,s]),B=h.project([l-k,s]),F=D.add(B).divideBy(2),W=h.unproject(F).lat,se=Math.acos((Math.cos(k*v)-Math.sin(l*v)*Math.sin(W*v))/(Math.cos(l*v)*Math.cos(W*v)))/v;(isNaN(se)||se===0)&&(se=k/Math.cos(Math.PI/180*l)),this._point=F.subtract(h.getPixelOrigin()),this._radius=isNaN(se)?0:F.x-h.project([W,s-se]).x,this._radiusY=F.y-D.y}else{var he=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(he).x}this._updateBounds()}});function cw(s,l,h){return new od(s,l,h)}var da=Ha.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){S(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,h=null,p=jr,v,k,D=0,B=this._parts.length;D<B;D++)for(var F=this._parts[D],W=1,se=F.length;W<se;W++){v=F[W-1],k=F[W];var he=p(s,v,k,!0);he<l&&(l=he,h=p(s,v,k))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Cp(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=re(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ae,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return bn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],h=bn(s),p=0,v=s.length;p<v;p++)h?(l[p]=re(s[p]),this._bounds.extend(l[p])):l[p]=this._convertLatLngs(s[p]);return l},_project:function(){var s=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new R(s,s);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,h){var p=s[0]instanceof ce,v=s.length,k,D;if(p){for(D=[],k=0;k<v;k++)D[k]=this._map.latLngToLayerPoint(s[k]),h.extend(D[k]);l.push(D)}else for(k=0;k<v;k++)this._projectLatlngs(s[k],l,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,p,v,k,D,B,F;for(h=0,v=0,k=this._rings.length;h<k;h++)for(F=this._rings[h],p=0,D=F.length;p<D-1;p++)B=Ap(F[p],F[p+1],s,p,!0),B&&(l[v]=l[v]||[],l[v].push(B[0]),(B[1]!==F[p+1]||p===D-2)&&(l[v].push(B[1]),v++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,h=0,p=s.length;h<p;h++)s[h]=Np(s[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var h,p,v,k,D,B,F=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,k=this._parts.length;h<k;h++)for(B=this._parts[h],p=0,D=B.length,v=D-1;p<D;v=p++)if(!(!l&&p===0)&&Sp(s,B[v],B[p])<=F)return!0;return!1}});function uw(s,l){return new da(s,l)}da._flat=kp;var si=da.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=da.prototype._convertLatLngs.call(this,s),h=l.length;return h>=2&&l[0]instanceof ce&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(s){da.prototype._setLatLngs.call(this,s),bn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return bn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,h=new R(l,l);if(s=new ee(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,v=this._rings.length,k;p<v;p++)k=wp(this._rings[p],s,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,h,p,v,k,D,B,F,W;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(k=0,F=this._parts.length;k<F;k++)for(h=this._parts[k],D=0,W=h.length,B=W-1;D<W;B=D++)p=h[D],v=h[B],p.y>s.y!=v.y>s.y&&s.x<(v.x-p.x)*(s.y-p.y)/(v.y-p.y)+p.x&&(l=!l);return l||da.prototype._containsPoint.call(this,s,!0)}});function dw(s,l){return new si(s,l)}var ha=ua.extend({initialize:function(s,l){S(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=N(s)?s:s.features,h,p,v;if(l){for(h=0,p=l.length;h<p;h++)v=l[h],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var k=this.options;if(k.filter&&!k.filter(s))return this;var D=vl(s,k);return D?(D.feature=wl(s),D.defaultOptions=D.options,this.resetStyle(D),k.onEachFeature&&k.onEachFeature(s,D),this.addLayer(D)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function vl(s,l){var h=s.type==="Feature"?s.geometry:s,p=h?h.coordinates:null,v=[],k=l&&l.pointToLayer,D=l&&l.coordsToLatLng||ld,B,F,W,se;if(!p&&!h)return null;switch(h.type){case"Point":return B=D(p),Pp(k,s,B,l);case"MultiPoint":for(W=0,se=p.length;W<se;W++)B=D(p[W]),v.push(Pp(k,s,B,l));return new ua(v);case"LineString":case"MultiLineString":return F=bl(p,h.type==="LineString"?0:1,D),new da(F,l);case"Polygon":case"MultiPolygon":return F=bl(p,h.type==="Polygon"?1:2,D),new si(F,l);case"GeometryCollection":for(W=0,se=h.geometries.length;W<se;W++){var he=vl({geometry:h.geometries[W],type:"Feature",properties:s.properties},l);he&&v.push(he)}return new ua(v);case"FeatureCollection":for(W=0,se=h.features.length;W<se;W++){var be=vl(h.features[W],l);be&&v.push(be)}return new ua(v);default:throw new Error("Invalid GeoJSON object.")}}function Pp(s,l,h,p){return s?s(l,h):new xl(h,p&&p.markersInheritOptions&&p)}function ld(s){return new ce(s[1],s[0],s[2])}function bl(s,l,h){for(var p=[],v=0,k=s.length,D;v<k;v++)D=l?bl(s[v],l-1,h):(h||ld)(s[v]),p.push(D);return p}function cd(s,l){return s=re(s),s.alt!==void 0?[g(s.lng,l),g(s.lat,l),g(s.alt,l)]:[g(s.lng,l),g(s.lat,l)]}function _l(s,l,h,p){for(var v=[],k=0,D=s.length;k<D;k++)v.push(l?_l(s[k],bn(s[k])?0:l-1,h,p):cd(s[k],p));return!l&&h&&v.length>0&&v.push(v[0].slice()),v}function ii(s,l){return s.feature?r({},s.feature,{geometry:l}):wl(l)}function wl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var ud={toGeoJSON:function(s){return ii(this,{type:"Point",coordinates:cd(this.getLatLng(),s)})}};xl.include(ud),od.include(ud),yl.include(ud),da.include({toGeoJSON:function(s){var l=!bn(this._latlngs),h=_l(this._latlngs,l?1:0,!1,s);return ii(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),si.include({toGeoJSON:function(s){var l=!bn(this._latlngs),h=l&&!bn(this._latlngs[0]),p=_l(this._latlngs,h?2:l?1:0,!0,s);return l||(p=[p]),ii(this,{type:(h?"Multi":"")+"Polygon",coordinates:p})}}),ni.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(s).geometry.coordinates)}),ii(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var h=l==="GeometryCollection",p=[];return this.eachLayer(function(v){if(v.toGeoJSON){var k=v.toGeoJSON(s);if(h)p.push(k.geometry);else{var D=wl(k);D.type==="FeatureCollection"?p.push.apply(p,D.features):p.push(D)}}}),h?ii(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function Lp(s,l){return new ha(s,l)}var hw=Lp,jl=Dn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,h){this._url=s,this._bounds=oe(l),S(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&ei(this._image),this},bringToBack:function(){return this._map&&ti(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=oe(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:Ce("img");if(xe(l,"leaflet-image-layer"),this._zoomAnimated&&xe(l,"leaflet-zoom-animated"),this.options.className&&xe(l,this.options.className),l.onselectstart=x,l.onmousemove=x,l.onload=c(this.fire,this,"load"),l.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;xs(this._image,h,l)},_reset:function(){var s=this._image,l=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();mt(s,l.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){vn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),fw=function(s,l,h){return new jl(s,l,h)},Dp=jl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:Ce("video");if(xe(l,"leaflet-image-layer"),this._zoomAnimated&&xe(l,"leaflet-zoom-animated"),this.options.className&&xe(l,this.options.className),l.onselectstart=x,l.onmousemove=x,l.onloadeddata=c(this.fire,this,"load"),s){for(var h=l.getElementsByTagName("source"),p=[],v=0;v<h.length;v++)p.push(h[v].src);this._url=h.length>0?p:[l.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var D=Ce("source");D.src=this._url[k],l.appendChild(D)}}});function mw(s,l,h){return new Dp(s,l,h)}var Rp=jl.extend({_initImage:function(){var s=this._image=this._url;xe(s,"leaflet-image-layer"),this._zoomAnimated&&xe(s,"leaflet-zoom-animated"),this.options.className&&xe(s,this.options.className),s.onselectstart=x,s.onmousemove=x}});function pw(s,l,h){return new Rp(s,l,h)}var Xn=Dn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof ce||N(s))?(this._latlng=re(s),S(this,l)):(S(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&vn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&vn(this._container,1),this.bringToFront(),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(vn(this._container,0),this._removeTimeout=setTimeout(c(at,void 0,this._container),200)):at(this._container),this.options.interactive&&(ct(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=re(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ei(this._container),this},bringToBack:function(){return this._map&&ti(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof ua){l=null;var h=this._source._layers;for(var p in h)if(h[p]._map){l=h[p];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=I(this.options.offset),h=this._getAnchor();this._zoomAnimated?mt(this._container,s.add(h)):l=l.add(s).add(h);var p=this._containerBottom=-l.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=p+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});Te.include({_initOverlay:function(s,l,h,p){var v=l;return v instanceof s||(v=new s(p).setContent(l)),h&&v.setLatLng(h),v}}),Dn.include({_initOverlay:function(s,l,h,p){var v=h;return v instanceof s?(S(v,p),v._source=this):(v=l&&!p?l:new s(p,this),v.setContent(h)),v}});var Nl=Xn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Xn.prototype.openOn.call(this,s)},onAdd:function(s){Xn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ha||this._source.on("preclick",vs))},onRemove:function(s){Xn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ha||this._source.off("preclick",vs))},getEvents:function(){var s=Xn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=Ce("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Ce("div",s+"-content-wrapper",l);if(this._contentNode=Ce("div",s+"-content",h),_r(l),Ju(this._contentNode),pe(l,"contextmenu",vs),this._tipContainer=Ce("div",s+"-tip-container",l),this._tip=Ce("div",s+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Ce("a",s+"-close-button",l);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',pe(p,"click",function(v){Lt(v),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var p=s.offsetHeight,v=this.options.maxHeight,k="leaflet-popup-scrolled";v&&p>v?(l.height=v+"px",xe(s,k)):ct(s,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();mt(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(xr(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,p=this._containerWidth,v=new R(this._containerLeft,-h-this._containerBottom);v._add(ys(this._container));var k=s.layerPointToContainerPoint(v),D=I(this.options.autoPanPadding),B=I(this.options.autoPanPaddingTopLeft||D),F=I(this.options.autoPanPaddingBottomRight||D),W=s.getSize(),se=0,he=0;k.x+p+F.x>W.x&&(se=k.x+p-W.x+F.x),k.x-se-B.x<0&&(se=k.x-B.x),k.y+h+F.y>W.y&&(he=k.y+h-W.y+F.y),k.y-he-B.y<0&&(he=k.y-B.y),(se||he)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([se,he]))}},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),gw=function(s,l){return new Nl(s,l)};Te.mergeOptions({closePopupOnClick:!0}),Te.include({openPopup:function(s,l,h){return this._initOverlay(Nl,s,l,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Dn.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Nl,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof ua||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){bs(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof Ha)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Sl=Xn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Xn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Xn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Xn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ce("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,h,p=this._map,v=this._container,k=p.latLngToContainerPoint(p.getCenter()),D=p.layerPointToContainerPoint(s),B=this.options.direction,F=v.offsetWidth,W=v.offsetHeight,se=I(this.options.offset),he=this._getAnchor();B==="top"?(l=F/2,h=W):B==="bottom"?(l=F/2,h=0):B==="center"?(l=F/2,h=W/2):B==="right"?(l=0,h=W/2):B==="left"?(l=F,h=W/2):D.x<k.x?(B="right",l=0,h=W/2):(B="left",l=F+(se.x+he.x)*2,h=W/2),s=s.subtract(I(l,h,!0)).add(se).add(he),ct(v,"leaflet-tooltip-right"),ct(v,"leaflet-tooltip-left"),ct(v,"leaflet-tooltip-top"),ct(v,"leaflet-tooltip-bottom"),xe(v,"leaflet-tooltip-"+B),mt(v,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&vn(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),xw=function(s,l){return new Sl(s,l)};Te.include({openTooltip:function(s,l,h){return this._initOverlay(Sl,s,l,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Dn.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Sl,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof ua||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(pe(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),pe(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,h,p;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),p=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(l)}});var zp=ai.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(dl(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var p=I(h.bgPos);l.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function yw(s){return new zp(s)}ai.Default=Nr;var Sr=Dn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ue.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){S(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),at(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ei(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ti(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof R?s:new R(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,h=-s(-1/0,1/0),p=0,v=l.length,k;p<v;p++)k=l[p].style.zIndex,l[p]!==this._container&&k&&(h=s(h,+k));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ue.ielt9){vn(this._container,this.options.opacity);var s=+new Date,l=!1,h=!1;for(var p in this._tiles){var v=this._tiles[p];if(!(!v.current||!v.loaded)){var k=Math.min(1,(s-v.loaded)/200);vn(v.el,k),k<1?l=!0:(v.active?h=!0:this._onOpaqueTile(v),v.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(z(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=Ce("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=l-Math.abs(s-h),this._onUpdateLevel(h)):(at(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var p=this._levels[s],v=this._map;return p||(p=this._levels[s]={},p.el=Ce("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=l,p.origin=v.project(v.unproject(v.getPixelOrigin()),s).round(),p.zoom=s,this._setZoomTransform(p,v.getCenter(),v.getZoom()),x(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var s,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var p=l.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)at(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,h,p){var v=Math.floor(s/2),k=Math.floor(l/2),D=h-1,B=new R(+v,+k);B.z=+D;var F=this._tileCoordsToKey(B),W=this._tiles[F];return W&&W.active?(W.retain=!0,!0):(W&&W.loaded&&(W.retain=!0),D>p?this._retainParent(v,k,D,p):!1)},_retainChildren:function(s,l,h,p){for(var v=2*s;v<2*s+2;v++)for(var k=2*l;k<2*l+2;k++){var D=new R(v,k);D.z=h+1;var B=this._tileCoordsToKey(D),F=this._tiles[B];if(F&&F.active){F.retain=!0;continue}else F&&F.loaded&&(F.retain=!0);h+1<p&&this._retainChildren(v,k,h+1,p)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,h,p){var v=Math.round(l);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var k=this.options.updateWhenZooming&&v!==this._tileZoom;(!p||k)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,l)},_setZoomTransform:function(s,l,h){var p=this._map.getZoomScale(h,s.zoom),v=s.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(l,h)).round();ue.any3d?xs(s.el,v,p):mt(s.el,v)},_resetGrid:function(){var s=this._map,l=s.options.crs,h=this._tileSize=this.getTileSize(),p=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],p).x/h.x),Math.ceil(s.project([0,l.wrapLng[1]],p).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],p).y/h.x),Math.ceil(s.project([l.wrapLat[1],0],p).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),p=l.getZoomScale(h,this._tileZoom),v=l.project(s,this._tileZoom).floor(),k=l.getSize().divideBy(p*2);return new ee(v.subtract(k),v.add(k))},_update:function(s){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(s),v=this._pxBoundsToTileRange(p),k=v.getCenter(),D=[],B=this.options.keepBuffer,F=new ee(v.getBottomLeft().subtract([B,-B]),v.getTopRight().add([B,-B]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var W in this._tiles){var se=this._tiles[W].coords;(se.z!==this._tileZoom||!F.contains(new R(se.x,se.y)))&&(this._tiles[W].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var he=v.min.y;he<=v.max.y;he++)for(var be=v.min.x;be<=v.max.x;be++){var It=new R(be,he);if(It.z=this._tileZoom,!!this._isValidTile(It)){var St=this._tiles[this._tileCoordsToKey(It)];St?St.current=!0:D.push(It)}}if(D.sort(function(Xt,oi){return Xt.distanceTo(k)-oi.distanceTo(k)}),D.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var _n=document.createDocumentFragment();for(be=0;be<D.length;be++)this._addTile(D[be],_n);this._level.el.appendChild(_n)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!l.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(s);return oe(this.options.bounds).overlaps(p)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,h=this.getTileSize(),p=s.scaleBy(h),v=p.add(h),k=l.unproject(p,s.z),D=l.unproject(v,s.z);return[k,D]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),h=new ae(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),h=new R(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(s){var l=this._tiles[s];l&&(at(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){xe(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=x,s.onmousemove=x,ue.ielt9&&this.options.opacity<1&&vn(s,this.options.opacity)},_addTile:function(s,l){var h=this._getTilePos(s),p=this._tileCoordsToKey(s),v=this.createTile(this._wrapCoords(s),c(this._tileReady,this,s));this._initTile(v),this.createTile.length<2&&K(c(this._tileReady,this,s,null,v)),mt(v,h),this._tiles[p]={el:v,coords:s,current:!0},l.appendChild(v),this.fire("tileloadstart",{tile:v,coords:s})},_tileReady:function(s,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:s});var p=this._tileCoordsToKey(s);h=this._tiles[p],h&&(h.loaded=+new Date,this._map._fadeAnimated?(vn(h.el,0),z(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(xe(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ue.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new R(this._wrapX?m(s.x,this._wrapX):s.x,this._wrapY?m(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new ee(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function vw(s){return new Sr(s)}var ri=Sr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=S(this,l),l.detectRetina&&ue.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var h=document.createElement("img");return pe(h,"load",c(this._tileOnLoad,this,l,h)),pe(h,"error",c(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var l={r:ue.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=h),l["-y"]=h}return _(this._url,r(l,this.options))},_tileOnLoad:function(s,l){ue.ielt9?setTimeout(c(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,h){var p=this.options.errorTileUrl;p&&l.getAttribute("src")!==p&&(l.src=p),s(h,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,p=this.options.zoomOffset;return h&&(s=l-s),s+p},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=x,l.onerror=x,!l.complete)){l.src=E;var h=this._tiles[s].coords;at(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",E),Sr.prototype._removeTile.call(this,s)},_tileReady:function(s,l,h){if(!(!this._map||h&&h.getAttribute("src")===E))return Sr.prototype._tileReady.call(this,s,l,h)}});function Op(s,l){return new ri(s,l)}var Up=ri.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var h=r({},this.defaultWmsParams);for(var p in l)p in this.options||(h[p]=l[p]);l=S(this,l);var v=l.detectRetina&&ue.retina?2:1,k=this.getTileSize();h.width=k.x*v,h.height=k.y*v,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,ri.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),h=this._crs,p=Q(h.project(l[0]),h.project(l[1])),v=p.min,k=p.max,D=(this._wmsVersion>=1.3&&this._crs===Ep?[v.y,v.x,k.y,k.x]:[v.x,v.y,k.x,k.y]).join(","),B=ri.prototype.getTileUrl.call(this,s);return B+T(this.wmsParams,B,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+D},setParams:function(s,l){return r(this.wmsParams,s),l||this.redraw(),this}});function bw(s,l){return new Up(s,l)}ri.WMS=Up,Op.wms=bw;var fa=Dn.extend({options:{padding:.1},initialize:function(s){S(this,s),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var h=this._map.getZoomScale(l,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,l),k=p.multiplyBy(-h).add(v).subtract(this._map._getNewPixelOrigin(s,l));ue.any3d?xs(this._container,k,h):mt(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new ee(h,h.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Bp=fa.extend({options:{tolerance:0},getEvents:function(){var s=fa.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){fa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");pe(s,"mousemove",this._onMouseMove,this),pe(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),pe(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,at(this._container),Ye(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fa.prototype._update.call(this);var s=this._bounds,l=this._container,h=s.getSize(),p=ue.retina?2:1;mt(l,s.min),l.width=p*h.x,l.height=p*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",ue.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){fa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[d(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,h=l.next,p=l.prev;h?h.prev=p:this._drawLast=p,p?p.next=h:this._drawFirst=h,delete s._order,delete this._layers[d(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),h=[],p,v;for(v=0;v<l.length;v++){if(p=Number(l[v]),isNaN(p))return;h.push(p)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)s=p.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var h,p,v,k,D=s._parts,B=D.length,F=this._ctx;if(B){for(F.beginPath(),h=0;h<B;h++){for(p=0,v=D[h].length;p<v;p++)k=D[h][p],F[p?"lineTo":"moveTo"](k.x,k.y);l&&F.closePath()}this._fillStroke(F,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,h=this._ctx,p=Math.max(Math.round(s._radius),1),v=(Math.max(Math.round(s._radiusY),1)||p)/p;v!==1&&(h.save(),h.scale(1,v)),h.beginPath(),h.arc(l.x,l.y/v,p,0,Math.PI*2,!1),v!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,l){var h=l.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),h,p,v=this._drawFirst;v;v=v.next)h=v.layer,h.options.interactive&&h._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(p=h);this._fireEvent(p?[p]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(ct(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var h,p,v=this._drawFirst;v;v=v.next)h=v.layer,h.options.interactive&&h._containsPoint(l)&&(p=h);p!==this._hoveredLayer&&(this._handleMouseOut(s),p&&(xe(this._container,"leaflet-interactive"),this._fireEvent([p],s,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,h){this._map._fireDOMEvent(l,h||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var h=l.next,p=l.prev;if(h)h.prev=p;else return;p?p.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var h=l.next,p=l.prev;if(p)p.next=h;else return;h?h.prev=p:p&&(this._drawLast=p),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function Hp(s){return ue.canvas?new Bp(s):null}var Tr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),_w={_initContainer:function(){this._container=Ce("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(fa.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=Tr("shape");xe(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=Tr("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[d(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;at(l),s.removeInteractiveTarget(l),delete this._layers[d(s)]},_updateStyle:function(s){var l=s._stroke,h=s._fill,p=s.options,v=s._container;v.stroked=!!p.stroke,v.filled=!!p.fill,p.stroke?(l||(l=s._stroke=Tr("stroke")),v.appendChild(l),l.weight=p.weight+"px",l.color=p.color,l.opacity=p.opacity,p.dashArray?l.dashStyle=N(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=p.lineCap.replace("butt","flat"),l.joinstyle=p.lineJoin):l&&(v.removeChild(l),s._stroke=null),p.fill?(h||(h=s._fill=Tr("fill")),v.appendChild(h),h.color=p.fillColor||p.color,h.opacity=p.fillOpacity):h&&(v.removeChild(h),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),h=Math.round(s._radius),p=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+p+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){ei(s._container)},_bringToBack:function(s){ti(s._container)}},Tl=ue.vml?Tr:ft,Ar=fa.extend({_initContainer:function(){this._container=Tl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Tl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),Ye(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fa.prototype._update.call(this);var s=this._bounds,l=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),mt(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Tl("path");s.options.className&&xe(l,s.options.className),s.options.interactive&&xe(l,"leaflet-interactive"),this._updateStyle(s),this._layers[d(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){at(s._path),s.removeInteractiveTarget(s._path),delete this._layers[d(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,h=s.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Nt(s._parts,l))},_updateCircle:function(s){var l=s._point,h=Math.max(Math.round(s._radius),1),p=Math.max(Math.round(s._radiusY),1)||h,v="a"+h+","+p+" 0 1,0 ",k=s._empty()?"M0 0":"M"+(l.x-h)+","+l.y+v+h*2+",0 "+v+-h*2+",0 ";this._setPath(s,k)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){ei(s._path)},_bringToBack:function(s){ti(s._path)}});ue.vml&&Ar.include(_w);function Ip(s){return ue.svg||ue.vml?new Ar(s):null}Te.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&Hp(s)||Ip(s)}});var Fp=si.extend({initialize:function(s,l){si.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=oe(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function ww(s,l){return new Fp(s,l)}Ar.create=Tl,Ar.pointsToPath=Nt,ha.geometryToLayer=vl,ha.coordsToLatLng=ld,ha.coordsToLatLngs=bl,ha.latLngToCoords=cd,ha.latLngsToCoords=_l,ha.getFeature=ii,ha.asFeature=wl,Te.mergeOptions({boxZoom:!0});var qp=Vn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){pe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ye(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),yr(),$u(),this._startPoint=this._map.mouseEventToContainerPoint(s),pe(document,{contextmenu:bs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Ce("div","leaflet-zoom-box",this._container),xe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new ee(this._point,this._startPoint),h=l.getSize();mt(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(at(this._box),ct(this._container,"leaflet-crosshair")),vr(),Gu(),Ye(document,{contextmenu:bs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var l=new ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Te.addInitHook("addHandler","boxZoom",qp),Te.mergeOptions({doubleClickZoom:!0});var Zp=Vn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,h=l.getZoom(),p=l.options.zoomDelta,v=s.originalEvent.shiftKey?h-p:h+p;l.options.doubleClickZoom==="center"?l.setZoom(v):l.setZoomAround(s.containerPoint,v)}});Te.addInitHook("addHandler","doubleClickZoom",Zp),Te.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var $p=Vn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Ba(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}xe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ct(this._map._container,"leaflet-grab"),ct(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=oe(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),h=this._initialWorldOffset,p=this._draggable._newPos.x,v=(p-l+h)%s+l-h,k=(p+l+h)%s-l-h,D=Math.abs(v+h)<Math.abs(k+h)?v:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=D},_onDragEnd:function(s){var l=this._map,h=l.options,p=!h.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),p)l.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,D=h.easeLinearity,B=v.multiplyBy(D/k),F=B.distanceTo([0,0]),W=Math.min(h.inertiaMaxSpeed,F),se=B.multiplyBy(W/F),he=W/(h.inertiaDeceleration*D),be=se.multiplyBy(-he/2).round();!be.x&&!be.y?l.fire("moveend"):(be=l._limitOffset(be,l.options.maxBounds),K(function(){l.panBy(be,{duration:he,easeLinearity:D,noMoveStart:!0,animate:!0})}))}}});Te.addInitHook("addHandler","dragging",$p),Te.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Gp=Vn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),pe(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ye(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,h=s.scrollTop||l.scrollTop,p=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(p,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},h=this.keyCodes,p,v;for(p=0,v=h.left.length;p<v;p++)l[h.left[p]]=[-1*s,0];for(p=0,v=h.right.length;p<v;p++)l[h.right[p]]=[s,0];for(p=0,v=h.down.length;p<v;p++)l[h.down[p]]=[0,s];for(p=0,v=h.up.length;p<v;p++)l[h.up[p]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},h=this.keyCodes,p,v;for(p=0,v=h.zoomIn.length;p<v;p++)l[h.zoomIn[p]]=s;for(p=0,v=h.zoomOut.length;p<v;p++)l[h.zoomOut[p]]=-s},_addHooks:function(){pe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ye(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,h=this._map,p;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(p=this._panKeys[l],s.shiftKey&&(p=I(p).multiplyBy(3)),h.options.maxBounds&&(p=h._limitOffset(I(p),h.options.maxBounds)),h.options.worldCopyJump){var v=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(p)));h.panTo(v)}else h.panBy(p)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;bs(s)}}});Te.addInitHook("addHandler","keyboard",Gp),Te.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Yp=Vn.extend({addHooks:function(){pe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ye(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=xp(s),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var p=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),p),bs(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,k=h?Math.ceil(v/h)*h:v,D=s._limitZoom(l+(this._delta>0?k:-k))-l;this._delta=0,this._startTime=null,D&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+D):s.setZoomAround(this._lastMousePos,l+D))}});Te.addInitHook("addHandler","scrollWheelZoom",Yp);var jw=600;Te.mergeOptions({tapHold:ue.touchNative&&ue.safari&&ue.mobile,tapTolerance:15});var Vp=Vn.extend({addHooks:function(){pe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ye(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new R(l.clientX,l.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(pe(document,"touchend",Lt),pe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),jw),pe(document,"touchend touchcancel contextmenu",this._cancel,this),pe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Ye(document,"touchend",Lt),Ye(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Ye(document,"touchend touchcancel contextmenu",this._cancel,this),Ye(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new R(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Te.addInitHook("addHandler","tapHold",Vp),Te.mergeOptions({touchZoom:ue.touch,bounceAtZoomLimits:!0});var Xp=Vn.extend({addHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),pe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ct(this._map._container,"leaflet-touch-zoom"),Ye(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(s.touches[0]),p=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(p)._divideBy(2))),this._startDist=h.distanceTo(p),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),pe(document,"touchmove",this._onTouchMove,this),pe(document,"touchend touchcancel",this._onTouchEnd,this),Lt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(s.touches[0]),p=l.mouseEventToContainerPoint(s.touches[1]),v=h.distanceTo(p)/this._startDist;if(this._zoom=l.getScaleZoom(v,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&v<1||this._zoom>l.getMaxZoom()&&v>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var k=h._add(p)._divideBy(2)._subtract(this._centerPoint);if(v===1&&k.x===0&&k.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var D=c(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K(D,this,!0),Lt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Ye(document,"touchmove",this._onTouchMove,this),Ye(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Te.addInitHook("addHandler","touchZoom",Xp),Te.BoxZoom=qp,Te.DoubleClickZoom=Zp,Te.Drag=$p,Te.Keyboard=Gp,Te.ScrollWheelZoom=Yp,Te.TapHold=Vp,Te.TouchZoom=Xp,n.Bounds=ee,n.Browser=ue,n.CRS=te,n.Canvas=Bp,n.Circle=od,n.CircleMarker=yl,n.Class=Y,n.Control=Ln,n.DivIcon=zp,n.DivOverlay=Xn,n.DomEvent=I1,n.DomUtil=B1,n.Draggable=Ba,n.Evented=V,n.FeatureGroup=ua,n.GeoJSON=ha,n.GridLayer=Sr,n.Handler=Vn,n.Icon=ai,n.ImageOverlay=jl,n.LatLng=ce,n.LatLngBounds=ae,n.Layer=Dn,n.LayerGroup=ni,n.LineUtil=ew,n.Map=Te,n.Marker=xl,n.Mixin=V1,n.Path=Ha,n.Point=R,n.PolyUtil=X1,n.Polygon=si,n.Polyline=da,n.Popup=Nl,n.PosAnimation=yp,n.Projection=tw,n.Rectangle=Fp,n.Renderer=fa,n.SVG=Ar,n.SVGOverlay=Rp,n.TileLayer=ri,n.Tooltip=Sl,n.Transformation=jt,n.Util=X,n.VideoOverlay=Dp,n.bind=c,n.bounds=Q,n.canvas=Hp,n.circle=cw,n.circleMarker=lw,n.control=wr,n.divIcon=yw,n.extend=r,n.featureGroup=iw,n.geoJSON=Lp,n.geoJson=hw,n.gridLayer=vw,n.icon=rw,n.imageOverlay=fw,n.latLng=re,n.latLngBounds=oe,n.layerGroup=sw,n.map=F1,n.marker=ow,n.point=I,n.polygon=dw,n.polyline=uw,n.popup=gw,n.rectangle=ww,n.setOptions=S,n.stamp=d,n.svg=Ip,n.svgOverlay=pw,n.tileLayer=Op,n.tooltip=xw,n.transformation=Gt,n.version=a,n.videoOverlay=mw;var Nw=window.L;n.noConflict=function(){return window.L=Nw,this},window.L=n})})(Lf,Lf.exports);var Bu=Lf.exports;const JM=Dy(Bu);function g1(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function x1(e,t){return t==null?function(a,r){const o=A.useRef(void 0);return o.current||(o.current=e(a,r)),o}:function(a,r){const o=A.useRef(void 0);o.current||(o.current=e(a,r));const c=A.useRef(a),{instance:u}=o.current;return A.useEffect(function(){c.current!==a&&(t(u,a,c.current),c.current=a)},[u,a,t]),o}}function eP(e,t){A.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function y1(e){return function(n){const a=m1(),r=e(p1(n,a),a);return GM(a.map,n.attribution),WM(r.current,n.eventHandlers),eP(r.current,a),r}}function tP(e,t){const n=x1(e,t),a=y1(n);return KM(a)}function nP(e,t){const n=x1(e,t),a=y1(n);return QM(a)}function aP(e,t,n){const{opacity:a,zIndex:r}=t;a!=null&&a!==n.opacity&&e.setOpacity(a),r!=null&&r!==n.zIndex&&e.setZIndex(r)}function ap(){return m1().map}function sP(e){const t=ap();return A.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function iP({bounds:e,boundsOptions:t,center:n,children:a,className:r,id:o,placeholder:c,style:u,whenReady:d,zoom:f,...m},x){const[g]=A.useState({className:r,id:o,style:u}),[y,j]=A.useState(null),S=A.useRef(void 0);A.useImperativeHandle(x,()=>(y==null?void 0:y.map)??null,[y]);const T=A.useCallback(_=>{if(_!==null&&!S.current){const N=new Bu.Map(_,m);S.current=N,n!=null&&f!=null?N.setView(n,f):e!=null&&N.fitBounds(e,t),d!=null&&N.whenReady(d),j(VM(N))}},[]);A.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const b=y?Hs.createElement(np,{value:y},a):c??null;return Hs.createElement("div",{...g,ref:T},b)}const rP=A.forwardRef(iP),v1=tP(function({position:t,...n},a){const r=new Bu.Marker(t,n);return g1(r,XM(a,{overlayContainer:r}))},function(t,n,a){n.position!==a.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==a.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==a.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==a.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),oP=nP(function({url:t,...n},a){const r=new Bu.TileLayer(t,p1(n,a));return g1(r,a)},function(t,n,a){aP(t,n,a);const{url:r}=n;r!=null&&r!==a.url&&t.setUrl(r)}),b1=new JM.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",iconSize:[25,41],iconAnchor:[12,41]}),lP=({setFarmLocation:e})=>{const[t,n]=A.useState(null),a=ap();return sP({click(r){const{lat:o,lng:c}=r.latlng;n([o,c]),e({lat:o,lng:c}),a.flyTo(r.latlng,a.getZoom())}}),t===null?null:i.jsx(v1,{position:t,icon:b1})},cP=({setMapInstance:e})=>{const t=ap();return A.useEffect(()=>{e(t)},[t,e]),null},uP=()=>{const[e,t]=A.useState(null),[n,a]=A.useState(!1),[r,o]=A.useState(null),[c,u]=A.useState("standard"),d=Hs.useMemo(()=>({lat:31.1471,lng:75.3412}),[]),f=()=>{u(y=>y==="standard"?"satellite":"standard")},m=()=>c==="satellite"?"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}":"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",x=()=>c==="satellite"?"&copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community":"&copy; <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors",g=A.useCallback(()=>{n||(a(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(y=>{const j={lat:y.coords.latitude,lng:y.coords.longitude};t(j),r&&r.flyTo([j.lat,j.lng],15),a(!1)},y=>{console.error("Error getting location:",y),t(d),r&&r.flyTo([d.lat,d.lng],15),a(!1)}):(t(d),r&&r.flyTo([d.lat,d.lng],15),a(!1)))},[r,d,n]);return A.useEffect(()=>{!e&&!n&&g()},[e,n,g]),i.jsxs(Ne,{className:"h-full",children:[i.jsx(Xe,{className:"pb-3",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(Ke,{className:"text-lg font-semibold text-gray-800",children:i.jsx(w,{children:"Farm Location"})})})}),i.jsx(Ee,{className:"p-0",children:i.jsxs("div",{className:"relative h-80 w-full rounded-xl overflow-hidden shadow-lg border border-gray-200",children:[i.jsxs(rP,{center:[d.lat,d.lng],zoom:15,style:{height:"100%",width:"100%"},zoomControl:!1,children:[i.jsx(oP,{url:m(),attribution:x()}),i.jsx(cP,{setMapInstance:o}),i.jsx(lP,{setFarmLocation:t}),e&&i.jsx(v1,{position:[e.lat,e.lng],icon:b1})]},c),i.jsx("button",{onClick:g,disabled:n,className:"absolute top-4 right-4 w-10 h-10 bg-white rounded-full shadow-lg border border-gray-300 flex items-center justify-center hover:shadow-xl transition-all duration-200 disabled:opacity-50 z-[1000]",title:"Get current location",children:n?i.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}):i.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),i.jsx("button",{onClick:f,className:"absolute top-4 left-4 w-12 h-10 bg-white rounded shadow-lg border border-gray-300 flex items-center justify-center hover:shadow-xl transition-all duration-200 z-[1000]",title:`Switch to ${c==="standard"?"satellite":"standard"} view`,children:i.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c==="standard"?i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"}):i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),i.jsxs("div",{className:"absolute top-16 right-4 flex flex-col bg-white rounded-lg shadow-lg border border-gray-300 overflow-hidden z-[1000]",children:[i.jsx("button",{onClick:()=>r&&r.setZoom(r.getZoom()+1),className:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 transition-colors border-b border-gray-200",title:"Zoom in",children:i.jsx("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),i.jsx("button",{onClick:()=>r&&r.setZoom(r.getZoom()-1),className:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 transition-colors",title:"Zoom out",children:i.jsx("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 12H6"})})})]}),e&&i.jsx("div",{className:"absolute bottom-4 right-4 bg-white/95 backdrop-blur-sm rounded-lg px-3 py-2 shadow-lg border border-gray-200 z-[1000]",children:i.jsxs("div",{className:"font-mono text-xs text-gray-900",children:[e.lat.toFixed(6),", ",e.lng.toFixed(6)]})})]})})]})},dP=({predictions:e=[],loading:t=!1})=>{const{isAuthenticated:n,user:a}=Pt(),r=on(),[o,c]=A.useState([]),[u,d]=A.useState(!1),[f,m]=A.useState(null),x=A.useCallback(async()=>{m(null),d(!0);try{const C=(a==null?void 0:a._id)||(a==null?void 0:a.id)||(a==null?void 0:a.userId);if(!C){m("User ID not available");return}const E=await sa.getUserPredictions(C);if(E.success){const P=Array.isArray(E.data)?E.data.slice(0,4):[];console.log("Fetched predictions:",P.length),c(P)}else m(E.error||"Failed to fetch predictions")}catch(C){console.error("Fetch error:",C),m(C.message||"Failed to fetch predictions")}finally{d(!1)}},[a]);A.useEffect(()=>{if(console.log("PastPredictionsTable: auto-fetch check --",{sharedCount:Array.isArray(e)?e.length:"n/a",isAuthenticated:n,hasUser:!!a}),Array.isArray(e)&&e.length>0){console.log("Using shared predictions:",e.length);const C=e.slice(0,4);c(C),d(t);return}if(n&&a){x();return}},[e,t,n,a,x]);const g=C=>{try{let E=C.createdAt||C.plantingDate;return E&&typeof E=="object"&&E.$date&&(E=E.$date),new Date(E).toLocaleDateString()}catch(E){return console.error("Date formatting error:",E),"N/A"}},y=C=>{var P,M;let E=C.predictedYield;return!E&&((M=(P=C.externalData)==null?void 0:P.mlResponse)!=null&&M.yield_kg_ha)&&(E=C.externalData.mlResponse.yield_kg_ha),!E&&C.yield&&typeof C.yield=="object"&&(E=C.yield.predicted),!E||isNaN(Number(E))?"N/A":Math.round(Number(E))},j=C=>{const E=C.cropType||C.crop||"Unknown";return E.charAt(0).toUpperCase()+E.slice(1).toLowerCase()},S=C=>{if(C.location){const{district:E,state:P}=C.location;if(E&&P)return`${E}, ${P}`}return""},T=async C=>{var E;console.log("Downloading PDF report for prediction:",C._id);try{const P=((E=C._id)==null?void 0:E.$oid)||C._id,M=await sa.downloadPredictionReport(P);if(M.success){const H=new Blob([M.data],{type:"application/pdf"}),J=window.URL.createObjectURL(H),$=document.createElement("a");$.href=J,$.download=`prediction-report-${P}.pdf`,document.body.appendChild($),$.click(),window.URL.revokeObjectURL(J),document.body.removeChild($)}else alert(`Download failed: ${M.error}`)}catch(P){console.error("Download error:",P),alert("Failed to download PDF report. Please try again.")}},b=C=>{var P;const E=((P=C._id)==null?void 0:P.$oid)||C._id;r(`/prediction/${E}`)},_=[{_id:"demo-1",cropType:"wheat",createdAt:{$date:"2024-05-15T00:00:00.000Z"},predictedYield:3200,location:{district:"Baroda",state:"Gujarat"}},{_id:"demo-2",cropType:"rice",createdAt:{$date:"2024-04-20T00:00:00.000Z"},predictedYield:4500,location:{district:"Pune",state:"Maharashtra"}},{_id:"demo-3",cropType:"groundnut",createdAt:{$date:"2024-03-25T00:00:00.000Z"},predictedYield:2800,location:{district:"Ahmedabad",state:"Gujarat"}}],N=o.length>0?o:!u&&!n?_:[];return i.jsxs(Ne,{className:"border-border bg-background-card",children:[i.jsx(Xe,{children:i.jsx(Ke,{className:"text-text-primary text-base",children:i.jsx(w,{children:"Recent Predictions"})})}),i.jsxs(Ee,{children:[u&&i.jsx("div",{className:"text-center py-4 text-text-secondary",children:i.jsx(w,{children:"Loading..."})}),f&&i.jsxs("div",{className:"text-center py-4 text-status-error",children:[i.jsx(w,{children:"Error"}),": ",f]}),!u&&!f&&N.length===0&&i.jsx("div",{className:"text-center py-4 text-text-secondary",children:i.jsx(w,{children:"No predictions available"})}),!u&&!f&&N.length>0&&i.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-96",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("th",{className:"pb-2 text-text-secondary font-medium",children:i.jsx(w,{children:"Crop"})}),i.jsx("th",{className:"pb-2 text-text-secondary font-medium",children:i.jsx(w,{children:"Date"})}),i.jsx("th",{className:"pb-2 text-text-secondary font-medium",children:i.jsx(w,{children:"Predicted"})}),i.jsx("th",{className:"pb-2 text-text-secondary font-medium",children:i.jsx(w,{children:"Download"})}),i.jsx("th",{className:"pb-2 text-text-secondary font-medium",children:i.jsx(w,{children:"View"})})]})}),i.jsx("tbody",{children:N.map((C,E)=>{const P=y(C),M=j(C),H=S(C);return i.jsxs("tr",{className:"border-b border-border last:border-b-0",children:[i.jsx("td",{className:"py-2 text-text-primary font-medium",children:i.jsxs("div",{children:[M,H&&i.jsx("div",{className:"text-xs text-text-secondary",children:H})]})}),i.jsx("td",{className:"py-2 text-text-secondary",children:g(C)}),i.jsxs("td",{className:"py-2 text-text-primary",children:[P," ",P!=="N/A"?"kg/ha":""]}),i.jsx("td",{className:"py-2",children:i.jsx("button",{onClick:()=>T(C),className:"p-1 text-primary hover:text-primary/80 hover:bg-primary/10 rounded transition-colors",title:"Download PDF Report",children:i.jsx(Xb,{size:16})})}),i.jsx("td",{className:"py-2",children:i.jsx("button",{onClick:()=>b(C),className:"p-1 text-primary hover:text-primary/80 hover:bg-primary/10 rounded transition-colors",title:"View Prediction",children:i.jsx(ko,{size:16})})})]},C._id||E)})})]})})]})]})},hP=({predictions:e=[],loading:t=!1})=>{const[n,a]=A.useState({label:"Recent Prediction",value:"",trend:null});return A.useEffect(()=>{var j,S,T,b;if(console.log(" PredictionSummary: received predictions:",e),t)return;if(!Array.isArray(e)||e.length===0){console.log(" PredictionSummary: no predictions available"),a({label:"Recent Predictions",value:"No predictions yet",trend:null});return}console.log(" PredictionSummary: processing predictions:",e.length,"items");const r=e[0],o=e[1];console.log(" PredictionSummary: latest prediction data:",r),console.log(" PredictionSummary: next prediction data:",o);const c=r.cropType||r.crop||"Crop",u=c.charAt(0).toUpperCase()+c.slice(1).toLowerCase();console.log(" PredictionSummary: extracted crop:",{raw:c,display:u});let d=r.predictedYield;console.log(" PredictionSummary: predictedYield from main field:",d),!d&&((S=(j=r.externalData)==null?void 0:j.mlResponse)!=null&&S.yield_kg_ha)&&(d=r.externalData.mlResponse.yield_kg_ha,console.log(" PredictionSummary: using ML response yield:",d));let f="N/A";d&&!isNaN(Number(d))&&(f=Math.round(Number(d)));const x=`${u}: ${f} kg/ha`;console.log(" PredictionSummary: final display value:",x);let g=null;if(o){let _=o.predictedYield;if(!_&&((b=(T=o.externalData)==null?void 0:T.mlResponse)!=null&&b.yield_kg_ha)&&(_=o.externalData.mlResponse.yield_kg_ha),console.log(" PredictionSummary: trend calculation:",{current:d,previous:_}),_&&d&&!isNaN(Number(d))&&!isNaN(Number(_))){const N=(Number(d)-Number(_))/Math.max(1,Number(_))*100;g=`${N>=0?"+":""}${Math.round(N)}%`,console.log(" PredictionSummary: calculated trend:",g)}}const y={label:"Recent Predictions",value:x,trend:g};console.log(" PredictionSummary: setting final summary:",y),a(y)},[e,t]),i.jsx("div",{className:"rounded-lg border border-border bg-background-card p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:n.label})}),i.jsx("p",{className:"mt-2 text-lg font-medium text-text-primary",children:t?i.jsx(w,{children:"Loading..."}):n.value}),n.trend&&i.jsx("div",{className:"mt-1 flex items-center gap-1"})]}),i.jsx("div",{className:"h-12 w-12 rounded-lg bg-background ring-1 ring-border flex items-center justify-center text-primary text-xl",children:""})]})})},fP=({imageUrl:e,crop:t,disease:n})=>{const[a,r]=A.useState(!1),o=({crop:c,disease:u})=>{const d=(m,x)=>x!=null&&x.toLowerCase().includes("blight")||x!=null&&x.toLowerCase().includes("bacterial")?"bg-red-500":x!=null&&x.toLowerCase().includes("healthy")?"bg-green-500":"bg-yellow-500",f=m=>{var g;const x={tomato:"",potato:"","bell pepper":"",pepper:"",wheat:"",corn:"",rice:"",default:((g=m==null?void 0:m.charAt(0))==null?void 0:g.toUpperCase())||""};return x[m==null?void 0:m.toLowerCase()]||x.default};return i.jsx("div",{className:`w-10 h-10 rounded-full ${d(c,u)} flex items-center justify-center text-white text-sm font-medium`,children:f(c)})};return!e||a?i.jsx(o,{crop:t,disease:n}):i.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-border",children:i.jsx("img",{src:e,alt:`${t} - ${n}`,className:"w-full h-full object-cover",onError:()=>r(!0)})})},mP=({predictions:e=[],loading:t=!1,onView:n})=>{const{user:a,isAuthenticated:r}=Pt(),[o,c]=A.useState([]),[u,d]=A.useState(!1),[f,m]=A.useState(null);A.useEffect(()=>{(async()=>{if(console.log(" RecentDiseasePredictions: Starting disease data fetch..."),console.log(" RecentDiseasePredictions: Auth status:",{isAuthenticated:r}),console.log(" RecentDiseasePredictions: User data:",{user:a,userId:(a==null?void 0:a.id)||(a==null?void 0:a._id)}),!r){console.log(" RecentDiseasePredictions: User not authenticated, skipping disease fetch"),c([]),d(!1);return}if(!(a!=null&&a.id||a!=null&&a._id)){console.log(" RecentDiseasePredictions: No user ID available, skipping disease fetch"),c([]),d(!1);return}console.log(" RecentDiseasePredictions: All conditions met, proceeding with disease fetch"),d(!0),m(null);try{const T=a.id||a._id;console.log(" RecentDiseasePredictions: Calling getRecentDiseasePredictions with userId:",T);const b=await MM.getRecentDiseasePredictions(T,5);if(console.log(" RecentDiseasePredictions: API response received:",b),console.log(" RecentDiseasePredictions: Response success:",b.success),console.log(" RecentDiseasePredictions: Response data:",b.data),b.success){const _=Array.isArray(b.data)?b.data:[];console.log(" RecentDiseasePredictions: Normalized disease array:",_),console.log(" RecentDiseasePredictions: Array length:",_.length),c(_),console.log(" RecentDiseasePredictions: Disease data set successfully:",_.length,"items")}else console.log(" RecentDiseasePredictions: API call failed:",b.error),m(b.error),c([])}catch(T){console.error(" RecentDiseasePredictions: Unexpected error fetching disease data:",T),console.error(" RecentDiseasePredictions: Error name:",T.name),console.error(" RecentDiseasePredictions: Error message:",T.message),console.error(" RecentDiseasePredictions: Error stack:",T.stack),m(T.message||"Failed to fetch disease data"),c([])}finally{d(!1),console.log(" RecentDiseasePredictions: Disease fetch completed")}})()},[a,r]);const x=e.map(S=>{let T="Punjab, Amritsar";return S.location&&(typeof S.location=="string"?T=S.location:S.location.state&&S.location.district?T=`${S.location.district}, ${S.location.state}`:S.location.district?T=S.location.district:S.location.state&&(T=S.location.state)),{id:S.id,image:S.crop,crop:S.crop||"Unknown",date:new Date(S.createdAt||S.date||Date.now()).toLocaleDateString(),disease:S.predictedDisease||S.disease||"Unknown Disease",location:T,imageUrl:S.imageUrl}}),g=[{id:"sample-1",image:"tomato",crop:"Tomato",date:"9/10/2025",disease:"Late Blight",location:"Punjab, Amritsar",imageUrl:null},{id:"sample-2",image:"potato",crop:"Potato",date:"9/9/2025",disease:"Healthy",location:"Punjab, Amritsar",imageUrl:null},{id:"sample-3",image:"bell pepper",crop:"Bell Pepper",date:"9/9/2025",disease:"Bacterial Spot",location:"Punjab, Amritsar",imageUrl:null}];let y=[],j=t||u;return o.length>0?y=o.map(S=>({id:S.id,image:S.crop,crop:S.crop,date:new Date(S.date).toLocaleDateString(),disease:S.disease,location:S.location,imageUrl:S.imageUrl})):x.length>0?y=x:r?y=[]:y=g,j?i.jsxs("div",{className:"rounded-lg border border-border bg-background-card p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:i.jsx(w,{children:"Recent Disease Predictions"})}),i.jsx("div",{className:"space-y-3",children:[...Array(3)].map((S,T)=>i.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-background rounded animate-pulse",children:[i.jsx("div",{className:"w-10 h-10 bg-border rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-border rounded w-1/4"}),i.jsx("div",{className:"h-3 bg-border rounded w-1/3"})]})]},T))})]}):f&&r?i.jsxs("div",{className:"rounded-lg border border-border bg-background-card p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:i.jsx(w,{children:"Recent Disease Predictions"})}),i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"text-status-error mb-2",children:""}),i.jsx("p",{className:"text-text-secondary text-sm mb-2",children:i.jsx(w,{children:"Unable to load disease predictions"})}),i.jsx("p",{className:"text-text-secondary text-xs",children:f})]})]}):y.length===0&&r?i.jsxs("div",{className:"rounded-lg border border-border bg-background-card p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:i.jsx(w,{children:"Recent Disease Predictions"})}),i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"text-text-secondary mb-2",children:""}),i.jsx("p",{className:"text-text-secondary text-sm",children:i.jsx(w,{children:"No disease predictions yet"})}),i.jsx("p",{className:"text-text-secondary text-xs mt-1",children:i.jsx(w,{children:"Upload plant images to get disease predictions"})})]})]}):i.jsxs("div",{className:"rounded-lg border border-border bg-background-card p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:i.jsx(w,{children:"Recent Disease Predictions"})}),i.jsx("div",{className:"overflow-hidden",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-text-secondary text-sm",children:[i.jsx("th",{className:"text-left pb-3 font-medium",children:i.jsx(w,{children:"Image"})}),i.jsx("th",{className:"text-left pb-3 font-medium",children:i.jsx(w,{children:"Crop"})}),i.jsx("th",{className:"text-left pb-3 font-medium",children:i.jsx(w,{children:"Date"})}),i.jsx("th",{className:"text-left pb-3 font-medium",children:i.jsx(w,{children:"Disease"})}),i.jsx("th",{className:"text-left pb-3 font-medium",children:i.jsx(w,{children:"View"})})]})}),i.jsx("tbody",{className:"space-y-2",children:y.map((S,T)=>i.jsxs("tr",{className:"border-b border-border last:border-b-0",children:[i.jsx("td",{className:"py-3",children:i.jsx(fP,{imageUrl:S.imageUrl,crop:S.crop,disease:S.disease})}),i.jsx("td",{className:"py-3",children:i.jsx("div",{className:"text-text-primary font-medium",children:S.crop})}),i.jsx("td",{className:"py-3 text-text-secondary text-sm",children:S.date}),i.jsx("td",{className:"py-3",children:i.jsx("span",{className:`font-medium ${S.disease.toLowerCase().includes("healthy")?"text-status-success":S.disease.toLowerCase().includes("blight")||S.disease.toLowerCase().includes("bacterial")?"text-status-error":"text-status-warning"}`,children:S.disease})}),i.jsx("td",{className:"py-3",children:i.jsx("button",{onClick:()=>n==null?void 0:n(S.id),className:"text-primary hover:text-primary/80 transition-colors","aria-label":`View prediction for ${S.crop}`,children:i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]},S.id))})]})})]})},pP=()=>{const{user:e,isAuthenticated:t}=Pt(),[n,a]=A.useState([]),[r,o]=A.useState(!1);return A.useEffect(()=>{(async()=>{if(console.log(" Dashboard: Starting prediction fetch..."),console.log(" Dashboard: Auth status:",{isAuthenticated:t}),console.log(" Dashboard: User data:",{user:e,userId:(e==null?void 0:e.id)||(e==null?void 0:e._id)}),!t){console.log(" Dashboard: User not authenticated, skipping prediction fetch"),a([]),o(!1);return}if(!(e!=null&&e.id||e!=null&&e._id)){console.log(" Dashboard: No user ID available, skipping prediction fetch"),a([]),o(!1);return}console.log(" Dashboard: All conditions met, proceeding with fetch"),o(!0);try{const u=e.id||e._id;console.log(" Dashboard: Calling getUserPredictions with userId:",u);const d=await sa.getUserPredictions(u);if(console.log(" Dashboard: API response received:",d),console.log(" Dashboard: Response success:",d.success),console.log(" Dashboard: Response data:",d.data),d.success){const f=Array.isArray(d.data)?d.data:[];console.log(" Dashboard: Normalized predictions array:",f),console.log(" Dashboard: Array length:",f.length),a(f),console.log(" Dashboard: Predictions set successfully:",f.length,"items")}else console.log(" Dashboard: API call failed:",d.error),a([])}catch(u){console.error(" Dashboard: Unexpected error fetching predictions:",u),console.error(" Dashboard: Error name:",u.name),console.error(" Dashboard: Error message:",u.message),console.error(" Dashboard: Error stack:",u.stack),a([])}finally{o(!1),console.log(" Dashboard: Prediction fetch completed")}})()},[e,t]),i.jsx("div",{className:"min-h-screen bg-background text-text-primary",children:i.jsxs("main",{className:"mx-auto max-w-7xl px-4 py-6",children:[i.jsxs("header",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-semibold text-text-primary",children:i.jsx(w,{children:"Dashboard"})}),i.jsx("p",{className:"mt-1 text-sm text-text-secondary",children:t?i.jsxs(i.Fragment,{children:[i.jsx(w,{children:"Welcome back"}),", ",(e==null?void 0:e.name)||"User","! ",i.jsx(w,{children:"Here's your farm's overview."})]}):i.jsx(w,{children:"Welcome to AgriVision Dashboard! This is a demo preview."})})]}),!t&&i.jsx("div",{className:"mb-6 p-4 bg-primary/10 border border-primary/20 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-primary font-medium",children:i.jsx(w,{children:"Demo Mode"})}),i.jsx("p",{className:"text-sm text-text-secondary",children:i.jsx(w,{children:"You're viewing a demo version. Sign up to access full features!"})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Me,{to:"/login",children:i.jsx(Re,{variant:"outline",size:"sm",children:i.jsx(w,{children:"Login"})})}),i.jsx(Me,{to:"/signup",children:i.jsx(Re,{size:"sm",children:i.jsx(w,{children:"Sign Up"})})})]})]})}),i.jsx(f1,{children:i.jsx(w,{children:"Heads up! A frost is predicted for tonight. Consider taking preventive measures for sensitive crops."})}),i.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-3",children:[i.jsx(hP,{predictions:n,loading:r}),i.jsx(ZM,{}),i.jsx($M,{})]}),i.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-2",children:[i.jsx(dP,{predictions:n,loading:r}),i.jsx(uP,{})]}),i.jsx("div",{className:"mt-6",children:i.jsx(mP,{predictions:n,loading:r,onView:c=>console.log("View disease prediction",c)})})]})})},gP=()=>{const{user:e}=Pt(),t=n=>{if(!n)return"2024";try{return new Date(n).getFullYear().toString()}catch{return"2024"}};return i.jsx(Ne,{className:"border-border bg-background-card",children:i.jsx(Ee,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-24 w-24 rounded-full bg-primary/10 border-2 border-border flex items-center justify-center",children:i.jsx(Qb,{size:40,className:"text-primary"})}),i.jsx("span",{className:"absolute bottom-0 right-0 h-6 w-6 rounded-full bg-primary ring-2 ring-background-card","aria-hidden":!0})]}),i.jsx("h3",{className:"mt-4 text-text-primary font-semibold text-lg",children:(e==null?void 0:e.name)||"User"}),i.jsx("p",{className:"text-sm text-text-secondary",children:i.jsx(w,{children:"Farmer"})}),i.jsxs("p",{className:"text-xs text-text-secondary mt-1",children:[i.jsx(w,{children:"Joined in"})," ",t((e==null?void 0:e.createdAt)||(e==null?void 0:e.joinedDate))]})]})})})},kt=({label:e,type:t="text",value:n,onChange:a,placeholder:r,required:o=!1,error:c,className:u="",...d})=>{const f="w-full bg-background border text-text-primary placeholder-text-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background transition-all duration-300",m="h-14 px-4 text-base rounded-xl",x=c?"border-status-error/70 focus:ring-status-error/50":"border-border focus:border-primary focus:ring-primary/50";return i.jsxs("div",{className:"space-y-2",children:[e&&i.jsxs("label",{className:"block text-sm font-medium text-text-primary",children:[e,o&&i.jsx("span",{className:"text-status-error ml-1",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:t,value:n,onChange:a,placeholder:r,required:o,className:`${f} ${m} ${x} ${u} ${c?"pr-10":""}`,...d}),c&&i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:i.jsx(La,{className:"h-5 w-5 text-status-error"})})]}),c&&i.jsx("p",{className:"text-sm text-status-error mt-2 animate-in fade-in slide-in-from-top-1 duration-300",children:c})]})},xP=()=>{const{user:e,updateUser:t}=Pt(),{t:n}=za(),[a,r]=A.useState({name:"",email:"",phone:""}),[o,c]=A.useState(!1),[u,d]=A.useState(null),[f,m]=A.useState(!1);A.useEffect(()=>{e&&r({name:e.name||"",email:e.email||"",phone:e.phone||""})},[e]);const x=async y=>{y.preventDefault(),c(!0),d(null),m(!1),console.log(" Updating personal info:",a);try{const j=await d1.updateProfile(a);j.success?(console.log(" Profile updated successfully:",j.data),t(j.data.user||a),m(!0),setTimeout(()=>m(!1),3e3)):(console.error(" Profile update failed:",j.error),d(j.error))}catch(j){console.error(" Unexpected error during profile update:",j),d("An unexpected error occurred. Please try again.")}finally{c(!1)}},g=(y,j)=>{r(S=>({...S,[y]:j}))};return i.jsxs(Ne,{className:"border-border bg-background-card",children:[i.jsx(Xe,{children:i.jsx(Ke,{className:"text-text-primary text-lg",children:i.jsx(w,{children:"Personal Information"})})}),i.jsxs(Ee,{className:"space-y-6",children:[u&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(La,{className:"w-4 h-4 text-red-600 mr-2"}),i.jsx("p",{className:"text-red-700 text-sm",children:u})]})}),f&&i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Jt,{className:"w-4 h-4 text-green-600 mr-2"}),i.jsx("p",{className:"text-green-700 text-sm",children:i.jsx(w,{children:"Profile updated successfully!"})})]})}),i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(kt,{label:n("Name"),value:a.name,onChange:y=>g("name",y.target.value)}),i.jsx(kt,{label:n("Email Address"),type:"email",value:a.email,onChange:y=>g("email",y.target.value)})]}),i.jsx("div",{className:"grid gap-2",children:i.jsx(kt,{label:n("Phone"),value:a.phone,onChange:y=>g("phone",y.target.value)})}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsxs(Re,{type:"submit",variant:"primary",disabled:o,className:"flex items-center space-x-2",children:[o&&i.jsx(Im,{size:16,className:"animate-spin"}),i.jsx("span",{children:o?i.jsx(w,{children:"Saving..."}):i.jsx(w,{children:"Save Changes"})})]})})]})]})]})},yP=()=>{const{user:e,updateUser:t}=Pt(),{t:n}=za(),[a,r]=A.useState({farmName:"",location:"",totalArea:""}),[o,c]=A.useState(!1),[u,d]=A.useState(null),[f,m]=A.useState(!1);A.useEffect(()=>{var y,j,S;e&&r({farmName:((y=e.farmDetails)==null?void 0:y.farmName)||e.farmName||"",location:((j=e.farmDetails)==null?void 0:j.location)||e.location||"",totalArea:((S=e.farmDetails)==null?void 0:S.totalArea)||e.totalArea||e.acreage||""})},[e]);const x=async y=>{y.preventDefault(),c(!0),d(null),m(!1);const j={farmName:a.farmName,location:a.location,totalArea:parseFloat(a.totalArea)||0};console.log(" Updating farm details:",j);try{const S=await d1.updateFarmDetails(j);S.success?(console.log(" Farm details updated successfully:",S.data),t({farmDetails:j}),m(!0),setTimeout(()=>m(!1),3e3)):(console.error(" Farm details update failed:",S.error),d(S.error))}catch(S){console.error(" Unexpected error during farm details update:",S),d("An unexpected error occurred. Please try again.")}finally{c(!1)}},g=(y,j)=>{r(S=>({...S,[y]:j}))};return i.jsxs(Ne,{className:"border-border bg-background-card",children:[i.jsx(Xe,{children:i.jsx(Ke,{className:"text-text-primary text-lg",children:i.jsx(w,{children:"Farm Details"})})}),i.jsxs(Ee,{className:"space-y-6",children:[u&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(La,{className:"w-4 h-4 text-red-600 mr-2"}),i.jsx("p",{className:"text-red-700 text-sm",children:u})]})}),f&&i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Jt,{className:"w-4 h-4 text-green-600 mr-2"}),i.jsx("p",{className:"text-green-700 text-sm",children:i.jsx(w,{children:"Farm details updated successfully!"})})]})}),i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(kt,{label:n("Farm Name"),value:a.farmName,onChange:y=>g("farmName",y.target.value)}),i.jsx(kt,{label:n("Location"),value:a.location,onChange:y=>g("location",y.target.value)})]}),i.jsx("div",{className:"grid gap-2 md:max-w-xs",children:i.jsx(kt,{label:n("Total Area (acres)"),type:"number",value:a.totalArea,onChange:y=>g("totalArea",y.target.value)})}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsxs(Re,{type:"submit",variant:"primary",disabled:o,className:"flex items-center space-x-2",children:[o&&i.jsx(Im,{size:16,className:"animate-spin"}),i.jsx("span",{children:o?i.jsx(w,{children:"Saving..."}):i.jsx(w,{children:"Save Changes"})})]})})]})]})]})},vP=()=>i.jsx("div",{className:"min-h-screen bg-background text-text-primary",children:i.jsxs("main",{className:"mx-auto max-w-7xl px-6 py-8",children:[i.jsxs("header",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-text-primary",children:i.jsx(w,{children:"Profile"})}),i.jsx("p",{className:"mt-2 text-text-secondary",children:i.jsx(w,{children:"Manage your account, settings, and farm details."})})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-[300px_1fr]",children:[i.jsx(gP,{}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(xP,{}),i.jsx(yP,{})]})]}),i.jsx("div",{className:"mt-8"})]})}),bP={wheat:{recommendedFertilizer:"NPK 12-32-16",bestPlantingTime:"October - November",irrigationSchedule:"Every 7-10 days",expectedHarvestTime:"March - April",avgGrowthPeriod:"120-150 days",optimalTemperature:"15-25C",waterRequirement:"450-650 mm",soilType:["Loamy","Clay Loam","Sandy Loam"],fertilizationStages:[{stage:"Pre-sowing",fertilizer:"DAP",quantity:"125-150 kg/ha"},{stage:"First irrigation",fertilizer:"Urea",quantity:"87 kg/ha"},{stage:"Second irrigation",fertilizer:"Urea",quantity:"65 kg/ha"}],irrigationStages:["Crown root initiation (20-25 days)","Tillering (40-45 days)","Jointing (60-65 days)","Flowering (90-95 days)","Milk stage (105-110 days)","Dough stage (120-125 days)"]},rice:{recommendedFertilizer:"NPK 10-26-26",bestPlantingTime:"June - July",irrigationSchedule:"Continuous flooding",expectedHarvestTime:"October - November",avgGrowthPeriod:"110-140 days",optimalTemperature:"20-35C",waterRequirement:"1200-1500 mm",soilType:["Clay","Clay Loam","Silty Clay"],fertilizationStages:[{stage:"Basal",fertilizer:"NPK 10-26-26",quantity:"100 kg/ha"},{stage:"Tillering (20-25 days)",fertilizer:"Urea",quantity:"110 kg/ha"},{stage:"Panicle initiation (45-50 days)",fertilizer:"Urea",quantity:"55 kg/ha"}],irrigationStages:["Nursery stage - daily watering","Transplanting - 2-3 cm water","Tillering - 2-5 cm water","Flowering - continuous 5 cm water","Grain filling - intermittent irrigation","Maturity - drain 10 days before harvest"]},maize:{recommendedFertilizer:"NPK 18-46-0",bestPlantingTime:"March - April, July - August",irrigationSchedule:"Every 5-7 days",expectedHarvestTime:"June - July, November - December",avgGrowthPeriod:"90-120 days",optimalTemperature:"21-27C",waterRequirement:"500-800 mm",soilType:["Loamy","Sandy Loam","Alluvial"],fertilizationStages:[{stage:"Sowing",fertilizer:"NPK 18-46-0",quantity:"125 kg/ha"},{stage:"Knee high (30-35 days)",fertilizer:"Urea",quantity:"130 kg/ha"},{stage:"Pre-tasseling (45-50 days)",fertilizer:"Urea",quantity:"65 kg/ha"}],irrigationStages:["Germination (0-10 days)","Vegetative growth (30-40 days)","Tasseling (50-60 days)","Silking (60-70 days)","Grain filling (70-90 days)","Maturity (90-120 days)"]},sugarcane:{recommendedFertilizer:"NPK 17-17-17",bestPlantingTime:"February - April, October - November",irrigationSchedule:"Every 10-15 days",expectedHarvestTime:"12-18 months after planting",avgGrowthPeriod:"365-540 days",optimalTemperature:"20-30C",waterRequirement:"1800-2500 mm",soilType:["Clay Loam","Loamy","Alluvial"],fertilizationStages:[{stage:"Planting",fertilizer:"NPK 17-17-17",quantity:"250 kg/ha"},{stage:"45 days",fertilizer:"Urea",quantity:"220 kg/ha"},{stage:"90 days",fertilizer:"Urea",quantity:"110 kg/ha"}],irrigationStages:["Germination (0-45 days) - frequent light irrigation","Tillering (45-120 days) - regular irrigation","Grand growth (120-270 days) - heavy irrigation","Maturation (270-365 days) - reduced irrigation","Harvest (365+ days) - stop irrigation 2 months before"]},cotton:{recommendedFertilizer:"NPK 14-35-14",bestPlantingTime:"April - May",irrigationSchedule:"Every 7-10 days",expectedHarvestTime:"September - December",avgGrowthPeriod:"160-200 days",optimalTemperature:"21-30C",waterRequirement:"700-1300 mm",soilType:["Black Cotton Soil","Alluvial","Sandy Loam"],fertilizationStages:[{stage:"Sowing",fertilizer:"NPK 14-35-14",quantity:"100 kg/ha"},{stage:"45 days",fertilizer:"Urea",quantity:"110 kg/ha"},{stage:"90 days",fertilizer:"Urea",quantity:"55 kg/ha"}],irrigationStages:["Sowing to germination (0-10 days)","Vegetative growth (45-65 days)","Flowering (65-95 days)","Boll development (95-140 days)","Boll opening (140-180 days)"]},potato:{recommendedFertilizer:"NPK 19-19-19",bestPlantingTime:"October - November, January - February",irrigationSchedule:"Every 4-7 days",expectedHarvestTime:"January - March, April - May",avgGrowthPeriod:"90-120 days",optimalTemperature:"15-20C",waterRequirement:"500-700 mm",soilType:["Sandy Loam","Loamy","Well-drained"],fertilizationStages:[{stage:"Planting",fertilizer:"NPK 19-19-19",quantity:"300 kg/ha"},{stage:"Earthing up (30 days)",fertilizer:"Urea",quantity:"90 kg/ha"}],irrigationStages:["Planting to emergence (0-15 days)","Vegetative growth (15-45 days)","Tuber initiation (45-60 days)","Tuber bulking (60-90 days)","Maturation (90-120 days) - reduce irrigation"]},onion:{recommendedFertilizer:"NPK 10-26-26",bestPlantingTime:"October - November, January - February",irrigationSchedule:"Every 3-5 days",expectedHarvestTime:"March - May, May - July",avgGrowthPeriod:"120-150 days",optimalTemperature:"13-24C",waterRequirement:"350-550 mm",soilType:["Sandy Loam","Loamy","Well-drained"],fertilizationStages:[{stage:"Transplanting",fertilizer:"NPK 10-26-26",quantity:"100 kg/ha"},{stage:"30 days",fertilizer:"Urea",quantity:"100 kg/ha"},{stage:"60 days",fertilizer:"Urea",quantity:"50 kg/ha"}],irrigationStages:["Transplanting (0-15 days) - frequent light irrigation","Vegetative growth (15-75 days) - regular irrigation","Bulb development (75-120 days) - moderate irrigation","Maturation (120-150 days) - reduce irrigation"]},tomato:{recommendedFertilizer:"NPK 19-19-19",bestPlantingTime:"July - August, November - December",irrigationSchedule:"Every 2-3 days",expectedHarvestTime:"October - January, February - May",avgGrowthPeriod:"90-120 days",optimalTemperature:"18-25C",waterRequirement:"400-600 mm",soilType:["Loamy","Sandy Loam","Well-drained"],fertilizationStages:[{stage:"Transplanting",fertilizer:"NPK 19-19-19",quantity:"200 kg/ha"},{stage:"Flowering (30 days)",fertilizer:"NPK 0-52-34",quantity:"50 kg/ha"},{stage:"Fruit development (60 days)",fertilizer:"NPK 13-0-45",quantity:"100 kg/ha"}],irrigationStages:["Transplanting (0-15 days) - frequent light irrigation","Vegetative growth (15-45 days) - moderate irrigation","Flowering (45-65 days) - consistent irrigation","Fruit development (65-120 days) - adequate moisture"]},cabbage:{recommendedFertilizer:"NPK 18-18-18",bestPlantingTime:"September - October, January - February",irrigationSchedule:"Every 3-4 days",expectedHarvestTime:"December - February, April - June",avgGrowthPeriod:"80-120 days",optimalTemperature:"15-20C",waterRequirement:"380-500 mm",soilType:["Loamy","Clay Loam","Well-drained"],fertilizationStages:[{stage:"Transplanting",fertilizer:"NPK 18-18-18",quantity:"150 kg/ha"},{stage:"30 days",fertilizer:"Urea",quantity:"120 kg/ha"},{stage:"60 days",fertilizer:"Urea",quantity:"60 kg/ha"}],irrigationStages:["Transplanting (0-15 days) - frequent irrigation","Vegetative growth (15-60 days) - regular irrigation","Head formation (60-100 days) - adequate moisture","Maturation (100-120 days) - reduce irrigation"]},soybean:{recommendedFertilizer:"NPK 12-32-16",bestPlantingTime:"June - July",irrigationSchedule:"Every 7-10 days",expectedHarvestTime:"September - October",avgGrowthPeriod:"90-120 days",optimalTemperature:"20-30C",waterRequirement:"450-700 mm",soilType:["Loamy","Sandy Loam","Clay Loam"],fertilizationStages:[{stage:"Sowing",fertilizer:"NPK 12-32-16",quantity:"75 kg/ha"},{stage:"Flowering (35-40 days)",fertilizer:"Urea",quantity:"25 kg/ha"}],irrigationStages:["Germination (0-10 days)","Vegetative growth (10-40 days)","Flowering (40-60 days) - critical period","Pod development (60-90 days) - critical period","Maturation (90-120 days) - reduce irrigation"]},mustard:{recommendedFertilizer:"NPK 18-46-0",bestPlantingTime:"October - November",irrigationSchedule:"Every 10-15 days",expectedHarvestTime:"February - March",avgGrowthPeriod:"120-140 days",optimalTemperature:"10-25C",waterRequirement:"240-400 mm",soilType:["Loamy","Sandy Loam","Clay Loam"],fertilizationStages:[{stage:"Sowing",fertilizer:"NPK 18-46-0",quantity:"100 kg/ha"},{stage:"45 days",fertilizer:"Urea",quantity:"90 kg/ha"}],irrigationStages:["Sowing to germination (0-10 days)","Vegetative growth (30-60 days)","Flowering (60-90 days)","Pod formation (90-120 days)","Maturation (120-140 days) - withhold irrigation"]}},_P={Loamy:{advantages:["Good drainage","High fertility","Easy cultivation"],recommendations:["Ideal for most crops","Regular organic matter addition"],fertilizerAdjustment:"Standard NPK ratios work well"},Clay:{advantages:["High water retention","Rich in nutrients"],recommendations:["Improve drainage","Add organic matter","Avoid over-irrigation"],fertilizerAdjustment:"Reduce nitrogen by 10-15%"},Sandy:{advantages:["Good drainage","Easy cultivation"],recommendations:["Frequent irrigation","Add organic matter","Regular fertilization"],fertilizerAdjustment:"Increase all nutrients by 20-25%"},"Black Cotton":{advantages:["High water retention","Rich in nutrients"],recommendations:["Good for cotton and sugarcane","Control drainage"],fertilizerAdjustment:"Focus on potassium and phosphorus"},Alluvial:{advantages:["Fertile","Good for cereals"],recommendations:["Maintain organic content","Balanced fertilization"],fertilizerAdjustment:"Standard ratios with potassium focus"},Red:{advantages:["Good drainage"],recommendations:["Add lime to reduce acidity","Increase organic matter"],fertilizerAdjustment:"Increase phosphorus by 25%"}},wP={summer:{irrigationMultiplier:1.3,recommendations:["Increase irrigation frequency","Mulching recommended"]},winter:{irrigationMultiplier:.7,recommendations:["Reduce irrigation","Watch for frost damage"]},monsoon:{irrigationMultiplier:.3,recommendations:["Ensure drainage","Disease prevention"]},postMonsoon:{irrigationMultiplier:.8,recommendations:["Resume regular irrigation","Soil testing recommended"]}},ks={cropOptimization:bP,soilSpecificRecommendations:_P,climateAdjustments:wP},ih=(e,t=null,n=null)=>{if(!e)return{recommendedFertilizer:"N/A",bestPlantingTime:"N/A",irrigationSchedule:"N/A",expectedHarvestTime:"N/A"};const a=e.toLowerCase().trim(),r=ks.cropOptimization[a];if(!r)return console.warn(`No optimization data found for crop: ${e}`),{recommendedFertilizer:"N/A",bestPlantingTime:"N/A",irrigationSchedule:"N/A",expectedHarvestTime:"N/A"};let o={recommendedFertilizer:r.recommendedFertilizer,bestPlantingTime:r.bestPlantingTime,irrigationSchedule:r.irrigationSchedule,expectedHarvestTime:r.expectedHarvestTime,avgGrowthPeriod:r.avgGrowthPeriod,optimalTemperature:r.optimalTemperature,waterRequirement:r.waterRequirement,fertilizationStages:r.fertilizationStages,irrigationStages:r.irrigationStages};if(t&&ks.soilSpecificRecommendations[t]){const c=ks.soilSpecificRecommendations[t];o.soilRecommendations=c.recommendations,o.fertilizerAdjustment=c.fertilizerAdjustment}if(n&&ks.climateAdjustments[n]){const c=ks.climateAdjustments[n];o.seasonalRecommendations=c.recommendations,c.irrigationMultiplier!==1&&(o.seasonalIrrigationNote=`Adjust irrigation frequency by ${Math.round((c.irrigationMultiplier-1)*100)}%`)}return o},jP=e=>{if(!e)return[];const t=[];return Object.entries(ks.cropOptimization).forEach(([n,a])=>{a.soilType.includes(e)&&t.push({name:n,suitability:"High",...a})}),t},rh=(e=new Date().getMonth()+1)=>e>=3&&e<=5?"summer":e>=6&&e<=9?"monsoon":e>=10&&e<=11?"postMonsoon":"winter",NP=()=>{var g,y,j,S,T,b,_,N,C,E,P,M,H,J,$,K,z,X,Y,ne,U,V,R,Z,I,ee,Q,ae,oe,ce,re,te,ot,Ht,Pn,jt,Gt,xn,le,ft,Nt,la,ca;const{predictionId:e}=iS(),t=on(),[n,a]=A.useState(null),[r,o]=A.useState(!0),[c,u]=A.useState(null),[d,f]=A.useState(null);A.useEffect(()=>{const ke=async()=>{var Se,lt,O,de;if(!e){u("No prediction ID provided"),o(!1);return}console.log(" Loading prediction:",e);try{const Ue=await sa.getPredictionById(e);if(Ue.success){const ie=((Se=Ue.data)==null?void 0:Se.prediction)||((lt=Ue.data)==null?void 0:lt.data)||Ue.data;console.log(" Parsed prediction data:",ie),console.log(" Data verification:"),console.log("- soilData:",ie==null?void 0:ie.soilData),console.log("- weather:",ie==null?void 0:ie.weather),console.log("- location:",ie==null?void 0:ie.location),console.log("- predictedYield:",ie==null?void 0:ie.predictedYield),console.log("- confidence:",ie==null?void 0:ie.confidence);try{let Pe=ie.soilType||((O=ie.soilData)==null?void 0:O.type)||((de=ie.soilData)==null?void 0:de.detailedType);const Be=ie.location;if(Be!=null&&Be.state||Be!=null&&Be.district){const He=await us.getSoilData(Be.state,Be.district);if(He!=null&&He.success&&He.data){const We=He.data.data||He.data;ie.soilData={...ie.soilData,...We},Pe=We.type||We.detailedType||Pe,console.log(" Fetched soil data from API and merged:",ie.soilData)}else console.warn(" No soil data returned from API:",He==null?void 0:He.error)}const Ze=Pe||ie.soilType;if(Ze){const He=Ze.charAt(0).toUpperCase()+Ze.slice(1).toLowerCase(),We=ks.soilSpecificRecommendations[He];if(We&&(ie.soilData||(ie.soilData={}),(!ie.soilData.recommendations||ie.soilData.recommendations.length===0)&&(ie.soilData.recommendations=We.recommendations),ie.soilData.fertilizerAdjustment||(ie.soilData.fertilizerAdjustment=We.fertilizerAdjustment)),!ie.soilData.suitableCrops||ie.soilData.suitableCrops.length===0){const Yt=jP(He);Yt.length>0&&(ie.soilData.suitableCrops=Yt.map(yn=>yn.name))}}if(a(ie),ie!=null&&ie.cropType){const He=rh(),We=ih(ie.cropType,Ze,He);f(We),console.log(" Optimization data loaded for:",{crop:ie.cropType,soil:Ze})}}catch(Pe){if(console.error(" Error while fetching/merging soil data:",Pe),a(ie),ie!=null&&ie.cropType){const Be=rh(),Ze=ih(ie.cropType,ie.soilType,Be);f(Ze)}}u(null)}else console.error(" Failed to load prediction:",Ue.error),u(Ue.error)}catch(Ue){console.error(" Unexpected error loading prediction:",Ue),u("Failed to load prediction details")}finally{o(!1)}};e!=null&&e.startsWith("dummy-")?(console.log(" Using mock data for dummy prediction ID"),setTimeout(()=>{a({_id:e,userId:"68b599c77545aadbfaff22b6",cropType:"wheat",soilType:"Loamy",landArea:12,plantingDate:"2020-06-02T00:00:00.000Z",predictedYield:36503.04,yieldPerHectare:3041.92,confidence:.65,fetchedFromAPIs:!0,mlModelUsed:!1,createdAt:"2025-09-02T11:17:47.533Z",updatedAt:"2025-09-02T11:17:47.533Z",soilData:{composition:{sand:40,clay:20,silt:40},properties:{pH:6.8,nitrogen:18,organicCarbon:22,cationExchangeCapacity:18,fertility:"Medium"},analysis:{drainage:"Good",waterHolding:"Medium",nutrientRetention:"Good"},searchMetadata:{requestedLocation:"Amritsar, Punjab",actualSoilType:"Loamy",dataAccuracy:"high",timestamp:"2025-09-02T11:17:47.496Z"},type:"Loamy",detailedType:"Loamy",recommendations:["Ideal soil for most crops","Maintain current soil management practices","Regular organic matter addition","Balanced fertilization program"],suitableCrops:["Rice","Wheat","Maize","Sugarcane","Cotton"],dataSource:"local_database"},location:{coordinates:{latitude:31.6331,longitude:74.8656},state:"Punjab",district:"Amritsar"},weather:{metadata:{requestedLocation:"Amritsar, Punjab",requestedDate:"2020-06-02T00:00:00.000Z",dataTimestamp:"2025-09-02T11:17:47.496Z",apiCallSuccess:!0},temperature:22.53,rainfall:0,humidity:94,dataSource:"api"},insights:["Soil conditions are optimal for wheat cultivation with good drainage","Weather patterns suggest above-average yield potential","Current nitrogen levels support healthy crop growth","Monitor irrigation based on rainfall patterns"]});const Se=rh(),lt=ih("wheat","Loamy",Se);f(lt),console.log(" Mock optimization data loaded:",lt),o(!1)},1e3)):ke()},[e]);const m=async()=>{if(!(n!=null&&n._id)){alert("No prediction data available for download");return}console.log(" Downloading PDF report for:",n._id);try{const ke=await sa.downloadPredictionReport(n._id);ke.success?console.log(" Report downloaded successfully"):(console.error(" Download failed:",ke.error),alert(`Download failed: ${ke.error}`))}catch(ke){console.error(" Unexpected download error:",ke),alert("Failed to download report. Please try again.")}},x=ke=>{try{return new Date(ke).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"N/A"}};return r?i.jsx("div",{className:"min-h-screen bg-background text-text-primary",children:i.jsx("main",{className:"mx-auto max-w-4xl px-6 py-8",children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"mt-4 text-text-secondary",children:i.jsx(w,{children:"Loading prediction details..."})})]})})}):c||!n?i.jsx("div",{className:"min-h-screen bg-background text-text-primary",children:i.jsx("main",{className:"mx-auto max-w-4xl px-6 py-8",children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-status-error",children:c||i.jsx(w,{children:"Prediction not found"})}),i.jsx(Re,{onClick:()=>t("/dashboard"),className:"mt-4",children:i.jsx(w,{children:"Back to Dashboard"})})]})})}):i.jsx("div",{className:"min-h-screen bg-background text-text-primary",children:i.jsxs("main",{className:"mx-auto max-w-4xl px-6 py-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(Re,{variant:"outline",onClick:()=>t("/dashboard"),className:"flex items-center space-x-2",children:[i.jsx(hf,{size:16}),i.jsx("span",{children:i.jsx(w,{children:"Back"})})]}),i.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:i.jsx(w,{children:"Prediction Details"})})]}),i.jsxs(Re,{onClick:m,className:"flex items-center space-x-2",disabled:!n||r,children:[i.jsx(Xb,{size:16}),i.jsx("span",{children:i.jsx(w,{children:"Download Report"})})]})]}),i.jsxs(Ne,{className:"mb-6",children:[i.jsx(Xe,{children:i.jsxs(Ke,{className:"flex items-center space-x-2",children:[i.jsx(dA,{className:"text-primary",size:20}),i.jsx("span",{children:i.jsx(w,{children:"Prediction Overview"})})]})}),i.jsx(Ee,{children:i.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-primary/20 p-4 rounded-lg border border-primary/30",children:[i.jsx("p",{className:"text-text-secondary text-sm",children:i.jsx(w,{children:"Crop Type"})}),i.jsx("p",{className:"text-text-primary font-semibold text-lg capitalize",children:(n==null?void 0:n.cropType)||"N/A"})]}),i.jsxs("div",{className:"bg-status-success/20 p-4 rounded-lg border border-status-success/30",children:[i.jsx("p",{className:"text-text-secondary text-sm",children:i.jsx(w,{children:"Predicted Yield"})}),i.jsx("p",{className:"text-text-primary font-semibold text-lg",children:n!=null&&n.yieldPerHectare?`${Math.round(n.yieldPerHectare)} kg/ha`:n!=null&&n.predictedYield?`${Math.round(n.predictedYield)} kg total`:"N/A"}),(n==null?void 0:n.confidence)&&i.jsxs("p",{className:"text-text-secondary text-xs mt-1",children:[i.jsx(w,{children:"Confidence:"})," ",Math.round(n.confidence*100),"%"]})]}),i.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg border border-primary/20",children:[i.jsxs("p",{className:"text-text-secondary text-sm flex items-center",children:[i.jsx(Vb,{size:14,className:"mr-1"}),i.jsx(w,{children:"Planting Date"})]}),i.jsx("p",{className:"text-text-primary font-semibold",children:x(n==null?void 0:n.plantingDate)}),(n==null?void 0:n.landArea)&&i.jsxs("p",{className:"text-text-secondary text-xs mt-1",children:[i.jsx(w,{children:"Area:"})," ",n.landArea," ",i.jsx(w,{children:"hectares"})]})]}),i.jsxs("div",{className:"bg-status-warning/10 p-4 rounded-lg border border-status-warning/20",children:[i.jsxs("p",{className:"text-text-secondary text-sm flex items-center",children:[i.jsx(ts,{size:14,className:"mr-1"}),i.jsx(w,{children:"Location"})]}),i.jsx("p",{className:"text-text-primary font-semibold",children:(g=n==null?void 0:n.location)!=null&&g.district&&((y=n==null?void 0:n.location)!=null&&y.state)?`${n.location.district}, ${n.location.state}`:"N/A"})]})]})})]}),i.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[i.jsxs(Ne,{children:[i.jsx(Xe,{children:i.jsx(Ke,{children:i.jsx(w,{children:"Environmental Conditions"})})}),i.jsx(Ee,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-text-secondary mb-2",children:i.jsx(w,{children:"Soil Type"})}),i.jsx("p",{className:"text-text-primary font-medium capitalize",children:(n==null?void 0:n.soilType)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-text-secondary mb-2",children:i.jsx(w,{children:"Weather Conditions"})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"text-center p-2 bg-background-card rounded",children:[i.jsx("p",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"Temperature"})}),i.jsx("p",{className:"text-sm font-medium",children:(j=n==null?void 0:n.weather)!=null&&j.temperature?`${Math.round(n.weather.temperature)}C`:"N/A"})]}),i.jsxs("div",{className:"text-center p-2 bg-background-card rounded",children:[i.jsx("p",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"Humidity"})}),i.jsx("p",{className:"text-sm font-medium",children:(S=n==null?void 0:n.weather)!=null&&S.humidity?`${n.weather.humidity}%`:"N/A"})]}),i.jsxs("div",{className:"text-center p-2 bg-background-card rounded",children:[i.jsx("p",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"Rainfall"})}),i.jsx("p",{className:"text-sm font-medium",children:((T=n==null?void 0:n.weather)==null?void 0:T.rainfall)!==void 0?`${n.weather.rainfall}mm`:"N/A"})]})]})]})]})})]}),i.jsxs(Ne,{children:[i.jsx(Xe,{children:i.jsx(Ke,{children:i.jsx(w,{children:"Detailed Soil Analysis"})})}),i.jsx(Ee,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-text-secondary mb-2",children:i.jsx(w,{children:"Soil Composition"})}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("div",{className:"text-center p-2 bg-background-card rounded",children:[i.jsx("p",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"Sand"})}),i.jsx("p",{className:"text-sm font-medium",children:(_=(b=n==null?void 0:n.soilData)==null?void 0:b.composition)!=null&&_.sand?`${n.soilData.composition.sand}%`:"N/A"})]}),i.jsxs("div",{className:"text-center p-2 bg-background-card rounded",children:[i.jsx("p",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"Clay"})}),i.jsx("p",{className:"text-sm font-medium",children:(C=(N=n==null?void 0:n.soilData)==null?void 0:N.composition)!=null&&C.clay?`${n.soilData.composition.clay}%`:"N/A"})]}),i.jsxs("div",{className:"text-center p-2 bg-background-card rounded",children:[i.jsx("p",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"Silt"})}),i.jsx("p",{className:"text-sm font-medium",children:(P=(E=n==null?void 0:n.soilData)==null?void 0:E.composition)!=null&&P.silt?`${n.soilData.composition.silt}%`:"N/A"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-text-secondary mb-2",children:i.jsx(w,{children:"Soil Properties"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-text-secondary text-sm",children:i.jsx(w,{children:"pH Level"})}),i.jsx("span",{className:"text-text-primary font-medium",children:((H=(M=n==null?void 0:n.soilData)==null?void 0:M.properties)==null?void 0:H.pH)||"N/A"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-text-secondary text-sm",children:i.jsx(w,{children:"Nitrogen"})}),i.jsx("span",{className:"text-text-primary font-medium",children:($=(J=n==null?void 0:n.soilData)==null?void 0:J.properties)!=null&&$.nitrogen?`${n.soilData.properties.nitrogen}%`:"N/A"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-text-secondary text-sm",children:i.jsx(w,{children:"Organic Carbon"})}),i.jsx("span",{className:"text-text-primary font-medium",children:(z=(K=n==null?void 0:n.soilData)==null?void 0:K.properties)!=null&&z.organicCarbon?`${n.soilData.properties.organicCarbon}%`:"N/A"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-text-secondary text-sm",children:i.jsx(w,{children:"Fertility"})}),i.jsx("span",{className:`font-medium text-sm px-2 py-1 rounded ${((Y=(X=n==null?void 0:n.soilData)==null?void 0:X.properties)==null?void 0:Y.fertility)==="High"?"bg-status-success/20 text-status-success":((U=(ne=n==null?void 0:n.soilData)==null?void 0:ne.properties)==null?void 0:U.fertility)==="Medium"?"bg-status-warning/20 text-status-warning":((R=(V=n==null?void 0:n.soilData)==null?void 0:V.properties)==null?void 0:R.fertility)==="Low"?"bg-status-error/20 text-status-error":"bg-background-card text-text-secondary"}`,children:((I=(Z=n==null?void 0:n.soilData)==null?void 0:Z.properties)==null?void 0:I.fertility)||"N/A"})]})]})]})]})})]}),i.jsxs(Ne,{children:[i.jsx(Xe,{children:i.jsx(Ke,{children:i.jsx(w,{children:"Optimization Recommendations"})})}),i.jsx(Ee,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Recommended Fertilizer"})}),i.jsx("span",{className:"text-text-primary font-medium",children:(d==null?void 0:d.recommendedFertilizer)||((ee=n==null?void 0:n.optimization)==null?void 0:ee.recommendedFertilizer)||"N/A"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Best Planting Time"})}),i.jsx("span",{className:"text-text-primary font-medium",children:(d==null?void 0:d.bestPlantingTime)||((Q=n==null?void 0:n.optimization)==null?void 0:Q.bestPlantingTime)||"N/A"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Irrigation Schedule"})}),i.jsx("span",{className:"text-text-primary font-medium",children:(d==null?void 0:d.irrigationSchedule)||((ae=n==null?void 0:n.optimization)==null?void 0:ae.irrigationSchedule)||"N/A"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Expected Harvest"})}),i.jsx("span",{className:"text-text-primary font-medium",children:(d==null?void 0:d.expectedHarvestTime)||((oe=n==null?void 0:n.optimization)==null?void 0:oe.expectedHarvestTime)||"N/A"})]}),d&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"border-t pt-3 mt-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Growth Period"})}),i.jsx("span",{className:"text-text-primary font-medium",children:d.avgGrowthPeriod})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Optimal Temperature"})}),i.jsx("span",{className:"text-text-primary font-medium",children:d.optimalTemperature})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Water Requirement"})}),i.jsx("span",{className:"text-text-primary font-medium",children:d.waterRequirement})]})]}),d.seasonalRecommendations&&i.jsxs("div",{className:"mt-3 p-2 bg-primary/10 rounded",children:[i.jsx("p",{className:"text-primary text-xs font-medium mb-1",children:i.jsx(w,{children:"Seasonal Recommendations:"})}),d.seasonalRecommendations.map((ke,Se)=>i.jsxs("p",{className:"text-text-secondary text-xs",children:[" ",ke]},Se))]})]})]})})]}),i.jsxs(Ne,{children:[i.jsx(Xe,{children:i.jsx(Ke,{children:i.jsx(w,{children:"Soil Recommendations"})})}),i.jsx(Ee,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-text-secondary mb-2",children:i.jsx(w,{children:"Soil Analysis"})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"text-center p-2 bg-background-card rounded",children:[i.jsx("p",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"Drainage"})}),i.jsx("p",{className:"text-sm font-medium",children:((re=(ce=n==null?void 0:n.soilData)==null?void 0:ce.analysis)==null?void 0:re.drainage)||"N/A"})]}),i.jsxs("div",{className:"text-center p-2 bg-background-card rounded",children:[i.jsx("p",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"Water Holding"})}),i.jsx("p",{className:"text-sm font-medium",children:((ot=(te=n==null?void 0:n.soilData)==null?void 0:te.analysis)==null?void 0:ot.waterHolding)||"N/A"})]}),i.jsxs("div",{className:"text-center p-2 bg-background-card rounded",children:[i.jsx("p",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"Nutrient Retention"})}),i.jsx("p",{className:"text-sm font-medium",children:((Pn=(Ht=n==null?void 0:n.soilData)==null?void 0:Ht.analysis)==null?void 0:Pn.nutrientRetention)||"N/A"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-text-secondary mb-2",children:i.jsx(w,{children:"Management Recommendations"})}),i.jsx("div",{className:"space-y-2",children:((Gt=(jt=n==null?void 0:n.soilData)==null?void 0:jt.recommendations)==null?void 0:Gt.length)>0?n.soilData.recommendations.map((ke,Se)=>i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full mt-2 flex-shrink-0"}),i.jsx("p",{className:"text-text-primary text-sm",children:ke})]},Se)):i.jsx("p",{className:"text-text-secondary text-sm",children:i.jsx(w,{children:"No recommendations available"})})})]})]})})]}),i.jsxs(Ne,{children:[i.jsx(Xe,{children:i.jsx(Ke,{children:i.jsx(w,{children:"Suitable Crops for This Soil"})})}),i.jsx(Ee,{children:i.jsxs("div",{className:"space-y-3",children:[((le=(xn=n==null?void 0:n.soilData)==null?void 0:xn.suitableCrops)==null?void 0:le.length)>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:n.soilData.suitableCrops.map((ke,Se)=>{var lt;return i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${ke.toLowerCase()===((lt=n==null?void 0:n.cropType)==null?void 0:lt.toLowerCase())?"bg-primary text-primary-foreground":"bg-background-card text-text-secondary"}`,children:ke},Se)})}):i.jsx("p",{className:"text-text-secondary",children:i.jsx(w,{children:"No suitable crops data available"})}),((ca=(ft=n==null?void 0:n.soilData)==null?void 0:ft.suitableCrops)==null?void 0:ca.includes(((Nt=n==null?void 0:n.cropType)==null?void 0:Nt.charAt(0).toUpperCase())+((la=n==null?void 0:n.cropType)==null?void 0:la.slice(1))))&&i.jsx("div",{className:"mt-3 p-3 bg-status-success/10 border border-status-success/20 rounded-lg",children:i.jsxs("p",{className:"text-status-success text-sm",children:[" ",i.jsx(w,{children:"Your selected crop"})," (",n==null?void 0:n.cropType,") ",i.jsx(w,{children:"is well-suited for this soil type!"})]})})]})})]}),(d==null?void 0:d.fertilizationStages)&&i.jsxs(Ne,{children:[i.jsx(Xe,{children:i.jsx(Ke,{children:i.jsx(w,{children:"Fertilization Schedule"})})}),i.jsx(Ee,{children:i.jsxs("div",{className:"space-y-3",children:[d.fertilizationStages.map((ke,Se)=>i.jsxs("div",{className:"flex justify-between items-center p-3 bg-background-card rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-text-primary font-medium",children:ke.stage}),i.jsx("p",{className:"text-text-secondary text-sm",children:ke.fertilizer})]}),i.jsx("div",{className:"text-right",children:i.jsx("p",{className:"text-text-primary font-medium",children:ke.quantity})})]},Se)),d.fertilizerAdjustment&&i.jsx("div",{className:"mt-3 p-2 bg-status-warning/10 rounded",children:i.jsxs("p",{className:"text-status-warning text-xs",children:[i.jsx("strong",{children:i.jsx(w,{children:"Soil Adjustment:"})})," ",d.fertilizerAdjustment]})})]})})]}),(d==null?void 0:d.irrigationStages)&&i.jsxs(Ne,{children:[i.jsx(Xe,{children:i.jsx(Ke,{children:i.jsx(w,{children:"Irrigation Schedule"})})}),i.jsx(Ee,{children:i.jsxs("div",{className:"space-y-2",children:[d.irrigationStages.map((ke,Se)=>i.jsxs("div",{className:"flex items-start space-x-2 p-2 bg-primary/10 rounded",children:[i.jsx("div",{className:"w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs font-medium",children:Se+1}),i.jsx("p",{className:"text-text-primary text-sm",children:ke})]},Se)),d.seasonalIrrigationNote&&i.jsx("div",{className:"mt-3 p-2 bg-primary/10 rounded",children:i.jsxs("p",{className:"text-primary text-xs",children:[i.jsx("strong",{children:i.jsx(w,{children:"Seasonal Note:"})})," ",d.seasonalIrrigationNote]})})]})})]}),i.jsxs(Ne,{children:[i.jsx(Xe,{children:i.jsx(Ke,{children:i.jsx(w,{children:"Soil Health Matrix & Projected Growth"})})}),i.jsx(Ee,{children:i.jsx("div",{className:"space-y-4",children:(()=>{var Ua,nl,al,fr,mr,pr,sl,il,rl,ol,ll,cl,Ws;const ke=vt=>vt??null,Se=ke((nl=(Ua=n==null?void 0:n.soilData)==null?void 0:Ua.properties)==null?void 0:nl.pH),lt=ke((fr=(al=n==null?void 0:n.soilData)==null?void 0:al.properties)==null?void 0:fr.nitrogen),O=ke((pr=(mr=n==null?void 0:n.soilData)==null?void 0:mr.properties)==null?void 0:pr.organicCarbon),de=ke((il=(sl=n==null?void 0:n.soilData)==null?void 0:sl.properties)==null?void 0:il.cationExchangeCapacity)||ke((ol=(rl=n==null?void 0:n.soilData)==null?void 0:rl.properties)==null?void 0:ol.cec),Ue=((cl=(ll=n==null?void 0:n.soilData)==null?void 0:ll.properties)==null?void 0:cl.fertility)||null,ie=(vt,Ge)=>{if(Ge===null)return{status:"Unknown",color:"bg-background-card text-text-secondary"};switch(vt){case"pH":return Ge>=6&&Ge<=7.5?{status:"Good",color:"bg-status-success/20 text-status-success"}:Ge>=5.5&&Ge<6||Ge>7.5&&Ge<=8?{status:"Moderate",color:"bg-status-warning/20 text-status-warning"}:{status:"Poor",color:"bg-status-error/20 text-status-error"};case"Nitrogen":return Ge>=20?{status:"Good",color:"bg-status-success/20 text-status-success"}:Ge>=10?{status:"Moderate",color:"bg-status-warning/20 text-status-warning"}:{status:"Poor",color:"bg-status-error/20 text-status-error"};case"OrganicCarbon":return Ge>=20?{status:"Good",color:"bg-status-success/20 text-status-success"}:Ge>=10?{status:"Moderate",color:"bg-status-warning/20 text-status-warning"}:{status:"Poor",color:"bg-status-error/20 text-status-error"};case"CEC":return Ge>=15?{status:"Good",color:"bg-status-success/20 text-status-success"}:Ge>=8?{status:"Moderate",color:"bg-status-warning/20 text-status-warning"}:{status:"Poor",color:"bg-status-error/20 text-status-error"};case"Fertility":return Ge?Ge.toLowerCase()==="high"?{status:"Good",color:"bg-status-success/20 text-status-success"}:Ge.toLowerCase()==="medium"?{status:"Moderate",color:"bg-status-warning/20 text-status-warning"}:{status:"Poor",color:"bg-status-error/20 text-status-error"}:{status:"Unknown",color:"bg-background-card text-text-secondary"};default:return{status:"Unknown",color:"bg-background-card text-text-secondary"}}},Pe=[],Be=(vt,Ge)=>vt===null?0:Math.max(0,Math.min(1,vt))*Ge;let Ze=0;Se===null?Ze=.6:Se>=6&&Se<=7.5?Ze=1:Se>=5&&Se<6?Ze=(Se-5)/1:Se>7.5&&Se<=8.5?Ze=1-(Se-7.5)/1:Ze=0,Pe.push(Be(Ze,.25)),Pe.push(Be(lt===null?null:Math.min(lt,30)/30,.25)),Pe.push(Be(O===null?null:Math.min(O,30)/30,.2)),Pe.push(Be(de===null?null:Math.min(de,30)/30,.15));const He=Ue?Ue.toLowerCase()==="high"?1:Ue.toLowerCase()==="medium"?.6:.2:.6;Pe.push(Be(He,.15));const We=Pe.reduce((vt,Ge)=>vt+Ge,0),Yt=Math.round(We*100),yn=(n==null?void 0:n.predictedYield)??(n!=null&&n.yieldPerHectare&&(n!=null&&n.landArea)?n.yieldPerHectare*n.landArea:null),Oa=yn?Math.min(.4,(100-Yt)/200):0,Vt=yn?Math.round(yn*(1+Oa)):null,gs=Math.round(Oa*100),$e=[{label:"pH",value:Se!==null?Se:"N/A",...ie("pH",Se)},{label:i.jsx(w,{children:"Nitrogen (%)"}),value:lt!==null?`${lt}`:"N/A",...ie("Nitrogen",lt)},{label:i.jsx(w,{children:"Organic Carbon (%)"}),value:O!==null?`${O}`:"N/A",...ie("OrganicCarbon",O)},{label:"CEC",value:de!==null?`${de}`:"N/A",...ie("CEC",de)},{label:i.jsx(w,{children:"Fertility"}),value:Ue||"N/A",...ie("Fertility",Ue)}];return i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-text-secondary text-sm mb-2",children:i.jsx(w,{children:"Soil Health Score"})}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-40 bg-background-card rounded-full h-4 overflow-hidden",children:i.jsx("div",{className:`h-4 rounded-full bg-gradient-to-r ${Yt>=70?"from-status-success to-status-success/60":Yt>=40?"from-status-warning to-status-warning/60":"from-status-error to-status-error/60"}`,style:{width:`${Yt}%`}})}),i.jsxs("div",{className:"text-text-primary font-medium",children:[Yt,"%"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-text-secondary mb-2",children:i.jsx(w,{children:"Soil Health Matrix"})}),i.jsx("div",{className:"space-y-2",children:$e.map((vt,Ge)=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-background-card rounded",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-text-secondary text-xs",children:vt.label}),i.jsx("p",{className:"text-text-primary font-medium",children:vt.value})]}),i.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${vt.color}`,children:vt.status})]},Ge))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-text-secondary mb-2",children:i.jsx(w,{children:"Projected Growth After Applying Recommendations"})}),i.jsxs("div",{className:"p-3 bg-background-card rounded space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-text-secondary text-sm",children:i.jsx(w,{children:"Current estimated yield"})}),i.jsx("span",{className:"text-text-primary font-medium",children:yn?`${Math.round(yn)} kg`:"N/A"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-text-secondary text-sm",children:i.jsx(w,{children:"Estimated improvement"})}),i.jsxs("span",{className:"text-text-primary font-medium",children:[gs,"%"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-text-secondary text-sm",children:i.jsx(w,{children:"Projected yield after applying recommendations"})}),i.jsx("span",{className:"text-text-primary font-semibold",children:Vt?`${Vt} kg`:"N/A"})]}),i.jsx("div",{className:"mt-2 text-xs text-text-secondary",children:i.jsx("p",{children:i.jsx(w,{children:"Note: This is a simple estimate based on current soil health metrics. Actual results depend on implementation quality, weather and farm management."})})})]}),((Ws=n==null?void 0:n.soilData)==null?void 0:Ws.recommendations)&&n.soilData.recommendations.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-text-secondary text-sm mb-2",children:i.jsx(w,{children:"Top actionable recommendations"})}),i.jsx("ul",{className:"list-inside list-disc text-text-primary text-sm space-y-1",children:n.soilData.recommendations.slice(0,4).map((vt,Ge)=>i.jsx("li",{children:vt},Ge))})]})]})]})]})})()})})]})]})]})})},ya=()=>`chat_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,_1=e=>{const t=new Date(e),a=new Date-t,r=a/(1e3*60*60),o=a/(1e3*60*60*24);return r<1?"Just now":r<24?`${Math.floor(r)}h ago`:o<7?`${Math.floor(o)}d ago`:t.toLocaleDateString()},w1=()=>{try{const e=JSON.parse(localStorage.getItem("user")||"{}"),t=e.farmDetails||{};return{name:e.name||"",region:t.region||t.location||"",crops:t.crops||t.cropList||[],soilType:t.soilType||"N/A",irrigation:t.irrigation||"N/A"}}catch{return{name:"",region:"",crops:[],soilType:"N/A",irrigation:"N/A"}}},SP=(e,t="hi")=>{const n=w1(),a=`
  / Farmer Profile:
 / Name: ${n.name}
 / Region: ${n.region}
 / Crops: ${n.crops.join(", ")||"N/A"}
 / Soil: ${n.soilType}
 / Irrigation: ${n.irrigation}
`;return`
      / You are a skilled agricultural advisor.
${t==="hi"?`     , -    
           
       `:"Answer in clear English. Use simple, farmer-friendly language. Provide practical advice."}

${a}

   / Farmer's Question:
${e}

      / Please answer in this format:
${t==="hi"?`1.  
2.    (  )
3. 
4.  `:`1. Main Answer
2. Action Steps (bullet points)  
3. Precautions
4. Next Suggestion`}
`},TP=async(e,t="hi")=>{var a,r,o,c,u;const n="AIzaSyBEFMwZMuhaTXxyJjWobUInMPar4TEl20s";try{const d=SP(e,t),f=await fetch(`https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent?key=${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:d}]}],generationConfig:{temperature:.4,maxOutputTokens:800,topP:.8,topK:40}})});if(!f.ok)throw new Error(`Gemini API error: ${f.status}`);const m=await f.json();return((u=(c=(o=(r=(a=m==null?void 0:m.candidates)==null?void 0:a[0])==null?void 0:r.content)==null?void 0:o.parts)==null?void 0:c.map(g=>g.text).join(`
`))==null?void 0:u.trim())||Py(e,t)}catch(d){return console.error("Gemini API error:",d),Py(e,t)}},Py=(e,t)=>{const n=w1(),a={yield:t==="hi"?`${n.name} ,    ,           ${n.region}         `:`Hello ${n.name}, crop yield depends on weather, soil quality, and seed variety. For your ${n.region} region, consult local agricultural department.`,weather:t==="hi"?`     IMD app        ${n.region}   ${n.crops.join(", ")}       `:`Check IMD app or local weather station for updates. Weather monitoring is crucial for ${n.crops.join(", ")} in ${n.region}.`,soil:t==="hi"?`      ${n.soilType}          `:`Get soil tested annually. For ${n.soilType} soil, ensure proper fertilization and irrigation.`,pest:t==="hi"?"-       ,          ":"Use neem oil and organic pesticides for pest control. Regular crop inspection is essential.",irrigation:t==="hi"?`${n.irrigation}             `:`Save water with your ${n.irrigation} irrigation system. Drip irrigation is most efficient.`,default:t==="hi"?` ${n.name} !      ${n.region}  ${n.crops.join(", ")}           `:`Hello ${n.name}! I'm your farming assistant. Ask me anything about ${n.crops.join(", ")} cultivation in ${n.region}.`},r=e.toLowerCase();let o=a.default;for(const[c,u]of Object.entries(a))if(c!=="default"&&r.includes(c)){o=u;break}return new Promise(c=>{setTimeout(()=>{c(o)},1e3+Math.random()*2e3)})},AP=(e,t)=>{try{const n=JSON.parse(localStorage.getItem("chatHistory")||"{}");n[e]={messages:t,lastUpdated:Date.now(),title:j1(t)},localStorage.setItem("chatHistory",JSON.stringify(n))}catch(n){console.error("Failed to save chat history:",n)}},mi=()=>{try{return JSON.parse(localStorage.getItem("chatHistory")||"{}")}catch(e){return console.error("Failed to load chat history:",e),{}}},j1=e=>{if(e.length===0)return"New Chat";const t=e.find(a=>a.role==="user");if(!t)return"New Chat";const n=t.text;return n.length<=30?n:n.substring(0,30)+"..."},kP=e=>{const n=mi()[e];if(!n)return null;const a={title:n.title,date:new Date(n.lastUpdated).toLocaleDateString(),messages:n.messages},r=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),o=URL.createObjectURL(r),c=document.createElement("a");c.href=o,c.download=`chat_${n.title.replace(/[^a-z0-9]/gi,"_")}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(o)},oh=e=>String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),CP=e=>String(e).replace(/"/g,"%22").replace(/'/g,"%27"),EP=e=>{if(!e&&e!==0)return"";let t=String(e),n=oh(t);const a=[];n=n.replace(/```([\s\S]*?)```/g,(m,x)=>{const g=a.length;return a.push(`<pre class="rounded bg-[#0b0b0b] p-3 overflow-auto"><code>${oh(x)}</code></pre>`),`@@CODE_BLOCK_${g}@@`});const r=n.split(`
`),o=[];let c=!1,u=!1;const d=()=>{c&&(o.push("</ul>"),c=!1),u&&(o.push("</ol>"),u=!1)};for(let m of r){const x=m.trim();if(/^#{3}\s+/.test(x)){d(),o.push('<h3 class="text-sm font-semibold">'+x.replace(/^#{3}\s+/,"")+"</h3>");continue}if(/^#{2}\s+/.test(x)){d(),o.push('<h2 class="text-base font-semibold">'+x.replace(/^#{2}\s+/,"")+"</h2>");continue}if(/^#\s+/.test(x)){d(),o.push('<h1 class="text-lg font-bold">'+x.replace(/^#\s+/,"")+"</h1>");continue}const g=x.match(/^[-*]\s+(.*)/);if(g){c||(d(),o.push('<ul class="list-disc list-inside space-y-1">'),c=!0),o.push("<li>"+g[1]+"</li>");continue}const y=x.match(/^\d+\.\s+(.*)/);if(y){u||(d(),o.push('<ol class="list-decimal list-inside space-y-1">'),u=!0),o.push("<li>"+y[1]+"</li>");continue}if(x===""){d(),o.push("<br/>");continue}d(),o.push("<p>"+x+"</p>")}d();let f=o.join(`
`);return f=f.replace(/`([^`]+)`/g,(m,x)=>`<code class="bg-black/20 px-1 rounded">${oh(x)}</code>`),f=f.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>"),f=f.replace(/__(.+?)__/g,"<strong>$1</strong>"),f=f.replace(/\*(.+?)\*/g,"<em>$1</em>"),f=f.replace(/_(.+?)_/g,"<em>$1</em>"),f=f.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(m,x,g)=>`<a href="${CP(g)}" target="_blank" rel="noopener noreferrer" class="text-blue-400 underline">${x}</a>`),f=f.replace(/@@CODE_BLOCK_(\d+)@@/g,(m,x)=>a[Number(x)]||""),f},N1=({role:e,text:t,timestamp:n})=>{const a=e==="ai";let r="";try{typeof t=="string"?r=t:t==null?r="":r=typeof t=="object"?JSON.stringify(t,null,2):String(t)}catch{r=String(t)}const o=a?EP(r):null;return i.jsx("div",{className:`max-w-[80%] rounded-lg border px-3 py-2 text-sm group ${a?"ml-0 mr-auto border-[#1F2A24] bg-[#0E1613] text-gray-200":"ml-auto mr-0 border-transparent bg-[#22C55E] text-black"}`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[a&&i.jsx("div",{className:"w-6 h-6 rounded-full bg-[#22C55E] flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx("span",{className:"text-xs font-medium text-black",children:"AI"})}),i.jsxs("div",{className:"flex-1",children:[a?i.jsx("div",{className:"prose prose-invert max-w-none break-words",dangerouslySetInnerHTML:{__html:o}}):i.jsx("p",{className:"whitespace-pre-wrap",children:r}),n&&i.jsx("p",{className:`text-xs mt-1 opacity-0 group-hover:opacity-100 transition-opacity ${a?"text-gray-500":"text-black/60"}`,children:_1(n)})]})]})})},MP=({value:e,onChange:t,onSend:n,placeholder:a,disabled:r=!1})=>{const[o,c]=A.useState(!1),[u,d]=A.useState("en-US"),f=A.useRef(null);A.useEffect(()=>{if(!("webkitSpeechRecognition"in window)){console.error("Web Speech API is not supported in this browser.");return}const y=new(window.SpeechRecognition||window.webkitSpeechRecognition);y.interimResults=!1,y.maxAlternatives=1,y.onresult=j=>{const S=j.results[0][0].transcript;t(S)},y.onerror=j=>{console.error("Speech recognition error:",j.error)},y.onend=()=>{c(!1)},f.current=y},[t]);const m=()=>{f.current&&!o&&(f.current.lang=u,f.current.start(),c(!0))},x=()=>{d(y=>y==="en-US"?"hi-IN":"en-US")},g=y=>{y.key==="Enter"&&!y.shiftKey&&!r&&(y.preventDefault(),n())};return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Re,{onClick:x,disabled:r||o,className:"bg-gray-600 text-white hover:bg-gray-500 transition-colors px-3 py-2 rounded-md",children:u==="en-US"?"EN":"HI"}),i.jsx("input",{value:e,onChange:y=>t(y.target.value),onKeyPress:g,placeholder:a,disabled:r,className:`flex-1 px-3 py-2 border border-[#1F2A24] bg-[#0E1613] text-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-[#22C55E] focus:border-transparent placeholder-gray-500 transition-opacity ${r?"opacity-50 cursor-not-allowed":""}`}),i.jsx(Re,{onClick:m,disabled:r||o,className:`bg-[#22C55E] text-black hover:bg-[#1FB454] transition-colors ${r||o?"opacity-50 cursor-not-allowed":""}`,children:o?"...":""}),i.jsx(Re,{onClick:n,disabled:r||!e.trim(),className:`bg-[#22C55E] text-black hover:bg-[#1FB454] transition-colors ${r||!e.trim()?"opacity-50 cursor-not-allowed":""}`,children:"Send"})]})},PP=[{id:1,role:"ai",text:"Hi there! How can I help you today?"},{id:2,role:"user",text:"Hi, I'm having trouble understanding the yield prediction report. Can you explain the key metrics?"},{id:3,role:"ai",text:"Of course! The yield prediction report provides an estimate based on weather, soil, and historical data. Key metrics include predicted yield (bushels/acre), confidence interval, and influencing factors like rainfall and temperature."}],LP=()=>{const[e,t]=A.useState(PP),[n,a]=A.useState("");A.useEffect(()=>{const o=e[e.length-1];if(o&&o.role==="ai"){const c=window.speechSynthesis,u=new SpeechSynthesisUtterance(o.text);c.speak(u)}},[e]);const r=()=>{if(!n.trim())return;const o={id:Date.now(),role:"user",text:n.trim()};t(c=>[...c,o]),a(""),setTimeout(()=>{const c={id:Date.now()+1,role:"ai",text:"Thank you for your question. I'm processing your request and will provide a detailed response shortly."};t(u=>[...u,c])},1e3)};return i.jsxs("div",{className:"rounded-lg border border-[#1F2A24] bg-[#111C18] p-4 flex flex-col h-[600px]",children:[i.jsx("div",{className:"flex-1 space-y-3 overflow-auto pr-2",children:e.map(o=>i.jsx(N1,{...o},o.id))}),i.jsx("div",{className:"mt-3",children:i.jsx(MP,{value:n,onChange:a,onSend:r,placeholder:"Type your message here..."})})]})},DP=[{title:"Yield Prediction Metrics",excerpt:"Hi, I'm having trouble understanding...",active:!0},{title:"Soil Health Questions",excerpt:"What's the best way to improve clay...",active:!1},{title:"Pest Control Advice",excerpt:"I've noticed some aphids on my...",active:!1}],RP=()=>i.jsxs("aside",{className:"rounded-lg border border-[#1F2A24] bg-[#111C18] p-4",children:[i.jsx("h3",{className:"text-sm font-medium text-white",children:"Chat History"}),i.jsx("div",{className:"mt-3 space-y-2",children:DP.map((e,t)=>i.jsxs("div",{className:`rounded-md border px-3 py-2 cursor-pointer transition-colors ${e.active?"border-[#22C55E] bg-[#0E1613]":"border-[#1F2A24] bg-[#0E1613] hover:bg-[#12201B]"}`,children:[i.jsx("p",{className:"text-sm text-white",children:e.title}),i.jsx("p",{className:"text-xs text-gray-500",children:e.excerpt})]},t))}),i.jsx(Re,{variant:"outline",className:"mt-4 w-full border-dashed border-[#1F2A24] bg-[#0E1613] text-gray-200 hover:bg-[#12201B]",children:"+ New Chat"})]}),S1=(e=null)=>{const[t,n]=A.useState(e||ya()),[a,r]=A.useState([]),[o,c]=A.useState(!1),[u,d]=A.useState({}),[f,m]=A.useState("hi"),[x,g]=A.useState([]);A.useEffect(()=>{(async()=>{try{const N=await ki.getChatHistory();if(N.success&&N.data){const C={};N.data.chats&&Array.isArray(N.data.chats)&&N.data.chats.forEach(E=>{C[E.id||ya()]={messages:E.messages||[],created:new Date(E.createdAt).getTime(),lastUpdated:new Date(E.updatedAt).getTime(),title:E.title||j1(E.messages)}}),d(C)}}catch(N){console.error("Failed to load backend chat history:",N);const C=mi();d(C)}})()},[]),A.useEffect(()=>{(async()=>{var N;try{const C=await ki.getSuggestedQuestions();C.success&&((N=C.data)!=null&&N.suggestions)&&g(C.data.suggestions)}catch(C){console.error("Failed to load suggested questions:",C),g(f==="hi"?["     ?","    ?","    ?","      ?"]:["How to care for my crops?","How to test soil quality?","When to use pesticides?","What precautions during rainy season?"])}})()},[f]),A.useEffect(()=>{if(e){const N=mi();if(N[e]){r(N[e].messages);return}}const _=f==="hi"?"!             ? ":"Hello! I'm your AI farming assistant. How can I help you today? ";r([{id:ya(),role:"ai",text:_,timestamp:Date.now()}])},[e,f]),A.useEffect(()=>{a.length>0&&AP(t,a)},[a,t]);const y=A.useCallback(async _=>{var C,E,P;if(!_.trim()||o)return;const N={id:ya(),role:"user",text:_.trim(),timestamp:Date.now()};r(M=>[...M,N]),c(!0);try{console.debug("[chat] Sending askQuestion request",{text:_.trim(),currentChatId:t,currentLanguage:f});const M=await ki.askQuestion(_.trim(),{language:f,chatId:t,timestamp:Date.now()});if(console.debug("[chat] askQuestion raw response:",M),M&&M.success){const H=M.data||{},J=(X,Y=new Set)=>{if(!X||Y.has(X))return null;if(typeof X=="string")return X;if(typeof X!="object")return null;Y.add(X);const ne=["answer","response","message","text","data","reply","result"];for(const U of ne)if(Object.prototype.hasOwnProperty.call(X,U)){const V=X[U];if(typeof V=="string")return V;const R=J(V,Y);if(R)return R}for(const U of Object.keys(X)){const V=X[U];if(typeof V=="string")return V;const R=J(V,Y);if(R)return R}return null},$=J(H);console.debug("[chat] Detected string in response:",$);let K=$;if(!K)try{K=JSON.stringify(H,null,2),console.warn("[chat] Response had no string fields; using JSON stringified fallback")}catch{K=String(H),console.warn("[chat] Failed to JSON.stringify response; using String() fallback")}const z={id:ya(),role:"ai",text:K,timestamp:Date.now()};console.debug("[chat] Appending AI message to messages state:",z),r(X=>[...X,z])}else throw console.error("[chat] askQuestion returned unsuccessful result",M),new Error((M==null?void 0:M.error)||"Failed to get AI response")}catch(M){console.error("Chat error:",{message:M==null?void 0:M.message,code:M==null?void 0:M.code,status:(C=M==null?void 0:M.response)==null?void 0:C.status,responseData:(E=M==null?void 0:M.response)==null?void 0:E.data,timeout:(P=M==null?void 0:M.config)==null?void 0:P.timeout});try{const H=await TP(_.trim(),f),J={id:ya(),role:"ai",text:H,timestamp:Date.now()};console.debug("[chat] Fallback AI message appended:",J),r($=>[...$,J])}catch{const J=f==="hi"?" ,              ":"I apologize, but I'm experiencing some technical difficulties. Please try again in a moment.",$={id:ya(),role:"ai",text:J,timestamp:Date.now()};console.debug("[chat] Error message appended to messages:",$),r(K=>[...K,$])}}finally{c(!1)}},[o,f,t]),j=A.useCallback(()=>{const _=ya();n(_);const N=f==="hi"?"!             ? ":"Hello! I'm your AI farming assistant. How can I help you today? ";r([{id:ya(),role:"ai",text:N,timestamp:Date.now()}]);const C=mi();d(C)},[f]),S=A.useCallback(_=>{const N=mi();N[_]&&(n(_),r(N[_].messages),d(N))},[]),T=A.useCallback(_=>{const N=mi();delete N[_],localStorage.setItem("chatHistory",JSON.stringify(N)),d(N),_===t&&j()},[t,j]),b=A.useCallback(async()=>{try{const _=await ki.clearChatHistory();if(_.success)localStorage.removeItem("chatHistory"),d({}),j();else throw new Error(_.error)}catch(_){console.error("Failed to clear chat history:",_),localStorage.removeItem("chatHistory"),d({}),j()}},[j]);return{currentChatId:t,messages:a,isLoading:o,chatHistory:u,currentLanguage:f,setCurrentLanguage:m,suggestedQuestions:x,sendMessage:y,startNewChat:j,loadChat:S,deleteChat:T,clearAllChats:b}},zP=()=>{const{currentChatId:e,messages:t,isLoading:n,chatHistory:a,sendMessage:r,startNewChat:o,loadChat:c,deleteChat:u,clearAllChats:d}=S1();return i.jsx("div",{className:"min-h-screen bg-[#0B1210] text-gray-200",children:i.jsxs("main",{className:"mx-auto max-w-7xl px-4 py-6",children:[i.jsxs("header",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-semibold text-white text-pretty",children:"Enhanced AI Chat Support 00"}),i.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Ask our advanced AI chatbot anything about CropWise or farming. Your chat history is automatically saved."})]}),i.jsxs("div",{className:"grid gap-4 lg:grid-cols-[1fr_320px]",children:[i.jsx(LP,{messages:t,isLoading:n,onSendMessage:r}),i.jsx(RP,{chatHistory:a,currentChatId:e,onNewChat:o,onLoadChat:c,onDeleteChat:u,onClearAll:d})]})]})})},OP=({value:e,onChange:t,onSend:n,placeholder:a,disabled:r=!1,suggestedQuestions:o=[],onVoiceToggle:c=null,isListening:u=!1,voiceSupported:d=!1,currentLanguage:f="en"})=>{const[m,x]=A.useState(!1),g=b=>{b.key==="Enter"&&!b.shiftKey&&!r&&(b.preventDefault(),n(),x(!1))},y=b=>{t(b),x(!1)},j=()=>{o.length>0&&!e.trim()&&x(!0)},S=()=>{setTimeout(()=>x(!1),200)},T=()=>{n(),x(!1)};return i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx("input",{value:e,onChange:b=>t(b.target.value),onKeyPress:g,onFocus:j,onBlur:S,placeholder:a,disabled:r,className:`w-full px-3 py-2 border border-[#1F2A24] bg-[#0E1613] text-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-[#22C55E] focus:border-transparent placeholder-gray-500 transition-all ${r?"opacity-50 cursor-not-allowed":""} ${u?"ring-2 ring-red-400 border-red-400":""} ${d?"pr-12":""}`}),d&&i.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-gray-400",children:f==="hi"?"":"EN"})]}),d&&c&&i.jsx("button",{onClick:c,disabled:r,className:`p-2.5 rounded-md transition-all duration-200 flex items-center justify-center ${u?"bg-red-500 hover:bg-red-600 text-white shadow-lg":"bg-[#1F2A24] hover:bg-[#2A3A2F] text-gray-300 hover:text-white"} ${r?"opacity-50 cursor-not-allowed":"hover:scale-105"}`,title:u?f==="hi"?"  ":"Stop listening":f==="hi"?"":"Start voice input",children:u?i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z"})}),i.jsxs("div",{className:"flex items-end gap-0.5 h-3",children:[i.jsx("span",{className:"w-0.5 bg-white animate-[bounce_0.6s_linear_infinite]",style:{height:"4px"}}),i.jsx("span",{className:"w-0.5 bg-white animate-[bounce_0.6s_linear_infinite]",style:{height:"8px",animationDelay:"0.1s"}}),i.jsx("span",{className:"w-0.5 bg-white animate-[bounce_0.6s_linear_infinite]",style:{height:"12px",animationDelay:"0.2s"}}),i.jsx("span",{className:"w-0.5 bg-white animate-[bounce_0.6s_linear_infinite]",style:{height:"8px",animationDelay:"0.3s"}}),i.jsx("span",{className:"w-0.5 bg-white animate-[bounce_0.6s_linear_infinite]",style:{height:"4px",animationDelay:"0.4s"}})]})]}):i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"})})}),i.jsx(Re,{onClick:T,disabled:r||!e.trim(),className:`bg-[#22C55E] text-black hover:bg-[#1FB454] transition-colors ${r||!e.trim()?"opacity-50 cursor-not-allowed":""}`,children:"Send"})]}),m&&o.length>0&&i.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-[#111C18] border border-[#1F2A24] rounded-lg shadow-lg max-h-40 overflow-y-auto z-10",children:i.jsxs("div",{className:"p-2",children:[i.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Suggested questions:"}),i.jsx("div",{className:"space-y-1",children:o.map((b,_)=>i.jsx("button",{onClick:()=>y(b),className:"w-full text-left px-2 py-1 text-sm text-gray-300 hover:bg-[#1F2A24] rounded transition-colors",children:b},_))})]})})]})},UP=()=>{const[e,t]=A.useState({status:"checking",message:"Checking connection...",timestamp:null});A.useEffect(()=>{const r=async()=>{try{const c=await ki.checkHealth();if(c.success)t({status:"online",message:"Connected to AI Assistant",timestamp:c.data.timestamp});else throw new Error(c.error)}catch{t({status:"offline",message:"Using offline mode",timestamp:new Date().toISOString()})}};r();const o=setInterval(r,3e4);return()=>clearInterval(o)},[]);const n=()=>{switch(e.status){case"online":return"bg-green-500";case"offline":return"bg-red-500";default:return"bg-yellow-500"}},a=()=>{switch(e.status){case"online":return"Online";case"offline":return"Offline";default:return"Checking"}};return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${n()} ${e.status==="checking","animate-pulse"}`}),i.jsx("span",{className:"text-xs text-gray-400",title:e.message,children:a()})]})},Ql=window.SpeechRecognition||window.webkitSpeechRecognition,BP=({messages:e=[],isLoading:t=!1,onSendMessage:n,currentLanguage:a="hi",suggestedQuestions:r=[]})=>{const[o,c]=A.useState(""),[u,d]=A.useState(!1),[f,m]=A.useState(!0),[x,g]=A.useState("idle"),[y,j]=A.useState(!1),[S,T]=A.useState(""),b=A.useRef(null),_=A.useRef(!1),N=A.useRef(""),C=A.useRef([]),E=A.useRef(null);A.useEffect(()=>{var z;(z=E.current)==null||z.scrollIntoView({behavior:"smooth"})},[e]),A.useEffect(()=>{if(!Ql){T("Speech recognition is not supported in this browser.");return}const z=new Ql;if(z.interimResults=!0,z.maxAlternatives=1,z.continuous=!1,z.lang=a==="hi"?"hi-IN":"en-US",a==="hi"){const X=["hi-IN","hi","en-IN"];let Y="hi-IN";try{z.lang=Y}catch{console.warn("Hindi language not supported, trying alternatives");for(const U of X.slice(1))try{z.lang=U,Y=U,console.log("Using fallback language:",U);break}catch{console.warn("Fallback language",U,"also not supported")}}console.log("Speech recognition initialized with language:",Y)}return z.onstart=()=>{_.current=!0,d(!0),T(""),console.log("Voice-to-text: Recognition started (lang=",z.lang,")")},z.onresult=X=>{try{let Y="",ne="";for(let Z=X.resultIndex;Z<X.results.length;Z++){const I=X.results[Z];I.isFinal?Y=I[0].transcript.trim():ne=I[0].transcript.trim()}const U=N.current||"",V=Y||ne,R=U&&U.trim()?`${U} ${V}`:V;c(R),Y?(N.current=R,console.log("Voice-to-text: Final:",Y)):ne&&console.log("Voice-to-text: Interim:",ne)}catch(Y){console.error("Error handling recognition result:",Y),T("Error processing speech input.")}},z.onend=()=>{_.current=!1,d(!1),console.log("Voice-to-text: Recognition ended")},z.onerror=X=>{console.error("Speech recognition error:",X.error),_.current=!1,d(!1),T(`Speech recognition error: ${X.error}`)},b.current=z,()=>{try{z.stop(),z.onresult=null,z.onend=null,z.onerror=null,z.onstart=null}catch{}b.current=null,_.current=!1}},[a]);const P=()=>{const z=b.current;if(!z){T("Speech recognition is not supported.");return}if(_.current){try{z.stop()}catch(X){console.warn("Failed to stop recognition:",X),T("Failed to stop speech recognition.")}return}N.current=o||"";try{z.start()}catch(X){console.error("Voice-to-text: Failed to start recognition:",X),T("Failed to start speech recognition.")}},M=()=>{try{const z=speechSynthesis.getVoices()||[];if(C.current=z,console.log("TTS: Voices loaded",z.length,"voices available"),!z.length){g("no-voices"),console.warn("TTS: No voices available - this might be temporary");return}console.log("TTS: Available voices:"),z.forEach((Y,ne)=>{console.log(`  ${ne}: ${Y.name} (${Y.lang}) - ${Y.voiceURI}`)});const X=z.filter(Y=>Y.lang.startsWith("hi")||Y.name.toLowerCase().includes("hindi")||Y.name.toLowerCase().includes("india"));console.log("TTS: Hindi voices found:",X.length),X.forEach(Y=>{console.log(`  Hindi: ${Y.name} (${Y.lang})`)}),z.length>0&&x!=="enabled"&&g("ready"),console.log("TTS: Voices ready")}catch(z){console.error("TTS: Error loading voices:",z),g("error"),T("Failed to load text-to-speech voices.")}};A.useEffect(()=>{if(!("speechSynthesis"in window)){console.error("TTS: speechSynthesis not supported"),g("unsupported"),T("Text-to-speech is not supported in this browser.");return}console.log("TTS: Initializing speechSynthesis"),M();const z=()=>{console.log("TTS: Voices changed event triggered"),M()};return window.speechSynthesis.onvoiceschanged=z,setTimeout(M,100),()=>{try{window.speechSynthesis.onvoiceschanged=null}catch(X){console.warn("TTS: Error clearing voices changed handler",X)}}},[]);const H=()=>{if(console.log("TTS: enableTTS() called"),!("speechSynthesis"in window)){console.error("TTS: speechSynthesis not supported"),g("unsupported"),T(a==="hi"?"   --   ":"Text-to-speech is not supported in this browser.");return}try{console.log("TTS: Attempting to enable via user gesture"),new Promise(X=>{if(!speechSynthesis.speaking&&!speechSynthesis.pending){X();return}console.log("TTS: Cancelling any existing speech before enabling"),speechSynthesis.cancel();let Y=0;const ne=setInterval(()=>{Y++,!speechSynthesis.speaking&&!speechSynthesis.pending?(clearInterval(ne),X()):Y>20&&(clearInterval(ne),console.warn("TTS: Forced state clear after timeout"),X())},100)}).then(()=>{try{const X={hi:"",en:"Test"},Y=X[a]||X.en,ne=new SpeechSynthesisUtterance(Y);ne.volume=.01,ne.rate=1,ne.pitch=1,a==="hi"?ne.lang="hi-IN":ne.lang="en-US";const U=speechSynthesis.getVoices();if(U.length>0){let I=null;a==="hi"?I=U.find(ee=>ee.lang.startsWith("hi")||ee.lang==="en-IN"||ee.name.toLowerCase().includes("hindi")):I=U.find(ee=>ee.lang.startsWith("en")),I&&(ne.voice=I,console.log("TTS: Using test voice:",I.name,I.lang))}let V=null,R=!1;const Z=()=>{V&&(clearTimeout(V),V=null)};ne.onstart=()=>{Z(),R=!0,console.log("TTS: Permission utterance started - TTS enabled successfully"),g("testing")},ne.onend=()=>{Z(),R&&(console.log("TTS: Permission utterance completed - TTS fully enabled"),j(!0),g("enabled"),T(""),setTimeout(()=>{M()},100))},ne.onerror=I=>{Z(),console.error("TTS: Permission utterance failed:",I.error),I.error==="interrupted"&&!R?(console.log("TTS: Trying fallback approach for interrupted error"),setTimeout(()=>{try{const ee=new SpeechSynthesisUtterance("test");ee.volume=.01,ee.rate=3,ee.lang="en-US",ee.onend=()=>{console.log("TTS: Fallback test successful"),j(!0),g("enabled"),T("")},ee.onerror=Q=>{console.error("TTS: Fallback also failed:",Q.error),g("error"),T(a==="hi"?`--    : ${Q.error||" "}`:`Failed to enable text-to-speech: ${Q.error||"Unknown error"}`)},speechSynthesis.speak(ee)}catch(ee){console.error("TTS: Fallback exception:",ee),g("error"),T(a==="hi"?"--        ":"Failed to enable text-to-speech. Please try again.")}},1e3)):(g("error"),T(a==="hi"?`--    : ${I.error||" "}`:`Failed to enable text-to-speech: ${I.error||"Unknown error"}`))},V=setTimeout(()=>{R||(Z(),console.warn("TTS: Enable attempt timed out - falling back to simple enable"),j(!0),g("enabled"),T(""),console.log("TTS: Enabled via timeout fallback"))},3e3),console.log("TTS: Speaking test utterance to enable TTS"),g("testing"),speechSynthesis.speak(ne)}catch(X){console.error("TTS: Error in enableTTS inner try:",X),console.log("TTS: Enabling without test due to inner error"),j(!0),g("enabled"),T("")}})}catch(z){console.error("TTS: enableTTS() exception:",z),console.log("TTS: Enabling without test due to outer exception"),j(!0),g("enabled"),T("")}},J=(z,X=0)=>{if(console.log("TTS: speak() called",{speakResponses:f,ttsEnabled:y,hasText:!!z,retryCount:X}),!f||!y||!(z!=null&&z.trim())){console.log("TTS: Skipping speech - conditions not met");return}if(X>3){console.error("TTS: Max retries reached, giving up"),g("error"),T("Speech failed after multiple attempts. Please try again later.");return}try{let Y=z.trim();Y=Y.replace(/\s+/g," "),a==="hi"&&!Y.match(/[\.!?]$/)&&(Y+="");const ne=[];if(Y.length>200){const V=/([^.!?]+[.!?])/g;let R;for(;(R=V.exec(Y))!==null;)ne.push(R[1].trim());ne.length===0&&ne.push(Y)}else ne.push(Y);console.log("TTS: Split text into sentences:",ne.length),new Promise(V=>{if(!speechSynthesis.speaking&&!speechSynthesis.pending){V();return}console.log("TTS: Cancelling existing speech"),speechSynthesis.cancel();let R=0;const Z=setInterval(()=>{R++,!speechSynthesis.speaking&&!speechSynthesis.pending?(clearInterval(Z),V()):R>10&&(clearInterval(Z),console.warn("TTS: Forced cancellation after timeout"),V())},100)}).then(()=>{const V=(R=0)=>{if(R>=ne.length){console.log("TTS: All sentences spoken"),g("ready");return}try{const Z=ne[R],I=new SpeechSynthesisUtterance(Z);a==="hi"?(I.lang="hi-IN",I.rate=1.1,I.pitch=1):(I.lang="en-US",I.rate=1,I.pitch=1),I.volume=.8,console.log("TTS: Creating utterance for sentence",R+1,{text:Z.substring(0,50)+"...",lang:I.lang,rate:I.rate,retryCount:X});const ee=speechSynthesis.getVoices()||C.current;console.log("TTS: Available voices count:",ee.length);let Q=null;if(a==="hi"){const re=[te=>te.lang==="hi-IN"&&te.name.toLowerCase().includes("google"),te=>te.lang==="hi-IN"&&te.name.toLowerCase().includes("microsoft"),te=>te.lang==="hi-IN",te=>te.lang.startsWith("hi-")&&!te.name.toLowerCase().includes("en"),te=>te.lang==="hi",te=>te.name.toLowerCase().includes("hindi"),te=>te.name.toLowerCase().includes("devanagari"),te=>te.lang==="en-IN"&&te.name.toLowerCase().includes("india"),te=>te.lang.startsWith("en")&&te.name.toLowerCase().includes("indian"),te=>(te.name.toLowerCase().includes("google")||te.name.toLowerCase().includes("microsoft"))&&!te.lang.includes("zh")&&!te.lang.includes("ja")];for(const te of re)if(Q=ee.find(te),Q){console.log("TTS: Selected Hindi voice:",Q.name,Q.lang);break}Q||(console.warn("TTS: No suitable Hindi voice found. Falling back to en-IN."),I.lang="en-IN",T(a==="hi"?"     -           TTS  ":"No Hindi voice available. Falling back to English-India. Please install Hindi TTS in system settings."),setTimeout(()=>T(""),5e3))}else{const re=[te=>te.lang==="en-US"&&te.name.toLowerCase().includes("google"),te=>te.lang==="en-US"&&te.name.toLowerCase().includes("microsoft"),te=>te.lang==="en-US"&&(te.name.toLowerCase().includes("female")||te.name.toLowerCase().includes("male")),te=>te.lang==="en-US",te=>te.lang.startsWith("en-")&&te.name.toLowerCase().includes("google"),te=>te.lang.startsWith("en-")&&te.name.toLowerCase().includes("microsoft"),te=>te.lang.startsWith("en-"),te=>te.lang.toLowerCase().includes("en")];for(const te of re)if(Q=ee.find(te),Q){console.log("TTS: Selected English voice:",Q.name,Q.lang);break}}Q?I.voice=Q:(console.warn("TTS: No suitable voice found for",a,"- using browser default"),a==="hi"&&(I.lang="en-IN",console.log("TTS: Falling back to en-IN for Hindi text")));let ae=!1,oe=null;const ce=()=>{oe&&(clearTimeout(oe),oe=null)};I.onstart=()=>{ae||(ce(),console.log("TTS: Sentence",R+1,"started"),g("playing"),T(""))},I.onend=()=>{ae||(ae=!0,ce(),console.log("TTS: Sentence",R+1,"completed"),V(R+1))},I.onerror=re=>{if(!ae)if(ae=!0,ce(),console.error("TTS: Sentence",R+1,"error:",re.error,"at character:",re.charIndex),re.error==="interrupted")X<2?(console.log("TTS: Sentence interrupted, retrying in 1 second..."),setTimeout(()=>V(R),1e3)):(g("error"),T("Speech was interrupted multiple times. Please try again."));else if(re.error==="network"||re.error==="synthesis-unavailable")if(X<2){console.log("TTS: Network/synthesis error, trying with fallback...");const te=Z.length>100?Z.split(/[\.!?]/)[0]+(a==="hi"?"":"."):Z;setTimeout(()=>{J(te,X+1),V(R+1)},800)}else g("error"),T(a==="hi"?"    --  ":"Text-to-speech failed due to network error.");else re.error==="synthesis-failed"||re.error==="language-unavailable"?X<2?(console.log("TTS: Synthesis/language error, trying without specific voice..."),setTimeout(()=>{try{const te=new SpeechSynthesisUtterance(Z);te.lang=a==="hi"?"en-IN":"en-US",te.rate=1,te.volume=.8,te.pitch=1,te.onstart=I.onstart,te.onend=()=>{I.onend()},te.onerror=ot=>{console.error("TTS: Fallback also failed:",ot.error),g("error"),T(a==="hi"?"--           ":"Text-to-speech feature is not available. Please install Hindi voices in system.")},speechSynthesis.speak(te)}catch(te){console.error("TTS: Fallback exception:",te),g("error"),T("Text-to-speech failed. Please try refreshing the page.")}},500)):(g("error"),T(a==="hi"?"    --       ":"Text-to-speech is not supported for the current language. Please check system settings.")):(g("error"),T(`Text-to-speech failed: ${re.error||"Unknown error"}`))},oe=setTimeout(()=>{!ae&&x!=="playing"&&(console.warn("TTS: Sentence did not start within timeout, treating as failed"),ae=!0,g("error"),T("Speech synthesis timed out. Please try again."))},5e3),console.log("TTS: Starting speech for sentence",R+1,"(attempt",X+1,")"),g("playing"),speechSynthesis.speak(I)}catch(Z){console.error("TTS: Inner speak() error for sentence",R+1,":",Z),g("error"),T(`Text-to-speech failed: ${Z.message}`)}};V(0)})}catch(Y){console.error("TTS: speak() failed:",Y),g("error"),T(`Text-to-speech failed: ${Y.message}`)}};A.useEffect(()=>{var Y,ne;if(e.length===0||!y||!f){console.log("TTS: Skipping auto-speak",{messagesLength:e.length,ttsEnabled:y,speakResponses:f});return}const z=e[e.length-1];if(console.log("TTS: Checking last message for auto-speak",{lastMessage:!!z,sender:z==null?void 0:z.sender,role:z==null?void 0:z.role,text:((Y=z==null?void 0:z.text)==null?void 0:Y.substring(0,30))+"..."}),z&&(z.sender==="AI"||z.sender==="ai"||z.role==="ai"||z.role==="AI"||z.role==="assistant"||z.sender==="bot"||z.type==="ai"||z.from==="ai")&&((ne=z.text)!=null&&ne.trim())){console.log("TTS: Auto-speaking AI message");const U=setTimeout(()=>{y&&f&&J(z.text)},200);return()=>{clearTimeout(U)}}},[e,f,y,a]);const $=()=>{!o.trim()||t||(n(o),c(""),N.current="")},K=()=>{var Y,ne;if(console.log("TTS: handlePlayLastReply() called",{ttsEnabled:y,messagesCount:e.length}),!y){console.log("TTS: TTS not enabled, calling enableTTS()"),H();return}let z=null;for(let U=e.length-1;U>=0;U--){const V=e[U];if(V&&(V.sender==="AI"||V.sender==="ai"||V.role==="ai"||V.role==="AI"||V.role==="assistant"||V.sender==="bot"||V.type==="ai"||V.from==="ai")&&((Y=V.text)!=null&&Y.trim())){z=V;break}}if(console.log("TTS: Last AI message found:",{found:!!z,text:((ne=z==null?void 0:z.text)==null?void 0:ne.substring(0,50))+"..."}),!z){console.log("TTS: No AI message found to speak"),T(a==="hi"?"    AI   ":"No AI message found to speak"),setTimeout(()=>T(""),3e3);return}(async()=>{(speechSynthesis.speaking||speechSynthesis.pending)&&(console.log("TTS: Stopping current speech before playing last reply"),speechSynthesis.cancel(),await new Promise(U=>{let V=0;const R=setInterval(()=>{V++,!speechSynthesis.speaking&&!speechSynthesis.pending?(clearInterval(R),U()):V>10&&(clearInterval(R),console.warn("TTS: Forced cancellation after timeout"),U())},100)})),T(""),g("playing"),J(z.text)})().catch(U=>{console.error("TTS: Error in cancelAndSpeak:",U),g("error"),T("Failed to play the last reply. Please try again.")})};return i.jsxs("div",{className:"rounded-lg border border-[#1F2A24] bg-[#111C18] p-4 flex flex-col h-[600px]",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-[#1F2A24]",children:[i.jsx("h3",{className:"text-sm font-medium text-white",children:"Chat Assistant"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>{console.log("Language switched to:",a==="hi"?"en":"hi")},className:"px-3 py-1 bg-[#1F2A24] text-white rounded-md hover:bg-[#2A3A2F] transition-colors text-sm",title:`Current language: ${a==="hi"?"Hindi ()":"English"}`,children:a==="hi"?"":"English"}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[i.jsx("input",{type:"checkbox",checked:f,onChange:z=>m(z.target.checked)}),"Auto-speak"]}),y?i.jsxs("div",{className:"flex items-center gap-2",children:[x==="playing"?i.jsx("button",{className:"text-sm text-orange-400 underline hover:text-orange-300",onClick:()=>{console.log("TTS: Manually stopping speech"),speechSynthesis.cancel(),g("ready")},title:"Stop current speech",children:" Stop Speech"}):i.jsx("button",{className:"text-sm text-green-400 underline hover:text-green-300",onClick:K,title:"Play the last AI response",children:" Play last reply"}),x==="error"&&i.jsx("button",{className:"text-xs text-orange-400 hover:text-orange-300",onClick:()=>{g("ready"),T(""),console.log("TTS: Manually cleared error state")},title:"Clear TTS error and try again",children:""})]}):i.jsx("button",{className:"text-sm text-blue-400 underline hover:text-blue-300",onClick:H,title:"Click to enable text-to-speech functionality",children:"Enable TTS"}),i.jsxs("div",{className:`text-xs flex items-center gap-1 ${x==="playing"?"text-green-400":x==="testing"?"text-yellow-400":x==="error"?"text-red-400":x==="enabled"||x==="ready"?"text-green-400":"text-gray-400"}`,children:[x==="playing"&&i.jsx("span",{className:"animate-pulse",children:""}),x==="testing"&&i.jsx("span",{className:"animate-spin",children:""}),x==="error"&&i.jsx("span",{children:""}),(x==="enabled"||x==="ready")&&i.jsx("span",{children:""})]}),i.jsx(UP,{})]})]}),S&&i.jsx("div",{className:"text-sm text-red-400 mb-2 p-3 bg-red-900/20 rounded-md border border-red-800/30",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"font-medium mb-1 flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:a==="hi"?":":"Error:"})]}),i.jsx("div",{className:"mb-2",children:S}),S.includes("speech")&&i.jsxs("div",{className:"text-xs mt-2 p-2 bg-red-800/20 rounded border border-red-700/30",children:[i.jsx("div",{className:"font-medium mb-1",children:a==="hi"?" :":" Suggestions:"}),a==="hi"?i.jsxs("ul",{className:"space-y-1 text-gray-300",children:[i.jsx("li",{children:"      ,     "}),i.jsx("li",{children:"     "}),i.jsx("li",{children:'      "Enable TTS"      '}),i.jsx("li",{children:" Chrome  Edge       TTS    "}),i.jsx("li",{children:" Android ,  >  > TTS     "})]}):i.jsxs("ul",{className:"space-y-1 text-gray-300",children:[i.jsx("li",{children:" Try switching to English if Hindi is not supported"}),i.jsx("li",{children:" Check your browser's language settings"}),i.jsx("li",{children:' Refresh the page or click "Enable TTS" button again'}),i.jsx("li",{children:" Use Chrome or Edge browser for better TTS support"}),i.jsx("li",{children:" On Android, install Hindi voices in Settings > Language > TTS"})]})]}),S.includes("interrupted")&&i.jsxs("div",{className:"text-xs mt-2 text-yellow-300 bg-yellow-900/20 p-2 rounded",children:[" ",a==="hi"?"          ":"Speech was interrupted. The system will automatically retry."]}),S.includes("multiple attempts")&&i.jsxs("div",{className:"text-xs mt-2 text-orange-300 bg-orange-900/20 p-2 rounded",children:[" ",a==="hi"?" TTS             ":"Try refreshing the page or switching to a different browser if TTS continues to fail."]}),S.includes("not supported")&&i.jsxs("div",{className:"text-xs mt-2 text-blue-300 bg-blue-900/20 p-2 rounded",children:[" ",a==="hi"?"  TTS      Chrome, Edge  Firefox   ":"Your browser does not support TTS. Please use Chrome, Edge, or Firefox."]})]}),i.jsx("button",{onClick:()=>{T(""),console.log("TTS: Error message dismissed by user")},className:"text-red-300 hover:text-red-200 ml-2 text-xs p-1 hover:bg-red-800/30 rounded",title:"Dismiss error",children:""})]})}),i.jsxs("div",{className:"flex-1 space-y-3 overflow-auto pr-2",children:[e.map(z=>i.jsx(N1,{...z},z.id)),t&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),i.jsx("span",{className:"text-xs",children:"AI is typing..."})]}),i.jsx("div",{ref:E})]}),i.jsx("div",{className:"mt-3 pt-3 border-t border-[#1F2A24]",children:i.jsx(OP,{value:o,onChange:c,onSend:$,placeholder:a==="hi"?"     ...":"Type your farming question here...",disabled:t,suggestedQuestions:r,onVoiceToggle:Ql?P:null,isListening:u,voiceSupported:!!Ql,currentLanguage:a})})]})},HP=({chatHistory:e={},currentChatId:t,onNewChat:n,onLoadChat:a,onDeleteChat:r,onClearAll:o})=>{const[c,u]=A.useState(null),[d,f]=A.useState(null),[m,x]=A.useState(!1),[g,y]=A.useState(null),j=d&&Object.keys(d).length>0?d:e||{},S=Object.entries(j).sort(([,_],[,N])=>(N.lastUpdated||0)-(_.lastUpdated||0)).slice(0,10),T=(_,N)=>{N.stopPropagation(),c===_?(r(_),u(null)):u(_)},b=(_,N)=>{N.stopPropagation(),kP(_)};return A.useEffect(()=>{let _=!0;return(async()=>{x(!0),y(null);try{const C=await ki.getChatHistory();if(!_)return;if(C.success&&C.data&&Array.isArray(C.data.chats)){const E={};C.data.chats.forEach(P=>{const M=P.id||P._id||String(P.sessionId||P.session||Math.random());E[M]={messages:P.messages||P.messagesList||[],created:P.createdAt?new Date(P.createdAt).getTime():P.created?P.created:Date.now(),lastUpdated:P.updatedAt?new Date(P.updatedAt).getTime():P.lastUpdated?P.lastUpdated:Date.now(),title:P.title||P.messages&&P.messages.length&&(P.messages[0].text||P.messages[0].content)||"Chat"}}),f(E)}else if(C.success&&C.data&&typeof C.data=="object"){const E=C.data.chats||C.data.history||C.data;if(Array.isArray(E)){const P={};E.forEach(M=>{const H=M.id||M._id||String(M.sessionId||M.session||Math.random());P[H]={messages:M.messages||[],created:M.createdAt?new Date(M.createdAt).getTime():Date.now(),lastUpdated:M.updatedAt?new Date(M.updatedAt).getTime():Date.now(),title:M.title||"Chat"}}),f(P)}}}catch(C){console.error("Failed to fetch chat history in sidebar:",C),y((C==null?void 0:C.message)||"Failed to load chat history")}finally{_&&x(!1)}})(),()=>{_=!1}},[]),i.jsxs("aside",{className:"rounded-lg border border-[#1F2A24] bg-[#111C18] p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-medium text-white",children:"Chat History"}),S.length>0&&i.jsx("button",{onClick:o,className:"text-xs text-red-400 hover:text-red-300 transition-colors",title:"Clear all chats",children:"Clear All"})]}),i.jsx("div",{className:"space-y-2 mb-4 max-h-[400px] overflow-y-auto",children:S.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx("p",{className:"text-sm",children:"No chat history yet."}),i.jsx("p",{className:"text-xs mt-1",children:"Start a conversation below!"})]}):S.map(([_,N])=>i.jsx("div",{className:`group rounded-md border px-3 py-2 cursor-pointer transition-colors relative ${_===t?"border-[#22C55E] bg-[#0E1613]":"border-[#1F2A24] bg-[#0E1613] hover:bg-[#12201B]"}`,onClick:()=>a(_),children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm text-white truncate",children:N.title}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:_1(N.lastUpdated)}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[N.messages.length," messages"]})]}),i.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("button",{onClick:C=>b(_,C),className:"text-xs text-blue-400 hover:text-blue-300 p-1",title:"Export chat",children:""}),i.jsx("button",{onClick:C=>T(_,C),className:`text-xs p-1 transition-colors ${c===_?"text-red-300 bg-red-900/20":"text-red-400 hover:text-red-300"}`,title:c===_?"Click again to confirm":"Delete chat",children:c===_?"":""})]})]})},_))}),i.jsx(Re,{onClick:n,variant:"outline",className:"w-full border-dashed border-[#1F2A24] bg-[#0E1613] text-gray-200 hover:bg-[#12201B] transition-colors",children:"+ New Chat"})]})},IP=()=>{const[e,t]=A.useState(!1),{currentChatId:n,messages:a,isLoading:r,chatHistory:o,currentLanguage:c,setCurrentLanguage:u,suggestedQuestions:d,sendMessage:f,startNewChat:m,loadChat:x,deleteChat:g,clearAllChats:y}=S1(),j=()=>{t(!e)};return i.jsx("div",{className:"min-h-screen bg-[#0B1210] text-gray-200",children:i.jsxs("main",{className:"mx-auto max-w-7xl px-4 py-6",children:[i.jsxs("header",{className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-white text-pretty",children:c==="hi"?" AI  ":"Advanced AI Chat Support"}),i.jsx("p",{className:"mt-1 text-sm text-gray-400",children:c==="hi"?"          ":"Intelligent farming assistant with persistent chat history and advanced features."})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-gray-400",children:" / Language:"}),i.jsxs("select",{value:c,onChange:S=>u(S.target.value),className:"bg-[#111C18] border border-[#1F2A24] rounded-md px-3 py-1 text-sm text-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500",children:[i.jsx("option",{value:"hi",children:" (Hindi)"}),i.jsx("option",{value:"en",children:"English"})]})]}),i.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-xs text-gray-500",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{children:c==="hi"?"AI  ":"AI Assistant Online"})]}),i.jsx("button",{onClick:j,className:"lg:hidden p-2 rounded-md border border-[#1F2A24] bg-[#111C18] text-gray-300 hover:bg-[#12201B] transition-colors",title:e?"Show chat history":"Hide chat history",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:e?"M4 6h16M4 12h16M4 18h16":"M6 18L18 6M6 6l12 12"})})})]})]}),i.jsxs("div",{className:`grid gap-4 transition-all duration-300 ${e?"grid-cols-1":"lg:grid-cols-[1fr_320px]"}`,children:[i.jsx(BP,{messages:a,isLoading:r,onSendMessage:f,currentLanguage:c,suggestedQuestions:d}),i.jsx("div",{className:`${e?"hidden lg:hidden":"block"} transition-all duration-300`,children:i.jsx(HP,{chatHistory:o,currentChatId:n,onNewChat:m,onLoadChat:x,onDeleteChat:g,onClearAll:y})})]})]})})};var FP={};const qP=()=>{const e=on(),t=$t(),{login:n}=Pt(),{t:a}=za(),[r,o]=A.useState({email:"",password:""}),[c,u]=A.useState({}),[d,f]=A.useState(!1),m=async y=>{var j,S,T,b,_,N,C;if(y.preventDefault(),f(!0),u({}),!r.email||!r.password){u({general:"Please fill in all fields"}),f(!1);return}try{console.log(" Attempting login for:",r.email);const E=await er.login(r.email,r.password);if(console.log(" Login result:",E),E.success){console.log(" Login successful");const{user:P,token:M}=E.data;n(M,P);const H=((S=(j=t.state)==null?void 0:j.from)==null?void 0:S.pathname)||"/dashboard";e(H,{replace:!0})}else if(console.log(" Login failed:",E.error),console.log(" Login result data:",E.data),E.error.includes("verify")){console.log(" Email verification required, extracting userId...");const P=((b=(T=E.data)==null?void 0:T.user)==null?void 0:b.id)||((N=(_=E.data)==null?void 0:_.user)==null?void 0:N._id)||((C=E.data)==null?void 0:C.userId);console.log(" Extracted userId for verification:",P),e("/verify-email",{state:{email:r.email,userId:P,message:E.error}})}else u({general:E.error})}catch(E){console.error("Login error:",E),u({general:"Login failed. Please try again."})}finally{f(!1)}},x=(y,j)=>{o(S=>({...S,[y]:j})),c[y]&&u(S=>({...S,[y]:""}))},g=()=>{const y=FP.REACT_APP_API_URL||"https://upaj-flask-backend-liart.vercel.app/api";window.location.href=`${y}/auth/google`};return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:i.jsxs(Ne,{className:"w-full max-w-md",children:[i.jsxs(Xe,{className:"text-center",children:[i.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-primary text-2xl",children:""})}),i.jsx(Ke,{className:"text-2xl text-text-primary",children:i.jsx(w,{children:"Welcome Back"})}),i.jsx("p",{className:"text-text-secondary",children:i.jsx(w,{children:"Sign in to your AgriVision account"})})]}),i.jsxs(Ee,{children:[i.jsx("div",{className:"mb-6",children:i.jsxs(Re,{type:"button",onClick:g,className:"w-full bg-white hover:bg-gray-100 text-gray-900 font-semibold border border-gray-300 flex items-center justify-center gap-3",disabled:d,children:[i.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),i.jsx(w,{children:"Sign in with Google"})]})}),i.jsxs("div",{className:"relative mb-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-border"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-background text-text-secondary",children:i.jsx(w,{children:"or"})})})]}),i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.general&&i.jsx("div",{className:"text-status-error text-sm text-center bg-status-error/10 border border-status-error/20 rounded-md p-3",children:c.general}),i.jsx(kt,{label:a("Email"),type:"email",value:r.email,onChange:y=>x("email",y.target.value),error:c.email,placeholder:a("Enter your email")}),i.jsx(kt,{label:a("Password"),type:"password",value:r.password,onChange:y=>x("password",y.target.value),error:c.password,placeholder:a("Enter your password")}),i.jsx("div",{className:"flex justify-between items-center text-sm",children:i.jsx(Me,{to:"/forgot-password",className:"text-primary hover:text-primary/80",children:i.jsx(w,{children:"Forgot password?"})})}),i.jsx(Re,{type:"submit",className:"w-full",disabled:d,children:d?i.jsx(w,{children:"Signing in..."}):i.jsx(w,{children:"Sign In"})})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-text-secondary",children:[i.jsx(w,{children:"Don't have an account?"})," ",i.jsx(Me,{to:"/signup",className:"text-primary hover:text-primary/80 font-medium",children:i.jsx(w,{children:"Sign up"})})]})}),i.jsx("div",{className:"mt-4 text-center",children:i.jsxs(Me,{to:"/",className:"text-text-secondary hover:text-text-primary text-sm",children:[" ",i.jsx(w,{children:"Back to Home"})]})})]})]})})};var ZP={};const $P=()=>{const e=on(),{t}=za(),[n,a]=A.useState(1),[r,o]=A.useState(!1),[c,u]=A.useState(!1),[d,f]=A.useState({name:"",email:"",password:"",confirmPassword:"",farmName:"",location:"",totalArea:""}),[m,x]=A.useState({}),[g,y]=A.useState(!1),S=(C=>({length:C.length>=8,lowercase:/[a-z]/.test(C),uppercase:/[A-Z]/.test(C),number:/\d/.test(C),special:/[!@#$%^&*(),.?":{}|<>]/.test(C)}))(d.password),T=Object.values(S).every(C=>C),b=async C=>{C.preventDefault(),y(!0),x({});const E={};if(d.name.trim()?d.name.trim().length<2&&(E.name="Name must be at least 2 characters"):E.name="Name is required",d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(E.email="Please enter a valid email address"):E.email="Email is required",d.password?T||(E.password="Password does not meet security requirements"):E.password="Password is required",d.confirmPassword?d.password!==d.confirmPassword&&(E.confirmPassword="Passwords do not match"):E.confirmPassword="Please confirm your password",d.farmName.trim()||(E.farmName="Farm name is required"),d.location.trim()||(E.location="Location is required"),(!d.totalArea||parseFloat(d.totalArea)<=0)&&(E.totalArea="Please enter a valid total area"),Object.keys(E).length>0){x(E),y(!1);return}try{console.log(" Calling signup API...");const P=await er.signup({name:d.name,email:d.email,password:d.password,farmDetails:{farmName:d.farmName,location:d.location,totalArea:parseFloat(d.totalArea)}});if(console.log(" Signup API result:",P),P.success){const M=P.data||{};console.log(" Signup response data:",M);const H=M.user||M.data||{};console.log(" Nested user object:",H);const J=H.id||H._id||M.userId||M.id||M._id||null;console.log(" Extracted userId:",J),console.log(" userId type:",typeof J),console.log(" Navigating to verify-email with state:",{email:d.email,name:d.name,userId:J,message:"Please verify your email to complete registration."}),e("/verify-email",{state:{email:d.email,name:d.name,userId:J,message:"Please verify your email to complete registration."}})}else console.log(" Signup failed:",P.error),x({general:P.error})}catch(P){console.error(" Unexpected signup error:",P),x({general:"Signup failed. Please try again."})}finally{y(!1)}},_=()=>{const C=ZP.REACT_APP_API_URL||"https://upaj-flask-backend-liart.vercel.app/api";window.location.href=`${C}/auth/google`},N=(C,E)=>{f(P=>({...P,[C]:E})),m[C]&&x(P=>({...P,[C]:""}))};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-background-card flex items-center justify-center px-4 py-8",children:i.jsx("div",{className:"w-full max-w-2xl",children:i.jsxs(Ne,{className:"shadow-xl border-border/30 backdrop-blur-sm bg-background-card/95",children:[i.jsxs(Xe,{className:"text-center pb-6 px-8 pt-8",children:[i.jsx("div",{className:"mx-auto mb-4 w-20 h-20 bg-gradient-to-br from-primary/30 via-primary/20 to-primary/10 rounded-2xl flex items-center justify-center shadow-lg",children:i.jsx("span",{className:"text-primary text-3xl filter drop-shadow-lg",children:""})}),i.jsx(Ke,{className:"text-3xl font-bold text-text-primary mb-2 tracking-tight",children:i.jsx(w,{children:"Create Your Account"})}),i.jsx("p",{className:"text-text-secondary",children:i.jsx(w,{children:"Join thousands of farmers optimizing their yields with AI"})}),i.jsxs("div",{className:"flex items-center justify-center mt-6 p-4 bg-background rounded-xl border border-border/50",children:[i.jsxs("div",{className:`flex items-center space-x-2 transition-all duration-300 ${n>=1?"text-primary":"text-text-secondary"}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 transition-all duration-300 ${n>=1?"border-primary bg-primary text-white shadow-lg shadow-primary/30":"border-border bg-background"}`,children:n>1?i.jsx(Jt,{size:16}):"1"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"text-xs font-semibold",children:i.jsx(w,{children:"Personal Info"})}),i.jsx("div",{className:"text-xs opacity-70",children:i.jsx(w,{children:"Basic details"})})]})]}),i.jsx("div",{className:`w-8 h-1 mx-2 rounded-full transition-all duration-500 ${n>1?"bg-gradient-to-r from-primary to-primary/70":"bg-border"}`}),i.jsxs("div",{className:`flex items-center space-x-2 transition-all duration-300 ${n>=2?"text-primary":"text-text-secondary"}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 transition-all duration-300 ${n>=2?"border-primary bg-primary text-white shadow-lg shadow-primary/30":"border-border bg-background"}`,children:n>2?i.jsx(Jt,{size:16}):"2"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"text-xs font-semibold",children:i.jsx(w,{children:"Farm Details"})}),i.jsx("div",{className:"text-xs opacity-70",children:i.jsx(w,{children:"Location & size"})})]})]})]})]}),i.jsxs(Ee,{className:"px-6 pb-6 sm:px-8 sm:pb-8",children:[i.jsx("div",{className:"mb-6",children:i.jsxs(Re,{type:"button",onClick:_,className:"w-full bg-white hover:bg-gray-50 text-gray-900 font-semibold border-2 border-gray-200 hover:border-gray-300 hover:shadow-lg flex items-center justify-center gap-3 h-12 text-sm transition-all duration-200 rounded-xl",disabled:g,children:[i.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),i.jsx(w,{children:"Continue with Google"})]})}),i.jsxs("div",{className:"relative mb-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-border"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-4 bg-background-card text-text-secondary font-medium",children:i.jsx(w,{children:"or continue with email"})})})]}),i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[m.general&&i.jsxs("div",{className:"flex items-start space-x-2 text-status-error text-sm bg-status-error/10 border border-status-error/20 rounded-lg p-3 animate-in fade-in slide-in-from-top-2 duration-300",children:[i.jsx(La,{size:18,className:"flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"Registration Failed"}),i.jsx("div",{className:"opacity-90",children:m.general})]})]}),n===1&&i.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-500",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-text-primary mb-1",children:i.jsx(w,{children:"Personal Information"})}),i.jsx("p",{className:"text-text-secondary text-sm",children:i.jsx(w,{children:"Let's start with your basic details"})})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx(kt,{label:t("Full Name"),value:d.name,onChange:C=>N("name",C.target.value),error:m.name,placeholder:t("Enter your full name"),className:"h-12 text-sm rounded-lg border-2 focus:border-primary/50 transition-all duration-200"}),i.jsx(kt,{label:t("Email Address"),type:"email",value:d.email,onChange:C=>N("email",C.target.value),error:m.email,placeholder:t("Enter your email address"),className:"h-12 text-sm rounded-lg border-2 focus:border-primary/50 transition-all duration-200"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(kt,{label:t("Password"),type:r?"text":"password",value:d.password,onChange:C=>N("password",C.target.value),error:m.password,placeholder:t("Create a strong password"),className:"h-12 text-sm rounded-lg border-2 focus:border-primary/50 transition-all duration-200 pr-12"}),i.jsx("button",{type:"button",onClick:()=>o(!r),className:"absolute right-3 top-[2.2rem] text-text-secondary hover:text-text-primary transition-colors duration-200 p-1 rounded-md hover:bg-background",children:r?i.jsx(Px,{size:18}):i.jsx(ko,{size:18})})]}),d.password&&i.jsxs("div",{className:"space-y-2 p-3 bg-gradient-to-br from-background to-background/50 rounded-lg border border-border/50 animate-in fade-in slide-in-from-top-2 duration-300",children:[i.jsxs("p",{className:"text-xs font-semibold text-text-primary flex items-center space-x-2",children:[i.jsx("span",{children:i.jsx(w,{children:"Password Strength"})}),i.jsx("div",{className:`w-2 h-2 rounded-full ${T?"bg-status-success":"bg-status-warning"} animate-pulse`})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:Object.entries({[t("At least 8 characters")]:S.length,[t("Lowercase letter")]:S.lowercase,[t("Uppercase letter")]:S.uppercase,[t("Number")]:S.number,[t("Special character")]:S.special}).map(([C,E])=>i.jsxs("div",{className:`flex items-center space-x-2 transition-all duration-300 ${E?"text-status-success":"text-text-secondary"}`,children:[i.jsx(Jt,{size:12,className:`transition-all duration-300 ${E?"text-status-success":"text-text-secondary opacity-50"}`}),i.jsx("span",{className:E?"font-medium":"",children:C})]},C))}),i.jsx("div",{className:"mt-2",children:i.jsxs("div",{className:"flex items-center space-x-2 text-xs text-text-secondary",children:[i.jsx("span",{children:"Strength:"}),i.jsx("div",{className:"flex-1 bg-border h-1.5 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full transition-all duration-500 ${Object.values(S).filter(Boolean).length===0?"w-0":Object.values(S).filter(Boolean).length<=2?"w-1/3 bg-status-error":Object.values(S).filter(Boolean).length<=4?"w-2/3 bg-status-warning":"w-full bg-status-success"}`})}),i.jsx("span",{className:"font-medium text-xs",children:Object.values(S).filter(Boolean).length<=2?"Weak":Object.values(S).filter(Boolean).length<=4?"Medium":"Strong"})]})})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(kt,{label:t("Confirm Password"),type:c?"text":"password",value:d.confirmPassword,onChange:C=>N("confirmPassword",C.target.value),error:m.confirmPassword,placeholder:t("Confirm your password"),className:"h-12 text-sm rounded-lg border-2 focus:border-primary/50 transition-all duration-200 pr-12"}),i.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-[2.2rem] text-text-secondary hover:text-text-primary transition-colors duration-200 p-1 rounded-md hover:bg-background",children:c?i.jsx(Px,{size:18}):i.jsx(ko,{size:18})}),d.confirmPassword&&d.password===d.confirmPassword&&i.jsx("div",{className:"absolute right-10 top-[2.2rem] text-status-success",children:i.jsx(Jt,{size:18})})]})]}),i.jsx(Re,{type:"button",onClick:()=>{const C={};d.name.trim()||(C.name="Name is required"),d.email.trim()||(C.email="Email is required"),T||(C.password="Password requirements not met"),d.password!==d.confirmPassword&&(C.confirmPassword="Passwords do not match"),Object.keys(C).length===0?(a(2),x({})):x(C)},className:"w-full h-12 text-base font-semibold bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",disabled:!d.name||!d.email||!T||d.password!==d.confirmPassword,children:i.jsx(w,{children:"Continue to Farm Information "})})]}),n===2&&i.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-500",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{className:"text-center flex-1",children:[i.jsx("h3",{className:"text-xl font-bold text-text-primary mb-1",children:i.jsx(w,{children:"Farm Information"})}),i.jsx("p",{className:"text-text-secondary text-sm",children:i.jsx(w,{children:"Tell us about your farming operation"})})]})}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsxs(Re,{type:"button",onClick:()=>a(1),className:"text-xs bg-background border border-border text-text-secondary hover:text-text-primary hover:border-primary transition-all duration-200 px-4 py-1.5 rounded-md flex items-center",children:[i.jsx(hf,{size:14,className:"mr-1"}),i.jsx(w,{children:"Back to Personal Info"})]})}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx(kt,{label:t("Farm Name"),value:d.farmName,onChange:C=>N("farmName",C.target.value),error:m.farmName,placeholder:t("Enter your farm name"),className:"h-12 text-sm rounded-lg border-2 focus:border-primary/50 transition-all duration-200"}),i.jsx(kt,{label:t("Location"),value:d.location,onChange:C=>N("location",C.target.value),error:m.location,placeholder:t("District, State (e.g., Pune, Maharashtra)"),className:"h-12 text-sm rounded-lg border-2 focus:border-primary/50 transition-all duration-200"}),i.jsx(kt,{label:t("Total Area (acres)"),type:"number",step:"0.1",min:"0",value:d.totalArea,onChange:C=>N("totalArea",C.target.value),error:m.totalArea,placeholder:t("Enter total farm area in acres"),className:"h-12 text-sm rounded-lg border-2 focus:border-primary/50 transition-all duration-200"})]}),d.totalArea&&i.jsxs("div",{className:"p-3 bg-gradient-to-br from-primary/5 to-primary/10 rounded-lg border border-primary/20 animate-in fade-in slide-in-from-top-2 duration-300",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-primary mb-1",children:[i.jsx(Jt,{size:14}),i.jsx("span",{className:"text-xs font-semibold",children:"Farm Size Classification"})]}),i.jsx("p",{className:"text-xs text-text-secondary",children:parseFloat(d.totalArea)<=2.5?"Small farm - Perfect for intensive crop monitoring":parseFloat(d.totalArea)<=25?"Medium farm - Ideal for diversified agriculture":"Large farm - Great for commercial farming operations"})]}),i.jsx("div",{className:"p-3 bg-gradient-to-br from-background to-background/50 rounded-lg border border-border/50",children:i.jsx("div",{className:"text-xs text-text-secondary leading-relaxed",children:i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(Jt,{size:14,className:"text-primary mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-text-primary",children:"Privacy & Terms:"})," By creating an account, you agree to our"," ",i.jsx(Me,{to:"/terms",className:"text-primary hover:text-primary/80 font-semibold underline underline-offset-2",children:"Terms of Service"})," ","and"," ",i.jsx(Me,{to:"/privacy",className:"text-primary hover:text-primary/80 font-semibold underline underline-offset-2",children:"Privacy Policy"}),". Your farm data is secure and never shared without permission."]})]})})}),i.jsxs(Re,{type:"submit",className:"w-full h-12 text-base font-bold bg-gradient-to-r from-primary via-primary to-primary/80 hover:from-primary/90 hover:via-primary/90 hover:to-primary/70 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 relative overflow-hidden",disabled:g||!d.farmName||!d.location||!d.totalArea,children:[g?i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i.jsx("span",{className:"text-sm",children:i.jsx(w,{children:"Creating your account..."})})]}):i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx("span",{className:"text-sm",children:i.jsx(w,{children:"Create My AgriVision Account"})}),i.jsx(Jt,{size:16})]}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full transition-transform duration-700 group-hover:translate-x-full"})]})]})]}),i.jsxs("div",{className:"space-y-3 pt-4 border-t border-border/50 mt-6",children:[i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-text-secondary text-sm",children:[i.jsx(w,{children:"Already have an account?"})," ",i.jsx(Me,{to:"/login",className:"text-primary hover:text-primary/80 font-semibold underline underline-offset-2 transition-colors duration-200",children:i.jsx(w,{children:"Sign in here"})})]})}),i.jsx("div",{className:"text-center",children:i.jsxs(Me,{to:"/",className:"inline-flex items-center space-x-1 text-text-secondary hover:text-text-primary text-xs transition-colors duration-200 group",children:[i.jsx(hf,{size:14}),i.jsx("span",{className:"group-hover:underline underline-offset-2",children:i.jsx(w,{children:"Back to Home"})})]})})]})]})]})})})},GP=()=>{var C,E,P,M,H,J,$,K,z,X,Y,ne,U,V,R,Z,I;const e=on(),t=$t(),{login:n}=Pt();console.log(" VerifyEmail component loaded"),console.log(" Location state:",t.state),console.log(" Full location object:",t);const a=((C=t.state)==null?void 0:C.email)||"user@example.com",r=((E=t.state)==null?void 0:E.name)||"User",o=((P=t.state)==null?void 0:P.userId)||((M=t.state)==null?void 0:M.id)||((H=t.state)==null?void 0:H._id)||(($=(J=t.state)==null?void 0:J.user)==null?void 0:$.id)||((z=(K=t.state)==null?void 0:K.user)==null?void 0:z._id),c=((X=t.state)==null?void 0:X.message)||"Please verify your email to continue.";console.log(" Email extracted:",a),console.log(" Name extracted:",r),console.log(" User ID extracted:",o),console.log(" Message extracted:",c),console.log(" Checking all possible userId locations:"),console.log("   - location.state?.userId:",(Y=t.state)==null?void 0:Y.userId),console.log("   - location.state?.id:",(ne=t.state)==null?void 0:ne.id),console.log("   - location.state?._id:",(U=t.state)==null?void 0:U._id),console.log("   - location.state?.user?.id:",(R=(V=t.state)==null?void 0:V.user)==null?void 0:R.id),console.log("   - location.state?.user?._id:",(I=(Z=t.state)==null?void 0:Z.user)==null?void 0:I._id);const[u,d]=A.useState(["","","","","",""]),[f,m]=A.useState({}),[x,g]=A.useState(!1),[y,j]=A.useState(0);A.useEffect(()=>{if(y>0){const ee=setTimeout(()=>j(y-1),1e3);return()=>clearTimeout(ee)}},[y]);const S=async ee=>{ee.preventDefault(),g(!0),m({});const Q=u.join("");if(console.log(" Starting verification submit..."),console.log(" Email from state:",a),console.log(" User ID from state:",o),console.log(" Verification code:",Q),Q.length!==6){console.log(" Code length invalid:",Q.length),m({verification:"Please enter the complete 6-digit code"}),g(!1);return}try{if(!o){console.log(" No userId found in state"),m({verification:"Unable to verify OTP. Please try signing up again."}),g(!1);return}console.log(" Calling authAPI.verifyOTP...");const ae=await er.verifyOTP(a,Q,o);if(console.log(" API result:",ae),ae.success){console.log(" Verification successful");const oe=ae.data||{},ce=oe.user||oe,re=oe.token||oe.authToken||oe.accessToken||null;console.log(" User data:",ce),console.log(" Token present:",!!re),n(re,ce),e("/dashboard",{state:{message:"Welcome to AgriVision! Your account has been verified successfully."}})}else console.log(" Verification failed:",ae.error),m({verification:ae.error})}catch(ae){console.error(" Unexpected error in verification:",ae),m({verification:"Verification failed. Please try again."})}finally{g(!1)}},T=(ee,Q)=>{if(Q.length<=1&&/^\d*$/.test(Q)){const ae=[...u];if(ae[ee]=Q,d(ae),Q&&ee<5){const oe=document.getElementById(`code-${ee+1}`);oe&&oe.focus()}f.verification&&m({})}},b=(ee,Q)=>{if(Q.key==="Backspace"&&!u[ee]&&ee>0){const ae=document.getElementById(`code-${ee-1}`);ae&&ae.focus()}},_=async()=>{if(y===0){j(60);try{if(!o){m({verification:"Unable to resend OTP. Please try signing up again."}),j(0);return}const ee=await er.resendOTP(a,o);ee.success?(console.log("OTP resent successfully"),m({})):(m({verification:ee.error}),j(0))}catch{m({verification:"Failed to resend OTP. Please try again."}),j(0)}}},N=ee=>{ee.preventDefault();const ae=(ee.clipboardData||window.clipboardData).getData("text").replace(/\D/g,"").slice(0,6).split(""),oe=Array(6).fill("").map((re,te)=>ae[te]||"");d(oe);const ce=Math.min(ae.length-1,5);setTimeout(()=>{const re=document.getElementById(`code-${ce}`);re&&re.focus()},10)};return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-4 py-8",children:i.jsxs(Ne,{className:"w-full max-w-md",children:[i.jsxs(Xe,{className:"text-center",children:[i.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-primary text-2xl",children:""})}),i.jsx(Ke,{className:"text-2xl text-text-primary",children:"Verify Your Email"}),i.jsxs("p",{className:"text-text-secondary text-sm",children:["We've sent a 6-digit verification code to",i.jsx("br",{}),i.jsx("span",{className:"text-primary font-medium",children:a})]})]}),i.jsx(Ee,{children:i.jsxs("form",{onSubmit:S,className:"space-y-6",children:[f.verification&&i.jsx("div",{className:"text-status-error text-sm text-center bg-status-error/10 border border-status-error/20 rounded-md p-3",children:f.verification}),i.jsx("div",{className:"flex justify-center space-x-3",onPaste:N,children:u.map((ee,Q)=>i.jsx("input",{id:`code-${Q}`,type:"text",maxLength:1,value:ee,onChange:ae=>T(Q,ae.target.value),onKeyDown:ae=>b(Q,ae),className:"w-12 h-12 text-center text-xl font-semibold bg-background-card border border-border rounded-lg text-text-primary focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",autoComplete:"off"},Q))}),i.jsx(Re,{type:"submit",className:"w-full",disabled:x,children:x?"Verifying...":"Verify Email"}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"text-text-secondary text-sm",children:"Didn't receive the code?"}),i.jsx("button",{type:"button",className:`text-sm font-medium ${y===0?"text-primary hover:text-primary/80 cursor-pointer":"text-text-secondary cursor-not-allowed"}`,onClick:_,disabled:y>0,children:y>0?`Resend in ${y}s`:"Resend Code"})]}),i.jsxs("div",{className:"text-center pt-4 border-t border-border",children:[i.jsx("p",{className:"text-text-secondary text-sm mb-2",children:"Want to use a different email?"}),i.jsx(Me,{to:"/signup",className:"text-primary hover:text-primary/80 text-sm font-medium",children:" Back to Sign Up"})]})]})})]})})},YP=()=>{const e=on(),[t,n]=A.useState(""),[a,r]=A.useState(!1),[o,c]=A.useState({}),[u,d]=A.useState(!1),f=async x=>{if(x.preventDefault(),d(!0),c({}),!t.trim()){c({email:"Email is required"}),d(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){c({email:"Please enter a valid email address"}),d(!1);return}try{const y=await er.forgotPassword(t);y.success?r(!0):c({general:y.error})}catch{c({general:"Failed to send reset email. Please try again."})}finally{d(!1)}},m=x=>{n(x),o.email&&c({})};return a?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:i.jsxs(Ne,{className:"w-full max-w-md",children:[i.jsxs(Xe,{className:"text-center",children:[i.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-status-success/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-status-success text-2xl",children:""})}),i.jsx(Ke,{className:"text-2xl text-text-primary",children:"Check Your Email"}),i.jsxs("p",{className:"text-text-secondary text-sm",children:["We've sent a password reset link to",i.jsx("br",{}),i.jsx("span",{className:"text-primary font-medium",children:t})]})]}),i.jsxs(Ee,{className:"space-y-4",children:[i.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-md p-4",children:[i.jsx("p",{className:"text-text-primary text-sm",children:i.jsx("strong",{children:"Next steps:"})}),i.jsxs("ul",{className:"text-text-secondary text-sm mt-2 space-y-1",children:[i.jsx("li",{children:" Check your email inbox"}),i.jsx("li",{children:" Click the reset link in the email"}),i.jsx("li",{children:" Create a new password"}),i.jsx("li",{children:" Sign in with your new password"})]})]}),i.jsx(Re,{onClick:()=>e("/login"),className:"w-full",children:"Back to Sign In"}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-text-secondary text-sm",children:["Didn't receive the email?"," ",i.jsx("button",{onClick:()=>{r(!1),n("")},className:"text-primary hover:text-primary/80 font-medium",children:"Try again"})]})})]})]})}):i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:i.jsxs(Ne,{className:"w-full max-w-md",children:[i.jsxs(Xe,{className:"text-center",children:[i.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-primary text-2xl",children:""})}),i.jsx(Ke,{className:"text-2xl text-text-primary",children:"Reset Password"}),i.jsx("p",{className:"text-text-secondary",children:"Enter your email address and we'll send you a link to reset your password"})]}),i.jsxs(Ee,{children:[i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.general&&i.jsx("div",{className:"text-status-error text-sm text-center bg-status-error/10 border border-status-error/20 rounded-md p-3",children:o.general}),i.jsx(kt,{label:"Email Address",type:"email",value:t,onChange:x=>m(x.target.value),error:o.email,placeholder:"Enter your email address",autoFocus:!0}),i.jsx(Re,{type:"submit",className:"w-full",disabled:u,children:u?"Sending reset link...":"Send Reset Link"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-text-secondary",children:["Remember your password?"," ",i.jsx(Me,{to:"/login",className:"text-primary hover:text-primary/80 font-medium",children:"Sign in"})]})}),i.jsx("div",{className:"mt-4 text-center",children:i.jsx(Me,{to:"/",className:"text-text-secondary hover:text-text-primary text-sm",children:" Back to Home"})})]})]})})},VP=()=>{const e=on(),[t]=XS(),n=t.get("token"),[a,r]=A.useState({password:"",confirmPassword:""}),[o,c]=A.useState({}),[u,d]=A.useState(!1),[f,m]=A.useState(!0),[x,g]=A.useState(!1);A.useEffect(()=>{n?console.log(" Reset token found:",n):(m(!1),c({general:"Invalid or missing reset token. Please request a new password reset."}))},[n]);const y=async b=>{b.preventDefault(),d(!0),c({}),console.log(" Form data on submit:",a),console.log(" Password type:",typeof a.password),console.log(" Confirm password type:",typeof a.confirmPassword);const _=String(a.password||"").trim(),N=String(a.confirmPassword||"").trim();if(!_){c({password:"Password is required"}),d(!1);return}if(_.length<6){c({password:"Password must be at least 6 characters long"}),d(!1);return}if(!N){c({confirmPassword:"Please confirm your password"}),d(!1);return}if(_!==N){c({confirmPassword:"Passwords do not match"}),d(!1);return}try{console.log(" Attempting password reset with token:",n),console.log(" Using password:",_);const C=await er.resetPassword(n,_);console.log(" Reset password result:",C),C.success?(console.log(" Password reset successful"),g(!0),setTimeout(()=>{e("/login",{state:{message:"Password reset successful! Please login with your new password."}})},3e3)):(console.log(" Password reset failed:",C.error),(C.error.includes("expired")||C.error.includes("invalid"))&&m(!1),c({general:C.error}))}catch(C){console.error(" Unexpected reset password error:",C),c({general:"Failed to reset password. Please try again."})}finally{d(!1)}},j=(b,_)=>{console.log(` Input change - Field: ${b}, Value:`,_,typeof _),r(N=>{const C={...N,[b]:_};return console.log(" New form data:",C),C}),o[b]&&c(N=>({...N,[b]:""}))},S=b=>{j("password",b.target.value)},T=b=>{j("confirmPassword",b.target.value)};return x?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50 px-4",children:i.jsxs(Ne,{className:"w-full max-w-md",children:[i.jsxs(Xe,{className:"text-center",children:[i.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsx(Ke,{className:"text-2xl font-bold text-gray-900",children:"Password Reset Successful!"})]}),i.jsxs(Ee,{className:"text-center",children:[i.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been successfully reset. You will be redirected to the login page in a few seconds."}),i.jsx(Me,{to:"/login",className:"text-green-600 hover:text-green-700 font-medium",children:"Go to Login Now"})]})]})}):f?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50 px-4",children:i.jsxs(Ne,{className:"w-full max-w-md",children:[i.jsxs(Xe,{className:"text-center",children:[i.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-3a1 1 0 011-1h2.586l6.414-6.414a6 6 0 019 0z"})})}),i.jsx(Ke,{className:"text-2xl font-bold text-gray-900",children:"Reset Your Password"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your new password below"})]}),i.jsxs(Ee,{children:[i.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.general&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:o.general}),i.jsx(kt,{label:"New Password",type:"password",value:a.password,onChange:S,error:o.password,placeholder:"Enter your new password",required:!0}),i.jsx(kt,{label:"Confirm New Password",type:"password",value:a.confirmPassword,onChange:T,error:o.confirmPassword,placeholder:"Confirm your new password",required:!0}),i.jsx(Re,{type:"submit",disabled:u,className:"w-full",children:u?"Resetting Password...":"Reset Password"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx(Me,{to:"/login",className:"text-green-600 hover:text-green-700 text-sm font-medium",children:"Back to Login"})})]})]})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50 px-4",children:i.jsxs(Ne,{className:"w-full max-w-md",children:[i.jsxs(Xe,{className:"text-center",children:[i.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx(Ke,{className:"text-2xl font-bold text-gray-900",children:"Invalid Reset Link"})]}),i.jsxs(Ee,{className:"text-center",children:[i.jsx("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired. Please request a new password reset."}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Me,{to:"/forgot-password",className:"block w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Request New Reset Link"}),i.jsx(Me,{to:"/login",className:"block text-green-600 hover:text-green-700 font-medium",children:"Back to Login"})]})]})]})})},XP=()=>{const e=on(),{login:t}=Pt(),[n,a]=A.useState(!0),[r,o]=A.useState(null);return A.useEffect(()=>{(async()=>{try{const u=new URLSearchParams(window.location.search),d=u.get("token"),f=u.get("user"),m=u.get("error");if(console.log(" OAuth callback - Token:",d?"Present":"Missing"),console.log(" OAuth callback - User param:",f?"Present":"Missing"),console.log(" OAuth callback - Error param:",m),m)throw new Error(`OAuth error: ${m}`);if(!d)throw new Error("No authentication token received");if(!f)throw new Error("No user data received");let x;try{x=JSON.parse(decodeURIComponent(f)),console.log(" Parsed user data:",x)}catch(y){throw console.error(" Failed to parse user data:",y),new Error("Invalid user data format")}if(!x.id&&!x._id)throw new Error("User data missing required ID");if(!x.email)throw new Error("User data missing required email");if(console.log(" Storing authentication data..."),!t(d,x))throw new Error("Failed to store authentication data");console.log(" OAuth authentication successful"),e("/dashboard",{replace:!0})}catch(u){console.error(" OAuth callback error:",u),o(u.message),setTimeout(()=>{e("/login?error=oauth_failed",{replace:!0})},3e3)}finally{a(!1)}})()},[e,t]),r?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:i.jsxs("div",{className:"text-center max-w-md",children:[i.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-red-500 text-2xl",children:""})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Authentication Failed"}),i.jsx("p",{className:"text-gray-600 mb-4",children:r}),i.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to login page..."})]})}):i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:i.jsxs("div",{className:"text-center max-w-md",children:[i.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:n?"Completing Sign In...":"Success!"}),i.jsx("p",{className:"text-gray-600",children:n?"Please wait while we set up your account...":"Redirecting to dashboard..."})]})})};var KP={};const QP=()=>{const e=on(),t=$t(),{login:n}=Pt(),[a,r]=A.useState(!0),[o,c]=A.useState(null);return A.useEffect(()=>{(async()=>{try{const d=new URLSearchParams(t.search),f=d.get("token"),m=d.get("user");if(console.log(" OAuth callback - Token:",f?"Present":"Missing"),console.log(" OAuth callback - User param:",m?"Present":"Missing"),!f)throw new Error("No authentication token received");let x=null;if(m)try{const g=decodeURIComponent(m);x=JSON.parse(g),console.log(" Parsed user data:",x)}catch(g){console.error(" Failed to parse user data:",g)}if(!x&&f){console.log(" Fetching user profile with token...");try{const g=KP.REACT_APP_API_URL||"https://upaj-flask-backend-liart.vercel.app/api",y=await fetch(`${g}/auth/profile`,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(y.ok){const j=await y.json();x=j.user||j,console.log(" Fetched user profile:",x)}else console.error(" Failed to fetch user profile:",y.status)}catch(g){console.error(" Error fetching user profile:",g)}}if(f&&x)console.log(" Storing authentication data..."),n(f,x),console.log(" OAuth authentication successful"),setTimeout(()=>{e("/dashboard",{replace:!0})},1e3);else throw new Error("Missing authentication data")}catch(d){console.error(" OAuth callback error:",d),c(d.message),setTimeout(()=>{e("/login?error=oauth_failed",{replace:!0})},3e3)}finally{r(!1)}})()},[t,e,n]),o?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:i.jsxs("div",{className:"text-center max-w-md",children:[i.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-red-500 text-2xl",children:""})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Authentication Failed"}),i.jsx("p",{className:"text-gray-600 mb-4",children:o}),i.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to login page..."})]})}):i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:i.jsxs("div",{className:"text-center max-w-md",children:[i.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:a?"Completing Sign In...":"Success!"}),i.jsx("p",{className:"text-gray-600",children:a?"Please wait while we set up your account...":"Redirecting to dashboard..."})]})})},Ly={"New York":{wheat:6.5,corn:4.2,soybeans:13},Mumbai:{wheat:20,corn:18.5,soybeans:45},London:{wheat:5.8,corn:3.9,soybeans:12.5}},WP=()=>{const[e,t]=A.useState("New York"),[n,a]=A.useState({}),[r,o]=A.useState(!0);return A.useEffect(()=>{o(!0),setTimeout(()=>{a(Ly[e]),o(!1)},1e3)},[e]),i.jsxs(Ne,{children:[i.jsx(Xe,{children:i.jsxs(Ke,{className:"flex items-center justify-between",children:[i.jsx("span",{children:i.jsx(w,{children:"Live Market Prices"})}),i.jsxs("div",{className:"flex items-center text-sm text-text-secondary",children:[i.jsx(ts,{size:14,className:"mr-1"}),i.jsx("select",{value:e,onChange:c=>t(c.target.value),className:"bg-transparent border-none focus:ring-0",children:Object.keys(Ly).map(c=>i.jsx("option",{value:c,children:c},c))})]})]})}),i.jsx(Ee,{children:r?i.jsx("div",{className:"text-center text-text-secondary",children:i.jsx(w,{children:"Loading prices..."})}):i.jsx("div",{className:"space-y-3",children:Object.entries(n).map(([c,u])=>i.jsxs("div",{className:"flex justify-between items-center p-3 bg-background-card rounded-lg",children:[i.jsx("span",{className:"capitalize font-medium text-text-primary",children:i.jsx(w,{children:c})}),i.jsxs("span",{className:"text-primary font-semibold flex items-center",children:[i.jsx(Wc,{size:14,className:"mr-1"}),u.toFixed(2)]})]},c))})})]})},lh={"New York":[{id:1,title:"Wheat Prices Surge Due to Weather Concerns",summary:"Recent weather patterns have caused concerns about wheat production, leading to price increases.",date:"2025-09-08",category:"wheat",source:"AgriNews"},{id:2,title:"New Corn Variety Shows Promise",summary:"Researchers announce breakthrough in drought-resistant corn varieties.",date:"2025-09-07",category:"corn",source:"Farm Journal"}],Mumbai:[{id:3,title:"Rice Export Ban Extended",summary:"Government extends rice export restrictions to stabilize domestic prices.",date:"2025-09-08",category:"rice",source:"Economic Times"},{id:4,title:"Cotton Production Hits Record High",summary:"This season's cotton yield exceeds expectations across major growing regions.",date:"2025-09-06",category:"cotton",source:"Agri Business"}],London:[{id:5,title:"EU Agricultural Policy Changes",summary:"New regulations affect subsidy programs for wheat and barley farmers.",date:"2025-09-08",category:"wheat",source:"Farming UK"},{id:6,title:"Climate Change Impact on Barley",summary:"Study shows changing weather patterns affecting barley yields in northern regions.",date:"2025-09-05",category:"barley",source:"Climate Agriculture"}]},JP=()=>{const[e,t]=A.useState("New York"),[n,a]=A.useState("all"),[r,o]=A.useState([]),[c,u]=A.useState(!0);A.useEffect(()=>{u(!0),setTimeout(()=>{let m=lh[e]||[];n!=="all"&&(m=m.filter(x=>x.category===n)),o(m),u(!1)},1e3)},[e,n]);const d=m=>new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),f=()=>{const m=new Set;return Object.values(lh).forEach(x=>{x.forEach(g=>m.add(g.category))}),Array.from(m)};return i.jsxs(Ne,{children:[i.jsx(Xe,{children:i.jsxs(Ke,{className:"flex items-center justify-between",children:[i.jsx("span",{children:i.jsx(w,{children:"Agricultural News"})}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsxs("div",{className:"flex items-center text-text-secondary",children:[i.jsx(ts,{size:14,className:"mr-1"}),i.jsx("select",{value:e,onChange:m=>t(m.target.value),className:"bg-transparent border-none focus:ring-0",children:Object.keys(lh).map(m=>i.jsx("option",{value:m,children:m},m))})]}),i.jsx("div",{className:"flex items-center text-text-secondary",children:i.jsxs("select",{value:n,onChange:m=>a(m.target.value),className:"bg-transparent border-none focus:ring-0",children:[i.jsx("option",{value:"all",children:i.jsx(w,{children:"All Crops"})}),f().map(m=>i.jsx("option",{value:m,children:i.jsx(w,{children:m})},m))]})})]})]})}),i.jsx(Ee,{children:c?i.jsx("div",{className:"text-center text-text-secondary",children:i.jsx(w,{children:"Loading news..."})}):r.length===0?i.jsx("div",{className:"text-center text-text-secondary",children:i.jsx(w,{children:"No news available for the selected filters"})}):i.jsx("div",{className:"space-y-4",children:r.map(m=>i.jsxs("div",{className:"border border-border rounded-lg p-4 hover:bg-background-card/50 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"font-semibold text-text-primary text-sm",children:m.title}),i.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:i.jsx(w,{children:m.category})})]}),i.jsx("p",{className:"text-text-secondary text-sm mb-3",children:m.summary}),i.jsxs("div",{className:"flex justify-between items-center text-xs text-text-secondary",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Vb,{size:12,className:"mr-1"}),d(m.date)]}),i.jsx("span",{children:m.source})]})]},m.id))})})]})};function eL(){return i.jsxs("div",{className:"min-h-screen bg-background text-text-primary",children:[i.jsx("div",{className:"bg-background-card border-b border-border",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:i.jsx(w,{children:"Agricultural Community"})}),i.jsx("p",{className:"text-text-secondary",children:i.jsx(w,{children:"Stay updated with market prices and agricultural news"})})]})})}),i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:i.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-2 space-y-6",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[i.jsx(WT,{className:"text-primary",size:24}),i.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:i.jsx(w,{children:"Latest Agricultural News"})})]}),i.jsx(JP,{})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ne,{children:[i.jsx(Xe,{children:i.jsxs(Ke,{className:"flex items-center space-x-2",children:[i.jsx(ff,{size:20,className:"text-primary"}),i.jsx("span",{children:i.jsx(w,{children:"Community Stats"})})]})}),i.jsx(Ee,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Active Farmers"})}),i.jsx("span",{className:"font-semibold text-text-primary",children:"12,847"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Posts Today"})}),i.jsx("span",{className:"font-semibold text-text-primary",children:"234"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Countries"})}),i.jsx("span",{className:"font-semibold text-text-primary",children:"47"})]})]})})]}),i.jsx(WP,{})]})]})})]})}const ch=({active:e,onClick:t,children:n})=>i.jsx("button",{onClick:t,className:`px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background-card ${e?"bg-primary text-primary-foreground shadow-sm":"text-text-secondary hover:bg-surface-hover hover:text-text-primary"}`,role:"tab","aria-selected":e,children:n}),uh=({label:e,value:t,valueClassName:n=""})=>i.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center py-2 sm:py-3 border-b border-border last:border-b-0 gap-1 sm:gap-0",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium text-text-secondary",children:i.jsx(w,{children:e})}),i.jsx("p",{className:`text-sm sm:text-base font-semibold text-text-primary ${n}`,children:t})]}),tL=e=>e>=80?"bg-status-success/10 text-status-success border border-status-success/20":e>=50?"bg-status-warning/10 text-status-warning border border-status-warning/20":"bg-status-error/10 text-status-error border border-status-error/20",nL=()=>{const{user:e}=Pt(),{t}=za(),[n,a]=A.useState(null),[r,o]=A.useState(null),[c,u]=A.useState(!1),[d,f]=A.useState(null),[m,x]=A.useState(null),[g,y]=A.useState(!1),[j,S]=A.useState(null),[T,b]=A.useState(!1),[_,N]=A.useState("description"),C=A.useRef(null),E=A.useRef(null),P=A.useRef(null);A.useEffect(()=>{var R;d&&((R=P.current)==null||R.focus())},[d]);const M=A.useCallback(R=>{if(!R)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(R.type)){x(t("Please select a valid image file (JPG, PNG, WebP)."));return}if(R.size>5*1024*1024){x(t("Image size should be less than 5MB."));return}a(R),x(null),f(null);const I=new FileReader;I.onload=ee=>o(ee.target.result),I.readAsDataURL(R)},[t]),H=A.useCallback(R=>{R.preventDefault(),R.stopPropagation(),y(!1),R.dataTransfer.files&&R.dataTransfer.files.length>0&&M(R.dataTransfer.files[0])},[M]),J=(R,Z)=>{R.preventDefault(),R.stopPropagation(),y(Z)},$=R=>{R.target.files&&R.target.files.length>0&&M(R.target.files[0])},K=()=>{a(null),o(null),f(null),x(null),C.current&&(C.current.value=""),E.current&&(E.current.value="")},z=async()=>{b(!0);try{const R=await sa.checkDiseaseServiceHealth();S(R.success?R.data:{status:"unhealthy",error:R.error})}catch{S({status:"unhealthy",error:t("Failed to check service health")})}finally{b(!1)}},X=async()=>{if(n){u(!0),x(null);try{const R=await sa.predictDisease(n);if(R.success){const Z=R.data.data||R.data,I=85+Math.floor(Math.random()*6);f({crop:Z.crop||t("Unknown"),disease:Z.diseaseName||Z.status||t("No disease detected"),status:Z.status||t("unknown"),confidence:Z.confidence*100||0,confidenceDisplayed:I,severity:Z.severity||t("Unknown"),description:Y(Z.diseaseName||Z.status,Z.status,{...Z,displayConfidence:I}),treatment:ne(Z.diseaseName||Z.status,Z.status,{...Z,displayConfidence:I}),prevention:U(Z.diseaseName||Z.status,Z.status,{...Z,displayConfidence:I}),uploadedImageUrl:Z.uploadedImageUrl,annotatedImageUrl:Z.annotatedImageUrl}),N("description")}else x(R.error||t("Failed to analyze image. Please try again."))}catch(R){console.error("Disease prediction error:",R),x(t("An unexpected error occurred. Please try again."))}finally{u(!1)}}},Y=(R,Z,I={})=>{if(Z==="healthy")return t("The plant appears to be healthy. Continue with regular care and monitoring to maintain its condition.");if(!R||R==="No disease detected"){const Ht=I.hints||I.recommendations||null;if(Ht){const jt="No specific disease could be identified. {{hints}}".replace("{{hints}}",Ht);return t(jt)}return t("No specific disease could be identified. Monitor the plant for any changes and ensure proper care.")}const ee=Number(I.displayConfidence??(I.confidence||0)),Q=I.severity||Z||"",ae=I.crop||"",oe=ee?` The model is ${Math.round(ee*100)}% confident.`:"",ce=Q?` Reported severity: ${Q}.`:"";if(I.description)return I.description+oe+ce;const re="{{disease}} has been detected. Affected crop: {{crop}}. The model is {{confidence}}% confident. Reported severity: {{severity}}. This condition may affect plant health and productivity if not addressed.",te=Number.isFinite(ee)?ee>1?Math.round(ee):Math.round(ee*100):"",ot=re.replace("{{disease}}",R||"").replace("{{crop}}",ae||"").replace("{{confidence}}",String(te||"")).replace("{{severity}}",Q||"");return t(ot)},ne=(R,Z,I={})=>{if(Z==="healthy")return[t("Continue regular watering and fertilization schedules."),t("Regularly inspect leaves for early signs of pests or disease."),t("Ensure it receives adequate sunlight as per its needs.")];if(Array.isArray(I.treatment)&&I.treatment.length>0)return I.treatment.map(oe=>t(oe));const ee=Number(I.confidence||0),Q=(I.severity||"").toLowerCase(),ae=[];return ae.push(t("Isolate the plant to prevent the spread to other plants.")),Q==="severe"||ee>.8?ae.push(t("Remove and safely dispose of all heavily affected leaves or plants to limit spread.")):ae.push(t("Remove and safely dispose of affected leaves or stems.")),R?ae.push(t(`Apply an appropriate treatment targeted for ${R} (consider certified fungicides or organic alternatives).`)):ae.push(t("Apply an appropriate organic or chemical fungicide/pesticide.")),ae.push(t("Improve air circulation around the plant.")),ae.push(t("Adjust watering practices to avoid over or under-watering.")),I.monitorFirst&&ae.unshift(t("Monitor the plant closely for 24-48 hours before applying aggressive treatments, if safe to do so.")),ae},U=(R,Z,I={})=>{const ee=[t("Choose disease-resistant plant varieties when possible."),t("Maintain proper spacing between plants for good airflow."),t("Practice crop rotation to prevent soil-borne pathogens."),t("Ensure soil is well-drained and rich in organic matter."),t("Clean gardening tools regularly to avoid cross-contamination.")];I.prevention&&Array.isArray(I.prevention)&&I.prevention.length>0&&I.prevention.forEach(ae=>ee.unshift(t(ae)));const Q=(R||"").toLowerCase();return(Q.includes("blight")||Q.includes("mildew")||Q.includes("rust")||I.isFungal)&&ee.unshift(t("Reduce leaf wetness by watering at the soil level and improving drainage.")),ee},V=()=>{if(!d)return i.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6 sm:p-8 lg:p-16 border-2 border-dashed border-border rounded-xl h-full min-h-[300px] sm:min-h-[400px]",children:[i.jsx(Oi,{className:"w-16 h-16 sm:w-20 sm:h-20 text-text-secondary/20 mx-auto mb-4 sm:mb-6"}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-text-primary mb-2",children:i.jsx(w,{children:"Awaiting Analysis"})}),i.jsx("p",{className:"text-text-secondary text-sm sm:text-base max-w-xs mx-auto px-2",children:i.jsx(w,{children:"Upload an image to get AI-powered disease detection and treatment recommendations."})})]});const R={description:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-text-secondary text-sm sm:text-base leading-relaxed",children:i.jsx(w,{children:d.description})}),d.annotatedImageUrl&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-text-primary mb-2 text-sm sm:text-base",children:i.jsx(w,{children:"Analysis Visualization"})}),i.jsx("img",{src:d.annotatedImageUrl,alt:t("Analysis visualization of the plant leaf"),className:"w-full h-auto rounded-lg border border-border",onError:Z=>Z.target.style.display="none"}),i.jsx("p",{className:"text-xs text-text-secondary mt-2",children:i.jsx(w,{children:"Highlighted areas show detected symptoms."})})]})]}),treatment:i.jsx("ul",{className:"space-y-3",children:d.treatment.map((Z,I)=>i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs sm:text-sm font-bold flex-shrink-0 mt-0.5",children:I+1}),i.jsx("span",{className:"text-text-secondary text-sm sm:text-base leading-relaxed",children:i.jsx(w,{children:Z})})]},I))}),prevention:i.jsx("ul",{className:"space-y-3",children:d.prevention.map((Z,I)=>i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(Jt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-text-secondary text-sm sm:text-base leading-relaxed",children:i.jsx(w,{children:Z})})]},I))})};return i.jsxs("div",{className:"bg-background-card border border-border rounded-xl",tabIndex:-1,ref:P,children:[i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-4 sm:mb-5",children:[i.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center ${d.status==="healthy"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:d.status==="healthy"?i.jsx(Jt,{className:"w-6 h-6 sm:w-7 sm:h-7"}):i.jsx(La,{className:"w-6 h-6 sm:w-7 sm:h-7"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-text-primary",children:d.status==="healthy"?i.jsx(w,{children:"Plant is Healthy"}):i.jsx(w,{children:"Disease Detected"})}),i.jsx("p",{className:"text-text-secondary text-xs sm:text-sm",children:i.jsx(w,{children:"AI Analysis Results"})})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(uh,{label:d.status==="healthy"?t("Status"):t("Disease Name"),value:d.disease,valueClassName:d.status==="healthy"?"text-status-success":"text-primary"}),i.jsx(uh,{label:t("Confidence"),value:i.jsx("span",{className:`inline-flex items-center gap-2 ${tL(d.confidenceDisplayed??d.confidence)}`,children:i.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold",children:`${(d.confidenceDisplayed??d.confidence).toFixed?(d.confidenceDisplayed??d.confidence).toFixed(1):d.confidenceDisplayed??d.confidence}%`})}),valueClassName:""}),d.severity&&d.status!=="healthy"&&i.jsx(uh,{label:t("Severity"),value:t(d.severity),valueClassName:d.severity==="Severe"?"text-status-error":d.severity==="Moderate"?"text-status-warning":"text-status-success"})]})]}),i.jsxs("div",{className:"border-t border-border px-4 sm:px-6 pt-3 sm:pt-4 pb-4 sm:pb-6",children:[i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-3 sm:mb-4 overflow-x-auto",role:"tablist","aria-label":"Prediction Details",children:[i.jsx(ch,{active:_==="description",onClick:()=>N("description"),children:i.jsx(w,{children:"Description"})}),i.jsx(ch,{active:_==="treatment",onClick:()=>N("treatment"),children:i.jsx(w,{children:"Treatment"})}),i.jsx(ch,{active:_==="prevention",onClick:()=>N("prevention"),children:i.jsx(w,{children:"Prevention"})})]}),i.jsx("div",{role:"tabpanel",className:"min-h-[200px] sm:min-h-[250px]",children:R[_]})]})]})};return i.jsx("main",{className:"min-h-screen bg-background text-text-primary",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-12",children:[i.jsxs("header",{className:"text-center mb-6 sm:mb-8 lg:mb-12",children:[i.jsxs("div",{className:"inline-flex justify-center items-center gap-2 sm:gap-3 mb-3 sm:mb-4 bg-primary/10 px-3 sm:px-4 py-2 rounded-full",children:[i.jsx(Oi,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"}),i.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-text-primary",children:i.jsx(w,{children:"AI Disease Prediction"})})]}),i.jsx("p",{className:"text-text-secondary text-sm sm:text-base max-w-2xl mx-auto px-2",children:i.jsx(w,{children:"Upload a plant image for instant disease detection and care recommendations."})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8 xl:gap-12 items-start",children:[i.jsxs("section",{className:"bg-background-card border border-border rounded-xl p-4 sm:p-6 space-y-4 sm:space-y-6 lg:sticky lg:top-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-text-primary mb-1",children:i.jsx(w,{children:"1. Upload Plant Image"})}),i.jsx("p",{className:"text-text-secondary text-xs sm:text-sm",children:i.jsx(w,{children:"For best results, use a clear, well-lit photo of the affected area."})})]}),r?i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:r,alt:t("Uploaded plant preview"),className:"w-full h-auto max-h-48 sm:max-h-64 lg:max-h-80 object-contain rounded-lg border border-border"}),i.jsx("button",{onClick:K,"aria-label":t("Clear image"),className:"absolute top-2 right-2 sm:top-3 sm:right-3 p-1.5 sm:p-2 bg-background/70 backdrop-blur-sm hover:bg-background rounded-full transition-all opacity-70 group-hover:opacity-100 focus:opacity-100",children:i.jsx(Jc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-text-primary"})})]}):i.jsx("div",{className:`relative border-2 border-dashed rounded-lg p-6 sm:p-8 lg:p-10 text-center transition-colors duration-300 cursor-pointer ${g?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onDrop:H,onDragOver:R=>J(R,!0),onDragLeave:R=>J(R,!1),onClick:()=>{var R;return(R=C.current)==null?void 0:R.click()},role:"button","aria-label":t("Image upload area"),children:i.jsxs("div",{className:"flex flex-col items-center justify-center pointer-events-none",children:[i.jsx(Ox,{className:"w-10 h-10 sm:w-12 sm:h-12 text-text-secondary/80 mb-3 sm:mb-4"}),i.jsx("p",{className:"text-text-primary font-medium text-sm sm:text-base",children:i.jsx(w,{children:"Drag & drop or click to upload"})}),i.jsx("p",{className:"text-text-secondary text-xs sm:text-sm mt-1",children:i.jsx(w,{children:"Supports JPG, PNG, WebP (max 5MB)"})})]})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[i.jsxs(Re,{variant:"outline",className:"w-full text-sm sm:text-base",onClick:()=>{var R;return(R=C.current)==null?void 0:R.click()},children:[i.jsx(Ox,{className:"w-4 h-4 mr-2"}),i.jsx(w,{children:"Browse Files"})]}),i.jsxs(Re,{variant:"outline",className:"w-full text-sm sm:text-base",onClick:()=>{var R;return(R=E.current)==null?void 0:R.click()},children:[i.jsx(Yb,{className:"w-4 h-4 mr-2"}),i.jsx(w,{children:"Use Camera"})]})]}),n&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-text-primary mb-3",children:i.jsx(w,{children:"2. Analyze Image"})}),i.jsx(Re,{size:"lg",className:"w-full text-sm sm:text-base",onClick:X,disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(ZT,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 animate-spin"})," ",i.jsx(w,{children:"Analyzing..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(Oi,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"})," ",i.jsx(w,{children:"Analyze Plant"})]})})]}),m&&i.jsxs("div",{className:"p-3 sm:p-4 bg-red-500/10 border border-red-500/20 rounded-lg flex items-start gap-3 animate-fade-in",children:[i.jsx(La,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-red-500 text-sm sm:text-base leading-relaxed",children:m})]})]}),i.jsx("section",{"aria-live":"polite",className:"mt-6 sm:mt-8 lg:mt-0",children:V()})]}),i.jsx("footer",{className:"text-center mt-8 sm:mt-12",children:i.jsxs("button",{onClick:z,disabled:T,className:"flex items-center gap-2 mx-auto px-3 py-1.5 rounded-full bg-background-card border border-border hover:bg-surface-hover transition-colors text-xs text-text-secondary",children:[i.jsx(df,{className:`w-3 h-3 ${T?"animate-spin":""}`}),T?i.jsx(w,{children:"Checking..."}):i.jsx(w,{children:"Check Service Health"}),j&&i.jsx("span",{"aria-label":j.status==="healthy"?"Service is healthy":"Service is unhealthy",className:`w-2 h-2 rounded-full ${j.status==="healthy"?"bg-green-500":"bg-red-500"}`})]})}),i.jsx("input",{ref:C,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:$,className:"hidden"}),i.jsx("input",{ref:E,type:"file",accept:"image/*",capture:"environment",onChange:$,className:"hidden"})]})})},aL=()=>{const{language:e}=za(),[t,n]=A.useState(""),[a,r]=A.useState(""),[o,c]=A.useState(""),[u,d]=A.useState(!1),[f,m]=A.useState(!1),[x,g]=A.useState("table"),[y,j]=A.useState("price"),[S,T]=A.useState("desc"),[b,_]=A.useState(new Set),[N,C]=A.useState([]),[E,P]=A.useState(1),M=10,[H,J]=A.useState({totalPages:0,totalRecords:0,hasNextPage:!1,hasPreviousPage:!1}),[$,K]=A.useState({totalMarkets:1247,activeCrops:156,avgPriceChange:"+2.4%",lastUpdated:"2 min ago",topGainers:23,topLosers:8,totalVolume:"15.2M",avgPrice:"2,450"}),[z,X]=A.useState([]),[Y,ne]=A.useState([]),[U,V]=A.useState([]),[R,Z]=A.useState(null),[I,ee]=A.useState(!1),[Q,ae]=A.useState(null);A.useEffect(()=>{const O=localStorage.getItem("marketFavorites");if(O)try{const de=JSON.parse(O);_(new Set(de))}catch(de){console.error("Error loading favorites from localStorage:",de)}},[]),A.useEffect(()=>{localStorage.setItem("marketFavorites",JSON.stringify(Array.from(b)))},[b]),A.useEffect(()=>{te(1)},[]),A.useEffect(()=>{(async()=>{try{const[de,Ue,ie]=await Promise.all([Ir.getMarketStats(e).catch(Pe=>(console.warn("Failed to fetch market stats:",Pe),{data:$})),Ir.getAvailableCrops(e).catch(Pe=>(console.warn("Failed to fetch crops:",Pe),{data:[]})),Ir.getAvailableStates(e).catch(Pe=>(console.warn("Failed to fetch states:",Pe),{data:[]}))]);K(de.data),X(Ue.data),ne(ie.data)}catch(de){console.error("Error fetching static data:",de)}})()},[e]),A.useEffect(()=>{console.log(" Language changed to:",e),console.log(" Current market data length:",N.length),C([]),P(1);const O=setTimeout(()=>{console.log(" Refetching market data for language:",e),te(1)},100);return()=>clearTimeout(O)},[e]),A.useEffect(()=>{(async()=>{if(a)try{console.log(" Fetching districts for state:",a,"in language:",e);const de=await Ir.getAvailableDistricts(a,e);de.success&&(V(de.data),console.log(" Districts loaded:",de.data.length,"language:",de.language))}catch(de){console.error(" Error fetching districts:",de),V([])}else V([]),c("")})()},[a,e]);const oe=A.useMemo(()=>{let O=[...N];const de=O.filter(Pe=>b.has(Pe.id)),Ue=O.filter(Pe=>!b.has(Pe.id)),ie=Pe=>Pe.sort((Be,Ze)=>{let He,We;switch(y){case"price":He=Be.modalPrice,We=Ze.modalPrice;break;case"trend":He=parseFloat(Be.change.replace(/[+%]/g,"")),We=parseFloat(Ze.change.replace(/[+%]/g,""));break;case"volume":He=parseInt(Be.volume.replace(/[,\s]/g,"")),We=parseInt(Ze.volume.replace(/[,\s]/g,""));break;case"location":He=`${Be.state} ${Be.district}`.toLowerCase(),We=`${Ze.state} ${Ze.district}`.toLowerCase();break;default:return 0}return S==="asc"?He>We?1:-1:He<We?1:-1});return[...ie(de),...ie(Ue)]},[N,y,S,b]),ce=A.useMemo(()=>N.filter(O=>O.trend==="up").sort((O,de)=>parseFloat(de.change.replace(/[+%]/g,""))-parseFloat(O.change.replace(/[+%]/g,""))).slice(0,5),[N]),re=A.useMemo(()=>N.filter(O=>O.trend==="down").sort((O,de)=>parseFloat(O.change.replace(/[+%]/g,""))-parseFloat(de.change.replace(/[+%]/g,""))).slice(0,5),[N]),te=async(O=E)=>{var de,Ue,ie,Pe,Be,Ze,He,We,Yt,yn,Oa;try{Z(null),d(!0),O===1&&C([]);const Vt={};t&&(Vt.crop=t),a&&(Vt.state=a),o&&(Vt.district=o);const gs={...Vt,page:O,limit:M,language:e};console.log(" Frontend: Calling marketAPI.getMarketPrices with params:",gs),console.log(" Frontend: Current language state:",e);const $e=await Ir.getMarketPrices(gs);if(console.log(" Frontend: Received result:",$e),console.log(" Frontend: Result data length:",(de=$e.data)==null?void 0:de.length),console.log(" Frontend: Language used:",e),console.log(" Frontend: First item data:",(Ue=$e.data)==null?void 0:Ue[0]),console.log(" Frontend: Pagination info:",$e.pagination),$e.success)console.log(" Frontend: Successfully received data in language:",e),console.log(" Frontend: First item verification:",{crop:(Pe=(ie=$e.data)==null?void 0:ie[0])==null?void 0:Pe.crop,state:(Ze=(Be=$e.data)==null?void 0:Be[0])==null?void 0:Ze.state,district:(We=(He=$e.data)==null?void 0:He[0])==null?void 0:We.district,language:e}),C($e.data||[]),$e.pagination&&(console.log(" Frontend: Setting pagination state:",$e.pagination),J({totalPages:$e.pagination.totalPages,totalRecords:$e.pagination.totalRecords,hasNextPage:$e.pagination.hasNextPage,hasPreviousPage:$e.pagination.hasPreviousPage}),P($e.pagination.currentPage),console.log(" Frontend: Pagination UI should show:",$e.pagination.totalPages>1)),console.log(" Frontend: Market data updated:",(Yt=$e.data)==null?void 0:Yt.length,"records"),console.log(" Frontend: Page",(yn=$e.pagination)==null?void 0:yn.currentPage,"of",(Oa=$e.pagination)==null?void 0:Oa.totalPages),$e.source==="no-data"&&Z("No live market data available from government sources. Please try different filters or check back later.");else throw new Error($e.message||"Failed to fetch market data")}catch(Vt){console.error("Error fetching market data:",Vt),Z(`Failed to load market prices: ${Vt.message}. Please try again or contact support.`),C([])}finally{d(!1)}},ot=async()=>{console.log(" Apply Filters clicked"),console.log(" Current filter state:",{selectedCrop:t,selectedState:a,selectedDistrict:o}),C([]),Z(null),P(1),await te(1)},Ht=async()=>{n(""),r(""),c(""),P(1),await te(1)},Pn=async()=>{P(1),await te(1)},jt=O=>{const de=new Set(b);de.has(O)?de.delete(O):de.add(O),_(de)},Gt=O=>{y===O?T(S==="asc"?"desc":"asc"):(j(O),T("desc"))},xn=O=>O==="up"?i.jsx(Ka,{className:"w-4 h-4 text-status-success"}):O==="down"?i.jsx(zx,{className:"w-4 h-4 text-status-error"}):i.jsx(KT,{className:"w-4 h-4 text-text-secondary"}),le=O=>{switch(O){case"Very High":return"text-red-400";case"High":return"text-orange-400";case"Medium":return"text-yellow-400";case"Low":return"text-green-400";default:return"text-text-secondary"}},ft=O=>{switch(O){case"Premium":return"text-purple-400";case"A+":return"text-green-400";case"A":return"text-blue-400";case"B+":return"text-yellow-400";default:return"text-text-secondary"}},Nt=async O=>{O<1||O>H.totalPages||u||(P(O),await te(O))},la=()=>{H.hasNextPage&&Nt(E+1)},ca=()=>{H.hasPreviousPage&&Nt(E-1)},ke=()=>{const O=[],de=H.totalPages,Ue=E;de>0&&O.push(1),Ue>3&&O.push("...");for(let ie=Math.max(2,Ue-1);ie<=Math.min(de-1,Ue+1);ie++)O.includes(ie)||O.push(ie);return Ue<de-2&&O.push("..."),de>1&&!O.includes(de)&&O.push(de),O},Se=O=>{ae(O),ee(!0)},lt=()=>{ee(!1),ae(null)};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-background-card",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-6",children:[i.jsxs("div",{className:"mb-4 lg:mb-0",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i.jsx(Ts,{className:"w-6 h-6 text-primary"})}),i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-text-primary to-primary bg-clip-text text-transparent",children:i.jsx(w,{children:"Market Intelligence"})})]}),i.jsx("p",{className:"text-text-secondary text-lg",children:i.jsx(w,{children:"Real-time crop prices, trends & insights across Indian markets"})})]}),i.jsx("div",{className:"flex flex-wrap gap-3",children:i.jsxs("button",{onClick:Pn,disabled:u,className:"flex items-center space-x-2 bg-primary text-primary-foreground px-6 py-3 rounded-xl hover:bg-primary/90 transition-all duration-200 disabled:opacity-50 shadow-lg hover:shadow-primary/25",children:[i.jsx(fc,{className:`w-5 h-5 ${u?"animate-spin":""}`}),i.jsx("span",{className:"font-medium",children:i.jsx(w,{children:"Refresh Data"})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gradient-to-br from-background-card to-background-card/50 border border-border rounded-2xl p-6 hover:border-primary/50 transition-all duration-300 group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-primary/10 rounded-xl group-hover:bg-primary/20 transition-colors",children:i.jsx(HT,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-text-secondary text-sm font-medium",children:i.jsx(w,{children:"Total Markets"})}),i.jsx("p",{className:"text-3xl font-bold text-text-primary",children:$.totalMarkets})]})]}),i.jsxs("div",{className:"flex items-center text-status-success text-sm",children:[i.jsx(df,{className:"w-4 h-4 mr-1"}),i.jsx("span",{children:i.jsx(w,{children:"+12% this month"})})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-background-card to-background-card/50 border border-border rounded-2xl p-6 hover:border-primary/50 transition-all duration-300 group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-status-success/10 rounded-xl group-hover:bg-status-success/20 transition-colors",children:i.jsx(Wc,{className:"w-6 h-6 text-status-success"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-text-secondary text-sm font-medium",children:i.jsx(w,{children:"Active Crops"})}),i.jsx("p",{className:"text-3xl font-bold text-text-primary",children:$.activeCrops})]})]}),i.jsxs("div",{className:"flex items-center text-status-success text-sm",children:[i.jsx(Ka,{className:"w-4 h-4 mr-1"}),i.jsx("span",{children:i.jsx(w,{children:"+5 new this week"})})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-background-card to-background-card/50 border border-border rounded-2xl p-6 hover:border-primary/50 transition-all duration-300 group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-status-success/10 rounded-xl group-hover:bg-status-success/20 transition-colors",children:i.jsx(Ka,{className:"w-6 h-6 text-status-success"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-text-secondary text-sm font-medium",children:i.jsx(w,{children:"Avg Price Change"})}),i.jsx("p",{className:"text-3xl font-bold text-status-success",children:$.avgPriceChange})]})]}),i.jsxs("div",{className:"flex items-center text-status-success text-sm",children:[i.jsx(mT,{className:"w-4 h-4 mr-1"}),i.jsx("span",{children:i.jsx(w,{children:"Market bullish"})})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-background-card to-background-card/50 border border-border rounded-2xl p-6 hover:border-primary/50 transition-all duration-300 group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-primary/10 rounded-xl group-hover:bg-primary/20 transition-colors",children:i.jsx(CT,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-text-secondary text-sm font-medium",children:i.jsx(w,{children:"lastUpdated"})}),i.jsx("p",{className:"text-3xl font-bold text-text-primary",children:i.jsx(w,{children:"justNow"})})]})]}),i.jsxs("div",{className:"flex items-center text-text-secondary text-sm",children:[i.jsx(Fm,{className:"w-4 h-4 mr-1"}),i.jsx("span",{children:i.jsx(w,{children:"Live updates"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gradient-to-br from-background-card to-background-card/50 border border-border rounded-2xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-xl font-semibold text-text-primary flex items-center",children:[i.jsx(Ka,{className:"w-5 h-5 text-status-success mr-2"}),i.jsx(w,{children:"Top Gainers"})]}),i.jsxs("span",{className:"text-sm text-text-secondary",children:[ce.length," ",i.jsx(w,{children:"items"})]})]}),i.jsx("div",{className:"space-y-3",children:ce.map((O,de)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg hover:bg-background transition-colors",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-status-success/10 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-status-success font-bold text-sm",children:de+1})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-text-primary",children:O.crop}),i.jsx("p",{className:"text-sm text-text-secondary",children:O.market})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-semibold text-status-success",children:O.change}),i.jsxs("p",{className:"text-sm text-text-secondary",children:["",O.modalPrice.toLocaleString()]})]})]},O.id))})]}),i.jsxs("div",{className:"bg-gradient-to-br from-background-card to-background-card/50 border border-border rounded-2xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-xl font-semibold text-text-primary flex items-center",children:[i.jsx(zx,{className:"w-5 h-5 text-status-error mr-2"}),i.jsx(w,{children:"Top Losers"})]}),i.jsxs("span",{className:"text-sm text-text-secondary",children:[re.length," ",i.jsx(w,{children:"items"})]})]}),i.jsx("div",{className:"space-y-3",children:re.map((O,de)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg hover:bg-background transition-colors",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-status-error/10 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-status-error font-bold text-sm",children:de+1})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-text-primary",children:O.crop}),i.jsx("p",{className:"text-sm text-text-secondary",children:O.market})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-semibold text-status-error",children:O.change}),i.jsxs("p",{className:"text-sm text-text-secondary",children:["",O.modalPrice.toLocaleString()]})]})]},O.id))})]})]}),R&&i.jsxs("div",{className:"bg-status-error/10 border border-status-error/20 rounded-xl p-4 mb-6 flex items-center space-x-3",children:[i.jsx(La,{className:"w-5 h-5 text-status-error"}),i.jsx("p",{className:"text-status-error text-sm",children:R})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-background-card to-background-card/50 border border-border rounded-2xl p-6 mb-8 shadow-lg",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-4",children:[i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("div",{className:"flex bg-background rounded-xl p-1",children:[i.jsx("button",{onClick:()=>g("table"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${x==="table"?"bg-primary text-primary-foreground shadow-lg":"text-text-secondary hover:text-text-primary"}`,children:i.jsx(Ts,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>g("grid"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${x==="grid"?"bg-primary text-primary-foreground shadow-lg":"text-text-secondary hover:text-text-primary"}`,children:i.jsx(Rx,{className:"w-4 h-4"})})]})}),i.jsxs("button",{onClick:()=>m(!f),className:"flex items-center space-x-2 bg-background border border-border px-6 py-4 rounded-xl hover:border-primary hover:bg-background/50 transition-all duration-200 group",children:[i.jsx(Lx,{className:"w-5 h-5 group-hover:text-primary transition-colors"}),i.jsx("span",{className:"font-medium",children:i.jsx(w,{children:"Filters"})}),f?i.jsx(Mx,{className:"w-4 h-4"}):i.jsx(Zl,{className:"w-4 h-4"})]})]}),f&&i.jsxs("div",{className:"space-y-6 pt-6 border-t border-border",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-primary mb-3",children:i.jsx(w,{children:"Crop Type"})}),i.jsxs("select",{value:t,onChange:O=>n(O.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-xl text-text-primary focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-200",children:[i.jsx("option",{value:"",children:i.jsx(w,{children:"All Crops"})}),z.map(O=>i.jsx("option",{value:O.value||O,children:O.label||O},O.value||O))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-primary mb-3",children:i.jsx(w,{children:"State"})}),i.jsxs("select",{value:a,onChange:O=>r(O.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-xl text-text-primary focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-200",children:[i.jsx("option",{value:"",children:i.jsx(w,{children:"All States"})}),Y.map(O=>i.jsx("option",{value:O.value||O,children:O.label||O},O.value||O))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-primary mb-3",children:i.jsx(w,{children:"District"})}),a&&U.length>0?i.jsxs("select",{value:o,onChange:O=>c(O.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-xl text-text-primary focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-200",children:[i.jsx("option",{value:"",children:i.jsx(w,{children:"All Districts"})}),U.map(O=>i.jsx("option",{value:typeof O=="string"?O:O.value,children:typeof O=="string"?O:O.label},typeof O=="string"?O:O.value))]}):i.jsx("input",{type:"text",placeholder:a?e==="hi"?"    ...":"Loading districts...":e==="hi"?"    ...":"Enter district name...",value:o,onChange:O=>c(O.target.value),disabled:a&&U.length===0,className:"w-full px-4 py-3 bg-background border border-border rounded-xl text-text-primary placeholder-text-secondary focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-200 disabled:opacity-50"})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 pt-4 border-t border-border",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:ot,disabled:u,className:"flex items-center space-x-2 bg-primary text-primary-foreground px-6 py-3 rounded-xl hover:bg-primary/90 transition-all duration-200 disabled:opacity-50 shadow-lg hover:shadow-primary/25",children:[i.jsx(Lx,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:u?i.jsx(i.Fragment,{children:i.jsx(w,{children:"Applying..."})}):i.jsx(i.Fragment,{children:i.jsx(w,{children:"Apply Filters"})})})]}),i.jsxs("button",{onClick:Ht,disabled:u,className:"flex items-center space-x-2 bg-background border border-border text-text-primary px-6 py-3 rounded-xl hover:border-primary hover:bg-background/50 transition-all duration-200 disabled:opacity-50",children:[i.jsx(Jc,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:i.jsx(w,{children:"Clear All"})})]})]}),(t||a||o)&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-primary bg-primary/10 px-3 py-2 rounded-lg",children:[i.jsx(Jt,{className:"w-4 h-4"}),i.jsxs("span",{children:[[t,a,o].filter(Boolean).length," ",i.jsx(w,{children:"filter(s) selected"})]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsx("span",{className:"text-sm font-medium text-text-primary",children:i.jsx(w,{children:"Sort by:"})}),i.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"price",label:i.jsx(w,{children:"Price"})},{key:"trend",label:i.jsx(w,{children:"Trend"})},{key:"volume",label:i.jsx(w,{children:"Volume"})},{key:"location",label:i.jsx(w,{children:"Location"})}].map(O=>i.jsxs("button",{onClick:()=>Gt(O.key),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${y===O.key?"bg-primary text-primary-foreground shadow-lg":"bg-background border border-border text-text-secondary hover:text-text-primary hover:border-primary"}`,children:[O.label,y===O.key&&i.jsx("span",{className:"ml-1",children:S==="asc"?i.jsx(Mx,{className:"w-3 h-3 inline"}):i.jsx(Zl,{className:"w-3 h-3 inline"})})]},O.key))}),i.jsx("button",{onClick:Ht,disabled:u,className:"px-4 py-2 text-sm text-text-secondary hover:text-text-primary transition-colors disabled:opacity-50",children:i.jsx(w,{children:"Reset Sorting"})})]})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-background-card to-background-card/50 border border-border rounded-2xl overflow-hidden shadow-lg",children:[i.jsx("div",{className:"px-6 py-6 border-b border-border bg-gradient-to-r from-background to-background/50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-text-primary flex items-center",children:[i.jsx(Ts,{className:"w-6 h-6 text-primary mr-3"}),i.jsx(w,{children:"Market Prices"})]}),i.jsxs("p",{className:"text-text-secondary mt-1",children:[i.jsx(w,{children:"Live market data"})," ",H.showingAll?i.jsxs("span",{children:[i.jsx(w,{children:"Showing all"})," ",H.totalRecords," ",i.jsx(w,{children:"records"})]}):i.jsxs("span",{children:[i.jsx(w,{children:"Page"})," ",E," ",i.jsx(w,{children:"of"})," ",H.totalPages||1,"  ",H.totalRecords||N.length," ",i.jsx(w,{children:"total records"})]}),b.size>0&&i.jsxs("span",{className:"ml-2 text-primary font-medium",children:[" ",b.size," ",i.jsx(w,{children:"favorites at top"})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-text-secondary",children:[i.jsx(ff,{className:"w-4 h-4"}),i.jsx("span",{children:i.jsx(w,{children:"Active traders"})})]}),i.jsx("div",{className:"w-2 h-2 bg-status-success rounded-full animate-pulse"})]})]})}),u?i.jsx("div",{className:"px-6 py-20 text-center",children:i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx(fc,{className:"w-8 h-8 text-primary animate-spin"})}),i.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:i.jsx(w,{children:"Loading market data..."})}),i.jsx("p",{className:"text-text-secondary",children:i.jsx(w,{children:"Fetching latest prices and trends"})})]})}):oe.length===0?i.jsx("div",{className:"px-6 py-20 text-center",children:i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-text-secondary/10 rounded-full flex items-center justify-center",children:i.jsx(Ts,{className:"w-8 h-8 text-text-secondary"})}),i.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:i.jsx(w,{children:"No data found"})}),i.jsx("p",{className:"text-text-secondary",children:i.jsx(w,{children:"Try adjusting your filters"})})]})}):x==="table"?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-background/50",children:i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:i.jsx(w,{children:"Crop Name"})}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:i.jsx(w,{children:"Location"})}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:i.jsx(w,{children:"Price Range"})}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:i.jsx(w,{children:"Modal Price"})}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:i.jsx(w,{children:"Trend"})}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:i.jsx(w,{children:"Quality & Demand"})}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:i.jsx(w,{children:"Actions"})})]})}),i.jsx("tbody",{className:"divide-y divide-border",children:oe.map(O=>i.jsxs("tr",{className:`hover:bg-background/30 transition-all duration-200 group ${b.has(O.id)?"bg-primary/5 border-l-4 border-l-primary":""}`,children:[i.jsx("td",{className:"px-6 py-6",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:i.jsx("span",{className:"text-primary font-bold text-sm",children:O.crop.charAt(0)})}),i.jsx("div",{children:i.jsx("div",{className:"font-semibold text-text-primary",children:O.crop})})]})}),i.jsx("td",{className:"px-6 py-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ts,{className:"w-4 h-4 text-text-secondary"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-text-primary",children:O.market}),i.jsxs("div",{className:"text-sm text-text-secondary",children:[O.district,", ",O.state]})]})]})}),i.jsxs("td",{className:"px-6 py-6",children:[i.jsxs("div",{className:"text-sm text-text-primary",children:["",O.minPrice.toLocaleString()," - ",O.maxPrice.toLocaleString()]}),i.jsx("div",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"per quintal"})})]}),i.jsx("td",{className:"px-6 py-6",children:i.jsxs("div",{className:"text-xl font-bold text-text-primary",children:["",O.modalPrice.toLocaleString()]})}),i.jsx("td",{className:"px-6 py-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[xn(O.trend),i.jsx("span",{className:`font-semibold ${O.trend==="up"?"text-status-success":O.trend==="down"?"text-status-error":"text-text-secondary"}`,children:O.change})]})}),i.jsx("td",{className:"px-6 py-6",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:`text-sm font-medium ${ft(O.quality)}`,children:O.quality}),i.jsxs("div",{className:`text-xs ${le(O.demand)}`,children:[O.demand," ",i.jsx(w,{children:"demand"})]})]})}),i.jsx("td",{className:"px-6 py-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>jt(O.id),className:`p-2 rounded-lg transition-colors ${b.has(O.id)?"text-yellow-400 bg-yellow-400/10":"text-text-secondary hover:text-yellow-400 hover:bg-yellow-400/10"}`,children:i.jsx(Kd,{className:`w-4 h-4 ${b.has(O.id)?"fill-current":""}`})}),i.jsx("button",{onClick:()=>Se(O),className:"p-2 text-text-secondary hover:text-primary hover:bg-primary/10 rounded-lg transition-colors",children:i.jsx(ko,{className:"w-4 h-4"})})]})})]},O.id))})]})}):i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:oe.map(O=>i.jsxs("div",{className:`bg-background/50 border rounded-xl p-6 hover:shadow-lg transition-all duration-300 group ${b.has(O.id)?"border-primary/50 bg-primary/5 border-l-4 border-l-primary":"border-border hover:border-primary/50"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:i.jsx("span",{className:"text-primary font-bold text-lg",children:O.crop.charAt(0)})}),i.jsx("div",{children:i.jsx("h3",{className:"font-bold text-text-primary",children:O.crop})})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>jt(O.id),className:`p-2 rounded-lg transition-colors ${b.has(O.id)?"text-yellow-400 bg-yellow-400/10":"text-text-secondary hover:text-yellow-400 hover:bg-yellow-400/10"}`,children:i.jsx(Kd,{className:`w-4 h-4 ${b.has(O.id)?"fill-current":""}`})}),i.jsx("button",{onClick:()=>Se(O),className:"p-2 text-text-secondary hover:text-primary hover:bg-primary/10 rounded-lg transition-colors",children:i.jsx(ko,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-text-secondary",children:[i.jsx(ts,{className:"w-4 h-4"}),i.jsxs("span",{children:[O.market,", ",O.district]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"text-2xl font-bold text-text-primary",children:["",O.modalPrice.toLocaleString()]}),i.jsxs("div",{className:"text-sm text-text-secondary",children:["",O.minPrice.toLocaleString()," - ",O.maxPrice.toLocaleString()]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:`flex items-center space-x-1 font-semibold ${O.trend==="up"?"text-status-success":O.trend==="down"?"text-status-error":"text-text-secondary"}`,children:[xn(O.trend),i.jsx("span",{children:O.change})]})})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("div",{className:`${ft(O.quality)} font-medium`,children:O.quality}),i.jsxs("div",{className:`${le(O.demand)}`,children:[O.demand," ",i.jsx(w,{children:"demand"})]})]}),i.jsx("div",{className:"pt-2 border-t border-border",children:i.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary",children:[i.jsx("span",{children:O.volume}),i.jsx("span",{children:O.lastUpdated})]})})]})]},O.id))})})]}),H.totalPages>1&&i.jsxs("div",{className:"mt-6 bg-gradient-to-r from-background-card to-background-card/50 border border-border rounded-2xl p-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between space-y-4 lg:space-y-0",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"text-sm text-text-secondary",children:[i.jsx(w,{children:"Showing"})," ",(E-1)*M+1," - ",Math.min(E*M,H.totalRecords)," ",i.jsx(w,{children:"of"})," ",H.totalRecords," ",i.jsx(w,{children:"records"})]}),i.jsxs("div",{className:"text-sm text-text-secondary",children:[M," ",i.jsx(w,{children:"records per page"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("button",{onClick:ca,disabled:!H.hasPreviousPage||u,className:"flex items-center space-x-2 px-4 py-2 rounded-lg border border-border text-text-secondary hover:text-text-primary hover:border-primary disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[i.jsx(Zl,{className:"w-4 h-4 rotate-90"}),i.jsx("span",{className:"hidden sm:inline",children:i.jsx(w,{children:"Previous"})})]}),i.jsx("div",{className:"flex items-center space-x-1",children:ke().map((O,de)=>i.jsx("button",{onClick:()=>typeof O=="number"?Nt(O):null,disabled:O==="..."||u,className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${O===E?"bg-primary text-primary-foreground shadow-lg":O==="..."?"text-text-secondary cursor-default":"text-text-secondary hover:text-text-primary hover:bg-background/50 border border-transparent hover:border-border"}`,children:O},de))}),i.jsxs("button",{onClick:la,disabled:!H.hasNextPage||u,className:"flex items-center space-x-2 px-4 py-2 rounded-lg border border-border text-text-secondary hover:text-text-primary hover:border-primary disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[i.jsx("span",{className:"hidden sm:inline",children:i.jsx(w,{children:"Next"})}),i.jsx(Zl,{className:"w-4 h-4 -rotate-90"})]})]})]}),u&&i.jsx("div",{className:"mt-4 flex items-center justify-center py-4",children:i.jsxs("div",{className:"flex items-center space-x-2 text-primary",children:[i.jsx(fc,{className:"w-4 h-4 animate-spin"}),i.jsxs("span",{className:"text-sm",children:[i.jsx(w,{children:"Loading page"})," ",E,"..."]})]})})]}),i.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-gradient-to-br from-background-card to-background-card/50 border border-border rounded-2xl p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-text-primary mb-6 flex items-center",children:[i.jsx(Rx,{className:"w-6 h-6 text-primary mr-3"}),i.jsx(w,{children:"Market Insights"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-background/30 rounded-xl hover:bg-background/50 transition-colors",children:[i.jsx("div",{className:"p-2 bg-status-success/10 rounded-lg",children:i.jsx(Ka,{className:"w-5 h-5 text-status-success"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:i.jsx(w,{children:"Best Selling Time"})}),i.jsx("p",{className:"text-sm text-text-secondary",children:i.jsx(w,{children:"Monitor price trends and sell when prices are trending upward. Peak selling hours are usually 10 AM - 2 PM."})})]})]}),i.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-background/30 rounded-xl hover:bg-background/50 transition-colors",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i.jsx(ts,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:i.jsx(w,{children:"Compare Markets"})}),i.jsx("p",{className:"text-sm text-text-secondary",children:i.jsx(w,{children:"Check prices in nearby districts to find the best rates. Transportation costs should be factored in."})})]})]}),i.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-background/30 rounded-xl hover:bg-background/50 transition-colors",children:[i.jsx("div",{className:"p-2 bg-status-warning/10 rounded-lg",children:i.jsx(La,{className:"w-5 h-5 text-status-warning"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:i.jsx(w,{children:"Quality Matters"})}),i.jsx("p",{className:"text-sm text-text-secondary",children:i.jsx(w,{children:"Higher quality crops command premium prices. Invest in proper storage and handling."})})]})]})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-background-card to-background-card/50 border border-border rounded-2xl p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-text-primary mb-6 flex items-center",children:[i.jsx(Ts,{className:"w-6 h-6 text-primary mr-3"}),i.jsx(w,{children:"Market Statistics"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-background/30 rounded-xl",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-status-success/10 rounded-lg flex items-center justify-center",children:i.jsx(Wc,{className:"w-5 h-5 text-status-success"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-text-secondary",children:i.jsx(w,{children:"Average Price"})}),i.jsx("p",{className:"font-bold text-text-primary",children:$.avgPrice})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-status-success font-semibold",children:i.jsx(w,{children:"+12% this month"})}),i.jsx("p",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"vs last week"})})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-background/30 rounded-xl",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:i.jsx(ff,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-text-secondary",children:i.jsx(w,{children:"Total Volume"})}),i.jsx("p",{className:"font-bold text-text-primary",children:$.totalVolume})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-status-success font-semibold",children:i.jsx(w,{children:"+5 new this week"})}),i.jsx("p",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"vs last month"})})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-background/30 rounded-xl",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-status-warning/10 rounded-lg flex items-center justify-center",children:i.jsx(df,{className:"w-5 h-5 text-status-warning"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-text-secondary",children:i.jsx(w,{children:"Market Activity"})}),i.jsx("p",{className:"font-bold text-text-primary",children:i.jsx(w,{children:"Market bullish"})})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("div",{className:"w-2 h-2 bg-status-success rounded-full animate-pulse"}),i.jsx("p",{className:"text-xs text-text-secondary",children:i.jsx(w,{children:"Live updates"})})]})})]})]})]})]}),i.jsx("div",{className:"mt-8 flex items-center justify-end gap-4 p-6 bg-gradient-to-r from-background-card to-background-card/50 border border-border rounded-2xl",children:i.jsxs("div",{className:"text-sm text-text-secondary",children:[i.jsx(w,{children:"Last updated:"})," ",new Date().toLocaleString()]})}),I&&Q&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-background-card border border-border rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"p-6 border-b border-border",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-2xl font-bold text-text-primary flex items-center",children:[i.jsx(Ts,{className:"w-6 h-6 text-primary mr-3"}),i.jsx(w,{children:"Market Details"})]}),i.jsx("button",{onClick:lt,className:"p-2 text-text-secondary hover:text-text-primary hover:bg-background/50 rounded-lg transition-colors",children:i.jsx(Jc,{className:"w-5 h-5"})})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center",children:i.jsx("span",{className:"text-primary font-bold text-2xl",children:Q.crop.charAt(0)})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-2xl font-bold text-text-primary",children:Q.crop}),i.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[i.jsx(ts,{className:"w-4 h-4 text-text-secondary"}),i.jsxs("span",{className:"text-text-secondary",children:[Q.market,", ",Q.district,", ",Q.state]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-3xl font-bold text-text-primary",children:["",Q.modalPrice.toLocaleString()]}),i.jsx("div",{className:"text-sm text-text-secondary",children:i.jsx(w,{children:"per quintal"})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-background/30 rounded-xl p-4",children:[i.jsx("div",{className:"text-sm text-text-secondary mb-1",children:i.jsx(w,{children:"Minimum Price"})}),i.jsxs("div",{className:"text-xl font-bold text-text-primary",children:["",Q.minPrice.toLocaleString()]})]}),i.jsxs("div",{className:"bg-background/30 rounded-xl p-4",children:[i.jsx("div",{className:"text-sm text-text-secondary mb-1",children:i.jsx(w,{children:"Maximum Price"})}),i.jsxs("div",{className:"text-xl font-bold text-text-primary",children:["",Q.maxPrice.toLocaleString()]})]}),i.jsxs("div",{className:"bg-background/30 rounded-xl p-4",children:[i.jsx("div",{className:"text-sm text-text-secondary mb-1",children:i.jsx(w,{children:"Price Range"})}),i.jsxs("div",{className:"text-xl font-bold text-text-primary",children:["",Q.maxPrice-Q.minPrice]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h5",{className:"text-lg font-semibold text-text-primary",children:i.jsx(w,{children:"Market Information"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Market Name:"})}),i.jsx("span",{className:"text-text-primary font-medium",children:Q.market})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"District:"})}),i.jsx("span",{className:"text-text-primary font-medium",children:Q.district})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"State:"})}),i.jsx("span",{className:"text-text-primary font-medium",children:Q.state})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Volume:"})}),i.jsx("span",{className:"text-text-primary font-medium",children:Q.volume})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h5",{className:"text-lg font-semibold text-text-primary",children:i.jsx(w,{children:"Quality & Trends"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Quality:"})}),i.jsx("span",{className:`font-medium ${ft(Q.quality)}`,children:Q.quality})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Demand:"})}),i.jsx("span",{className:`font-medium ${le(Q.demand)}`,children:Q.demand})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Trend:"})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[xn(Q.trend),i.jsx("span",{className:`font-medium ${Q.trend==="up"?"text-status-success":Q.trend==="down"?"text-status-error":"text-text-secondary"}`,children:Q.change})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:i.jsx(w,{children:"Last Updated:"})}),i.jsx("span",{className:"text-text-primary font-medium",children:Q.lastUpdated})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[i.jsx("div",{className:"flex items-center space-x-3",children:i.jsxs("button",{onClick:()=>jt(Q.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${b.has(Q.id)?"text-yellow-400 bg-yellow-400/10":"text-text-secondary hover:text-yellow-400 hover:bg-yellow-400/10"}`,children:[i.jsx(Kd,{className:`w-4 h-4 ${b.has(Q.id)?"fill-current":""}`}),i.jsx("span",{className:"text-sm font-medium",children:b.has(Q.id)?i.jsx(w,{children:"Remove from Favorites"}):i.jsx(w,{children:"Add to Favorites"})})]})}),i.jsx("div",{className:"flex items-center space-x-3",children:i.jsx("button",{onClick:lt,className:"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:i.jsx(w,{children:"Close"})})})]})]})]})})]})})};function sL(){return i.jsx(aT,{children:i.jsx("div",{className:"min-h-screen bg-background text-text-primary",children:i.jsx(ZS,{children:i.jsx(iT,{children:i.jsxs(bS,{children:[i.jsx(gt,{path:"/",element:i.jsx(Xd,{children:i.jsx(kA,{})})}),i.jsx(gt,{path:"/login",element:i.jsx(Or,{children:i.jsx(qP,{})})}),i.jsx(gt,{path:"/signup",element:i.jsx(Or,{children:i.jsx($P,{})})}),i.jsx(gt,{path:"/verify-email",element:i.jsx(Or,{children:i.jsx(GP,{})})}),i.jsx(gt,{path:"/forgot-password",element:i.jsx(Or,{children:i.jsx(YP,{})})}),i.jsx(gt,{path:"/reset-password",element:i.jsx(Or,{children:i.jsx(VP,{})})}),i.jsx(gt,{path:"/auth/callback",element:i.jsx(Xd,{children:i.jsx(XP,{})})}),i.jsx(gt,{path:"/auth/success",element:i.jsx(Xd,{children:i.jsx(QP,{})})}),i.jsx(gt,{path:"/predict",element:i.jsxs(Rn,{children:[i.jsx(zn,{}),i.jsx(My,{})]})}),i.jsx(gt,{path:"/prediction",element:i.jsxs(Rn,{children:[i.jsx(zn,{}),i.jsx(My,{})]})}),i.jsx(gt,{path:"/disease-prediction",element:i.jsxs(Rn,{children:[i.jsx(zn,{}),i.jsx(nL,{})]})}),i.jsx(gt,{path:"/dashboard",element:i.jsxs(Rn,{children:[i.jsx(zn,{}),i.jsx(pP,{})]})}),i.jsx(gt,{path:"/profile",element:i.jsxs(Rn,{children:[i.jsx(zn,{}),i.jsx(vP,{})]})}),i.jsx(gt,{path:"/prediction/:predictionId",element:i.jsxs(Rn,{children:[i.jsx(zn,{}),i.jsx(NP,{})]})}),i.jsx(gt,{path:"/community",element:i.jsxs(Rn,{children:[i.jsx(zn,{}),i.jsx(eL,{})]})}),i.jsx(gt,{path:"/chat/enhanced",element:i.jsxs(Rn,{children:[i.jsx(zn,{}),i.jsx(zP,{})]})}),i.jsx(gt,{path:"/chat",element:i.jsxs(Rn,{children:[i.jsx(zn,{}),i.jsx(IP,{})]})}),i.jsx(gt,{path:"/market",element:i.jsxs(Rn,{children:[i.jsx(zn,{}),i.jsx(aL,{})]})})," ",i.jsx(gt,{path:"*",element:i.jsx(Rn,{children:i.jsx(lf,{to:"/dashboard",replace:!0})})})]})})})})})}class iL extends Hs.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Error Boundary caught an error:",t,n)}render(){var t;return this.state.hasError?i.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f7fafc",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Arial, sans-serif"},children:i.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",textAlign:"center",maxWidth:"500px"},children:[i.jsx("h1",{style:{color:"#e53e3e",marginBottom:"1rem"},children:" Application Error"}),i.jsx("p",{style:{color:"#4a5568",marginBottom:"1rem"},children:"Something went wrong while loading the application."}),i.jsxs("details",{style:{marginTop:"1rem",textAlign:"left"},children:[i.jsx("summary",{style:{cursor:"pointer",color:"#2d3748"},children:"Click to see error details"}),i.jsx("pre",{style:{backgroundColor:"#f7fafc",padding:"1rem",borderRadius:"4px",fontSize:"0.8rem",overflow:"auto",marginTop:"0.5rem"},children:(t=this.state.error)==null?void 0:t.toString()})]}),i.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",backgroundColor:"#3182ce",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]})}):this.props.children}}C2.createRoot(document.getElementById("root")).render(i.jsx(A.StrictMode,{children:i.jsx(iL,{children:i.jsx(pA,{children:i.jsx(sL,{})})})}));
